{"version":3,"sources":["fileinput.js"],"names":[],"mappings":";;AAAA;;;;;;;;;;AAUC,WAAU,OAAV,EAAmB;AAChB;AACA;;AACA,QAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA3C,EAAgD;AAAE;AAC9C;AACA,eAAO,CAAC,QAAD,CAAP,EAAmB,OAAnB,EAF4C,CAEf;AAChC,KAHD,MAGO;AAAE;AACL,YAAI,QAAO,MAAP,yCAAO,MAAP,OAAkB,QAAlB,IAA8B,OAAO,OAAzC,EAAkD;AAAE;AAChD;AACA;AACA,mBAAO,OAAP,GAAiB,QAAQ,QAAQ,QAAR,CAAR,CAAjB,CAH8C,CAGD;AAChD,SAJD,MAIO;AACH;AACA,oBAAQ,OAAO,MAAf;AACH;AACJ;AACJ,CAhBA,EAgBC,UAAU,CAAV,EAAa;AACX;;AAEA,MAAE,EAAF,CAAK,gBAAL,GAAwB,EAAxB;AACA,MAAE,EAAF,CAAK,eAAL,GAAuB,EAAvB;;AAEA,WAAO,SAAP,CAAiB,SAAjB,GAA6B,UAAU,YAAV,EAAwB;AACjD,YAAI,MAAM,KAAK,QAAL,EAAV;AAAA,YAA2B,GAA3B;AAAA,YAAgC,EAAhC;AACA,aAAK,GAAL,IAAY,YAAZ,EAA0B;AACtB,gBAAI,aAAa,cAAb,CAA4B,GAA5B,CAAJ,EAAsC;AAClC,qBAAK,IAAI,MAAJ,CAAW,OAAO,GAAP,GAAa,IAAxB,EAA8B,GAA9B,CAAL;AACA,sBAAM,IAAI,OAAJ,CAAY,EAAZ,EAAgB,aAAa,GAAb,CAAhB,CAAN;AACH;AACJ;AACD,eAAO,GAAP;AACH,KATD;;AAWA,QAAI,EAAJ,EAAQ,SAAR;;AAEA;AACA;AACA,SAAK;AACD,gBAAQ,mBADP;AAED,kBAAU,eAFT;AAGD,uBAAe,+CACf,iDADe,GAEf,qDAFe,GAGf,2CAHe,GAIf,4CAJe,GAKf,yCARC;AASD,yBAAiB,uCACjB,iEADiB,GAEjB,QAXC;AAYD,kBAAU,kBAZT;AAaD,sBAAc,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,EAA0B,QAA1B,EAAoC,QAApC,CAbb;AAcD,gBAAQ,OAAO,GAAP,IAAc,OAAO,SAd5B;AAeD,iBAAS,iBAAU,KAAV,EAAiB,GAAjB,EAAsB,KAAtB,EAA6B;AAClC,mBAAO,UAAU,SAAV,KAAwB,QAAQ,UAAU,GAAlB,GAAwB,MAAM,KAAN,CAAY,GAAZ,CAAhD,CAAP;AACH,SAjBA;AAkBD,cAAM,cAAU,GAAV,EAAe;AACjB;AACA,gBAAI,UAAU,OAAV,KAAsB,6BAA1B,EAAyD;AACrD,uBAAO,KAAP;AACH;AACD,gBAAI,QAAQ,EAAZ,EAAgB;AACZ,uBAAO,IAAI,MAAJ,CAAW,YAAY,GAAvB,EAA4B,GAA5B,EAAiC,IAAjC,CAAsC,UAAU,SAAhD,CAAP;AACH;AACD,gBAAI,MAAM,SAAS,aAAT,CAAuB,KAAvB,CAAV;AAAA,gBAAyC,MAAzC;AACA,gBAAI,SAAJ,GAAgB,gBAAgB,GAAhB,GAAsB,yBAAtC;AACA,qBAAS,IAAI,oBAAJ,CAAyB,GAAzB,EAA8B,MAAvC;AACA,qBAAS,IAAT,CAAc,WAAd,CAA0B,GAA1B;AACA,gBAAI,UAAJ,CAAe,WAAf,CAA2B,GAA3B;AACA,mBAAO,MAAP;AACH,SAhCA;AAiCD,mBAAW,mBAAU,MAAV,EAAkB;AACzB,gBAAI,QAAQ,EAAE,MAAF,CAAZ;AACA,gBAAI,MAAM,MAAV,EAAkB;AACd,uBAAO,QAAP,CAAgB,KAAhB;AACH;AACJ,SAtCA;AAuCD,iBAAS,iBAAU,KAAV,EAAiB,IAAjB,EAAuB;AAC5B,mBAAO,UAAU,SAAV,IAAuB,UAAU,IAAjC,IAAyC,MAAM,MAAN,KAAiB,CAA1D,IAAgE,QAAQ,EAAE,IAAF,CAAO,KAAP,MAAkB,EAAjG;AACH,SAzCA;AA0CD,iBAAS,iBAAU,CAAV,EAAa;AAClB,mBAAO,MAAM,OAAN,CAAc,CAAd,KAAoB,OAAO,SAAP,CAAiB,QAAjB,CAA0B,IAA1B,CAA+B,CAA/B,MAAsC,gBAAjE;AACH,SA5CA;AA6CD,eAAO,eAAU,MAAV,EAAkB,QAAlB,EAA4B,GAA5B,EAAiC;AACpC,kBAAM,OAAO,EAAb;AACA,mBAAQ,YAAY,QAAO,QAAP,yCAAO,QAAP,OAAoB,QAAhC,IAA4C,UAAU,QAAvD,GAAmE,SAAS,MAAT,CAAnE,GAAsF,GAA7F;AACH,SAhDA;AAiDD,oBAAY,oBAAU,GAAV,EAAe;AACvB,gBAAI,EAAE,eAAe,KAAjB,CAAJ,EAA6B;AACzB,sBAAM,EAAN;AACH;AACD,mBAAO,IAAI,MAAJ,CAAW,UAAU,CAAV,EAAa;AAC3B,uBAAQ,MAAM,SAAN,IAAmB,MAAM,IAAjC;AACH,aAFM,CAAP;AAGH,SAxDA;AAyDD,qBAAa,qBAAU,GAAV,EAAe,KAAf,EAAsB;AAC/B,gBAAI,CAAJ;AAAA,gBAAO,IAAI,CAAX;AAAA,gBAAc,MAAM,EAApB;AACA,gBAAI,EAAE,eAAe,KAAjB,CAAJ,EAA6B;AACzB,uBAAO,EAAP;AACH;AACD,iBAAK,IAAI,CAAT,EAAY,IAAI,IAAI,MAApB,EAA4B,GAA5B,EAAiC;AAC7B,oBAAI,MAAM,KAAV,EAAiB;AACb,wBAAI,CAAJ,IAAS,IAAI,CAAJ,CAAT;AACA;AACH;AACJ;AACD,mBAAO,GAAP;AACH,SArEA;AAsED,gBAAQ,gBAAU,GAAV,EAAe,GAAf,EAAoB;AACxB,kBAAM,OAAO,CAAb;AACA,gBAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AACzB,uBAAO,GAAP;AACH;AACD,gBAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AACzB,sBAAM,WAAW,GAAX,CAAN;AACH;AACD,mBAAO,MAAM,GAAN,IAAa,GAAb,GAAmB,GAA1B;AACH,SA/EA;AAgFD,2BAAmB,6BAAY;AAC3B,mBAAO,CAAC,EAAE,OAAO,IAAP,IAAe,OAAO,UAAxB,CAAR;AACH,SAlFA;AAmFD,4BAAoB,8BAAY;AAC5B,gBAAI,MAAM,SAAS,aAAT,CAAuB,KAAvB,CAAV;AACA;AACA;AACA;AACA,mBAAO,CAAC,GAAG,IAAH,CAAQ,CAAR,CAAD,KACF,IAAI,SAAJ,KAAkB,SAAlB,IAAgC,IAAI,WAAJ,KAAoB,SAApB,IAAiC,IAAI,MAAJ,KAAe,SAD9E,CAAP;AAEH,SA1FA;AA2FD,8BAAsB,gCAAY;AAC9B,mBAAO,GAAG,iBAAH,MAA0B,OAAO,QAAxC;AACH,SA7FA;AA8FD,wBAAgB,0BAAY;AACxB,gBAAI;AACA,uBAAO,CAAC,CAAC,OAAO,IAAT,IAAiB,QAAQ,IAAI,IAAJ,EAAR,CAAxB;AACH,aAFD,CAEE,OAAO,CAAP,EAAU;AACR,uBAAO,KAAP;AACH;AACJ,SApGA;AAqGD,mCAA2B,qCAAY;AACnC,gBAAI;AACA,uBAAO,IAAI,IAAJ,CAAS,CAAC,IAAI,UAAJ,CAAe,GAAf,CAAD,CAAT,EAAgC,IAAhC,KAAyC,GAAhD;AACH,aAFD,CAEE,OAAO,CAAP,EAAU;AACR,uBAAO,KAAP;AACH;AACJ,SA3GA;AA4GD,sBAAc,sBAAU,OAAV,EAAmB;AAC7B;AACA,gBAAI,cAAc,OAAO,WAAP,IAAsB,OAAO,iBAA7B,IAAkD,OAAO,cAAzD,IACd,OAAO,aADX;AAAA,gBAC0B,UAAU,GAAG,cAAH,EADpC;AAAA,gBACyD,OADzD;AAAA,gBACkE,WADlE;AAAA,gBAC+E,QAD/E;AAAA,gBACyF,CADzF;AAAA,gBAC4F,OAD5F;AAAA,gBACqG,EADrG;AAAA,gBAEI,aAAa,CAAC,WAAW,WAAZ,KAA4B,OAAO,IAAnC,IAA2C,OAAO,WAAlD,IAAiE,OAAO,UAFzF;AAGA,gBAAI,CAAC,UAAL,EAAiB;AACb,uBAAO,IAAP;AACH;AACD,gBAAI,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsB,OAAtB,CAA8B,QAA9B,KAA2C,CAA/C,EAAkD;AAC9C,0BAAU,KAAK,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAL,CAAV;AACH,aAFD,MAEO;AACH,0BAAU,mBAAmB,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAnB,CAAV;AACH;AACD,0BAAc,IAAI,WAAJ,CAAgB,QAAQ,MAAxB,CAAd;AACA,uBAAW,IAAI,UAAJ,CAAe,WAAf,CAAX;AACA,iBAAK,IAAI,CAAT,EAAY,IAAI,QAAQ,MAAxB,EAAgC,KAAK,CAArC,EAAwC;AACpC,yBAAS,CAAT,IAAc,QAAQ,UAAR,CAAmB,CAAnB,CAAd;AACH;AACD,sBAAU,QAAQ,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,EAAoC,KAApC,CAA0C,GAA1C,EAA+C,CAA/C,CAAV;AACA,gBAAI,OAAJ,EAAa;AACT,uBAAO,IAAI,IAAJ,CAAS,CAAC,GAAG,yBAAH,KAAiC,QAAjC,GAA4C,WAA7C,CAAT,EAAoE,EAAC,MAAM,OAAP,EAApE,CAAP;AACH;AACD,iBAAK,IAAI,WAAJ,EAAL;AACA,eAAG,MAAH,CAAU,WAAV;AACA,mBAAO,GAAG,OAAH,CAAW,OAAX,CAAP;AACH,SArIA;AAsID,4BAAoB,4BAAU,MAAV,EAAkB;AAClC;AACA,gBAAI,OAAO,WAAX,EAAwB;AACpB;AACA,uBAAO,IAAI,WAAJ,CAAgB,OAAhB,EAAyB,MAAzB,CAAgC,MAAhC,CAAP;AACH;AACD,gBAAI,QAAQ,MAAM,SAAN,CAAgB,KAAhB,CAAsB,KAAtB,CAA4B,IAAI,UAAJ,CAAe,MAAf,CAA5B,CAAZ;AAAA,gBAAiE,MAAM,EAAvE;AAAA,gBAA2E,IAAI,CAA/E;AAAA,gBAAkF,GAAlF;AAAA,gBAAuF,CAAvF;AAAA,gBAA0F,KAA1F;AAAA,gBAAiG,KAAjG;AACA,kBAAM,MAAM,MAAZ;AACA,mBAAO,IAAI,GAAX,EAAgB;AACZ,oBAAI,MAAM,GAAN,CAAJ;AACA,wBAAQ,KAAK,CAAb,GAAkB;AACd,yBAAK,CAAL;AACA,yBAAK,CAAL;AACA,yBAAK,CAAL;AACA,yBAAK,CAAL;AACA,yBAAK,CAAL;AACA,yBAAK,CAAL;AACA,yBAAK,CAAL;AACA,yBAAK,CAAL;AACI;AACA,+BAAO,OAAO,YAAP,CAAoB,CAApB,CAAP;AACA;AACJ,yBAAK,EAAL;AACA,yBAAK,EAAL;AACI;AACA,gCAAQ,MAAM,GAAN,CAAR;AACA,+BAAO,OAAO,YAAP,CAAqB,CAAC,IAAI,IAAL,KAAc,CAAf,GAAqB,QAAQ,IAAjD,CAAP,CAHJ,CAGoE;AAChE;AACJ,yBAAK,EAAL;AACI;AACA,gCAAQ,MAAM,GAAN,CAAR;AACA,gCAAQ,MAAM,GAAN,CAAR;AACA,+BAAO,OAAO,YAAP,CAAqB,CAAC,IAAI,IAAL,KAAc,EAAf,GAAqB;AAC3C,yBAAC,QAAQ,IAAT,KAAkB,CADI,GACE;AACxB,yBAAC,QAAQ,IAAT,KAAkB,CAFhB,CAAP,CAJJ,CAMgC;AAC5B;AAzBR;AA2BH;AACD,mBAAO,GAAP;AACH,SA7KA;AA8KD,gBAAQ,gBAAU,GAAV,EAAe;AACnB,gBAAI,IAAI,SAAS,aAAT,CAAuB,KAAvB,CAAR;AACA,cAAE,SAAF,GAAc,GAAd;AACA,iBAAK,IAAI,IAAI,EAAE,UAAV,EAAsB,IAAI,EAAE,MAAjC,EAAyC,GAAzC,GAA+C;AAC3C,oBAAI,EAAE,CAAF,EAAK,QAAL,KAAkB,CAAtB,EAAyB;AACrB,2BAAO,IAAP;AACH;AACJ;AACD,mBAAO,KAAP;AACH,SAvLA;AAwLD,eAAO,eAAU,GAAV,EAAe;AAClB,mBAAO,IAAI,KAAJ,CAAU,aAAV,MAA6B,IAAI,KAAJ,CAAU,gBAAV,KAA+B,IAAI,KAAJ,CAAU,OAAV,CAA5D,CAAP;AACH,SA1LA;AA2LD,qBAAa,qBAAU,SAAV,EAAqB,QAArB,EAA+B,IAA/B,EAAqC;AAC9C,oBAAQ,SAAR;AACI,qBAAK,UAAL;AACA,qBAAK,UAAL;AACA,qBAAK,UAAL;AACI,2BAAO,YAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,WAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,WAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,YAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,YAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,WAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,WAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,WAAP;AACJ,qBAAK,UAAL;AACA,qBAAK,UAAL;AACI,2BAAO,YAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,WAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,iBAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,gBAAP;AACJ,qBAAK,UAAL;AACA,qBAAK,UAAL;AACA,qBAAK,UAAL;AACI,2BAAO,iBAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,gBAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,iBAAP;AACJ,qBAAK,UAAL;AACI,2BAAO,iBAAP;AACJ;AACI,4BAAQ,UAAU,SAAV,CAAoB,CAApB,EAAuB,CAAvB,CAAR;AACI,6BAAK,QAAL;AACI,mCAAO,+BAAP;AACJ,6BAAK,QAAL;AACI,mCAAO,WAAP;AACJ,6BAAK,QAAL;AACI,mCAAO,kBAAP;AACJ;AACI,oCAAQ,UAAU,SAAV,CAAoB,CAApB,EAAuB,CAAvB,CAAR;AACI,qCAAK,MAAL;AACI,2CAAO,WAAP;AACJ,qCAAK,MAAL;AACI,2CAAO,WAAP;AACJ,qCAAK,MAAL;AACI,2CAAO,iBAAP;AACJ,qCAAK,MAAL;AACA,qCAAK,MAAL;AACI,2CAAO,iBAAP;AACJ,qCAAK,MAAL;AACI,2CAAO,kBAAP;AACJ;AACI,2CAAO,YAAY,CAAC,SAAS,KAAT,CAAe,kBAAf,CAAb,GAAkD,wBAAlD,GAA6E,IAApF;AAbR;AARR;AAvCR;AAgEH,SA5PA;AA6PD,gBAAQ,gBAAU,GAAV,EAAe,GAAf,EAAoB;AACxB,gBAAI,WAAJ,CAAgB,GAAhB,EAAqB,QAArB,CAA8B,GAA9B;AACH,SA/PA;AAgQD,oBAAY,oBAAU,OAAV,EAAmB,KAAnB,EAA0B,KAA1B,EAAiC;AACzC,mBAAQ,GAAG,OAAH,CAAW,OAAX,KAAuB,GAAG,OAAH,CAAW,QAAQ,KAAR,CAAX,CAAxB,GAAsD,KAAtD,GAA8D,EAAE,QAAQ,KAAR,CAAF,CAArE;AACH,SAlQA;AAmQD,gBAAQ,kBAAY;AAChB,mBAAO,KAAK,KAAL,CAAW,IAAI,IAAJ,GAAW,OAAX,EAAX,IAAmC,GAAnC,GAAyC,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,GAA3B,CAAhD;AACH,SArQA;AAsQD,oBAAY,oBAAU,GAAV,EAAe;AACvB,mBAAO,IAAI,OAAJ,CAAY,IAAZ,EAAkB,OAAlB,EACF,OADE,CACM,IADN,EACY,MADZ,EAEF,OAFE,CAEM,IAFN,EAEY,MAFZ,EAGF,OAHE,CAGM,IAHN,EAGY,QAHZ,EAIF,OAJE,CAIM,IAJN,EAIY,QAJZ,CAAP;AAKH,SA5QA;AA6QD,qBAAa,qBAAU,GAAV,EAAe,IAAf,EAAqB;AAC9B,gBAAI,MAAM,GAAV;AACA,gBAAI,CAAC,IAAL,EAAW;AACP,uBAAO,GAAP;AACH;AACD,cAAE,IAAF,CAAO,IAAP,EAAa,UAAU,GAAV,EAAe,KAAf,EAAsB;AAC/B,oBAAI,OAAO,KAAP,KAAiB,UAArB,EAAiC;AAC7B,4BAAQ,OAAR;AACH;AACD,sBAAM,IAAI,KAAJ,CAAU,GAAV,EAAe,IAAf,CAAoB,KAApB,CAAN;AACH,aALD;AAMA,mBAAO,GAAP;AACH,SAzRA;AA0RD,qBAAa,qBAAU,MAAV,EAAkB;AAC3B,gBAAI,OAAO,OAAO,EAAP,CAAU,KAAV,IAAmB,OAAO,IAAP,CAAY,KAAZ,CAAnB,GAAwC,OAAO,IAAP,CAAY,QAAZ,EAAsB,IAAtB,CAA2B,KAA3B,CAAnD;AACA;AACA,eAAG,MAAH,CAAU,eAAV,CAA0B,IAA1B;AACH,SA9RA;AA+RD,sBAAc,sBAAU,QAAV,EAAoB;AAC9B,gBAAI,WAAW,SAAS,WAAT,CAAqB,GAArB,CAAf;AACA,gBAAI,aAAa,CAAC,CAAlB,EAAqB;AACjB,2BAAW,SAAS,WAAT,CAAqB,IAArB,CAAX;AACH;AACD,mBAAO,SAAS,KAAT,CAAe,SAAS,SAAT,CAAmB,QAAnB,EAA6B,WAAW,CAAxC,CAAf,EAA2D,GAA3D,EAAP;AACH,SArSA;AAsSD,yBAAiB,2BAAY;AACzB;AACA,mBAAO,SAAS,iBAAT,IAA8B,SAAS,oBAAvC,IAA+D,SAAS,uBAAxE,IACH,SAAS,mBADb;AAEH,SA1SA;AA2SD,0BAAkB,0BAAU,QAAV,EAAoB;AAClC,gBAAI,MAAM,QAAV;AAAA,gBAAoB,KAAK,IAAI,eAA7B;AACA,gBAAI,MAAM,QAAN,IAAkB,CAAC,GAAG,eAAH,EAAvB,EAA6C;AACzC;AACA;AACA;AACA;AACA;AACA,oBAAI,GAAG,iBAAP,EAA0B;AACtB,uBAAG,iBAAH;AACH,iBAFD,MAEO,IAAI,GAAG,mBAAP,EAA4B;AAC/B,uBAAG,mBAAH;AACH,iBAFM,MAEA,IAAI,GAAG,oBAAP,EAA6B;AAChC,uBAAG,oBAAH;AACH,iBAFM,MAEA,IAAI,GAAG,uBAAP,EAAgC;AACnC,uBAAG,uBAAH,CAA2B,QAAQ,oBAAnC;AACH;AACJ,aAfD,MAeO;AACH;AACA;AACA;AACA;AACA,oBAAI,IAAI,cAAR,EAAwB;AACpB,wBAAI,cAAJ;AACH,iBAFD,MAEO,IAAI,IAAI,gBAAR,EAA0B;AAC7B,wBAAI,gBAAJ;AACH,iBAFM,MAEA,IAAI,IAAI,mBAAR,EAA6B;AAChC,wBAAI,mBAAJ;AACH,iBAFM,MAEA,IAAI,IAAI,oBAAR,EAA8B;AACjC,wBAAI,oBAAJ;AACH;AACJ;AACJ,SA3UA;AA4UD,mBAAW,mBAAU,GAAV,EAAe,QAAf,EAAyB,QAAzB,EAAmC;AAC1C,gBAAI,YAAY,IAAI,MAApB,EAA4B;AACxB,oBAAI,IAAI,WAAW,IAAI,MAAvB;AACA,uBAAQ,GAAD,GAAQ,CAAf,EAAkB;AACd,wBAAI,IAAJ,CAAS,SAAT;AACH;AACJ;AACD,gBAAI,MAAJ,CAAW,QAAX,EAAqB,CAArB,EAAwB,IAAI,MAAJ,CAAW,QAAX,EAAqB,CAArB,EAAwB,CAAxB,CAAxB;AACA,mBAAO,GAAP;AACH,SArVA;AAsVD,wBAAgB,wBAAU,GAAV,EAAe;AAC3B,gBAAI,SAAS,IAAI,OAAJ,CAAY,sBAAZ,CAAb;AACA,gBAAI,CAAC,OAAO,MAAZ,EAAoB;AAChB,yBAAS,IAAI,OAAJ,CAAY,gBAAZ,CAAT;AACH;AACD,mBAAO,MAAP;AACH,SA5VA;AA6VD,wBAAgB,wBAAU,MAAV,EAAkB,QAAlB,EAA4B;AACxC,gBAAI,UAAU,IAAI,QAAJ,CAAa,MAAb,CAAd;AAAA,gBAAoC,MAAM,CAA1C;AAAA,gBAA6C,QAAQ,CAArD;AAAA,gBAAwD;AACpD,oBADJ;AAAA,gBACc,MADd;AAAA,gBACsB,UADtB;AAEA,gBAAI,QAAQ,SAAR,CAAkB,GAAlB,MAA2B,MAA3B,IAAqC,OAAO,MAAP,GAAgB,CAAzD,EAA4D;AAAE;AAC1D,oBAAI,QAAJ,EAAc;AACV;AACH;AACD;AACH;AACD,mBAAO,CAAP;AACA,uBAAW,QAAQ,UAAnB;AACA,mBAAO,MAAM,WAAW,CAAxB,EAA2B;AACvB,yBAAS,QAAQ,SAAR,CAAkB,GAAlB,CAAT;AACA,uBAAO,CAAP;AACA,wBAAQ,MAAR;AACI,yBAAK,MAAL;AAAa;AACT,qCAAa,QAAQ,SAAR,CAAkB,GAAlB,CAAb;AACA,mCAAW,aAAa,GAAxB;AACA,+BAAO,CAAP;AACA;AACJ,yBAAK,MAAL;AAAa;AACT,gCAAQ,QAAQ,SAAR,CAAkB,MAAM,CAAxB,EAA2B,KAA3B,CAAR;AACA,mCAAW,CAAX,CAFJ,CAEkB;AACd;AATR;AAWH;AACD,gBAAI,QAAJ,EAAc;AACV,yBAAS,KAAT;AACH;AACJ,SA1XA;AA2XD,6BAAqB,6BAAU,IAAV,EAAgB,QAAhB,EAA0B;AAC3C,gBAAI,CAAC,OAAO,UAAR,IAAsB,CAAC,OAAO,QAAlC,EAA4C;AACxC,uBADwC,CAChC;AACX;AACD,gBAAI,SAAS,IAAI,UAAJ,EAAb;AAAA,gBAA+B,MAA/B;AACA,mBAAO,SAAP,GAAmB,YAAY;AAC3B,yBAAS,OAAO,MAAhB;AACA,mBAAG,cAAH,CAAkB,MAAlB,EAA0B,QAA1B;AACH,aAHD;AAIA,mBAAO,iBAAP,CAAyB,IAAzB;AACH,SArYA;AAsYD,6BAAqB,6BAAU,IAAV,EAAgB,MAAhB,EAAwB;AACzC,gBAAI,aAAJ,EAAmB,SAAnB,EAA8B,MAA9B;AACA,gBAAI,CAAC,KAAK,QAAL,CAAc,iBAAd,CAAL,EAAuC;AACnC;AACH;AACD,gBAAI,MAAJ,EAAY;AACR,qBAAK,GAAL,CAAS,EAAC,OAAO,KAAK,MAAL,GAAc,MAAd,EAAR,EAAT;AACA;AACH,aAHD,MAGO;AACH,qBAAK,GAAL,CAAS,EAAC,QAAQ,MAAT,EAAiB,OAAO,KAAK,MAAL,EAAxB,EAAT;AACH;AACD,4BAAgB,KAAK,MAAL,GAAc,MAAd,GAAuB,GAAvC;AACA,wBAAY,KAAK,MAAL,GAAc,GAA1B;AACA,qBAAS,gBAAgB,SAAzB;AACA,iBAAK,GAAL,CAAS,YAAT,EAAuB,MAAvB;AACH,SArZA;AAsZD,qBAAa,qBAAU,GAAV,EAAe;AACxB,kBAAM,MAAM,WAAW,GAAjB,GAAuB,OAA7B;AACA,mBAAO,kCAAkC,GAAlC,GAAwC,yBAAxC,GACH,6CADG,GAEH,WAFJ;AAGH;AA3ZA,KAAL;AA6ZA,gBAAY,mBAAU,OAAV,EAAmB,OAAnB,EAA4B;AACpC,YAAI,OAAO,IAAX;AACA,aAAK,QAAL,GAAgB,EAAE,OAAF,CAAhB;AACA,aAAK,OAAL,GAAe,KAAK,QAAL,CAAc,MAAd,EAAf;AACA,YAAI,CAAC,KAAK,SAAL,EAAL,EAAuB;AACnB;AACH;AACD,aAAK,aAAL,GAAqB,GAAG,iBAAH,EAArB;AACA,aAAK,KAAL,GAAa,GAAG,IAAH,CAAQ,CAAR,CAAb;AACA,aAAK,MAAL,GAAc,GAAG,IAAH,CAAQ,EAAR,CAAd;AACA,YAAI,KAAK,aAAL,IAAsB,KAAK,KAA/B,EAAsC;AAClC,iBAAK,KAAL,CAAW,OAAX;AACA,iBAAK,OAAL;AACH;AACD,aAAK,QAAL,CAAc,WAAd,CAA0B,cAA1B;AACH,KAfD;AAgBA;AACA,cAAU,SAAV,GAAsB;AAClB,qBAAa,SADK;AAElB,kBAAU,oBAAY;AAClB,gBAAI,OAAO,IAAX;AACA,iBAAK,MAAL,GAAc,IAAd;AACA,iBAAK,QAAL,GAAgB,EAAhB;AACA,iBAAK,WAAL,GAAmB,CAAnB;AACA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,SAAL,GAAiB,EAAjB;AACA,iBAAK,gBAAL,GAAwB,CAAxB;AACA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,gBAAL,GAAwB,CAAxB;AACA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,UAAL;AACA,iBAAK,gBAAL,GAAwB,KAAxB;AACA,iBAAK,kBAAL,GAA0B,IAA1B;AACA,gBAAI,CAAC,KAAK,aAAV,EAAyB;AACrB,qBAAK,WAAL,GAAmB,KAAnB;AACH;AACD,iBAAK,OAAL,GAAe,KAAf;AACA,iBAAK,WAAL,GAAmB,KAAnB;AACA,iBAAK,UAAL,GAAkB,KAAlB;AACH,SAtBiB;AAuBlB,eAAO,eAAU,OAAV,EAAmB,WAAnB,EAAgC;AACnC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,CAAjB;AAAA,gBAAoB,MAAM,KAAK,QAA/B;AAAA,gBAAyC,KAAzC;AAAA,gBAAgD,CAAhD;AAAA,gBAAmD,GAAnD;AACA,iBAAK,OAAL,GAAe,OAAf;AACA,cAAE,IAAF,CAAO,OAAP,EAAgB,UAAU,GAAV,EAAe,KAAf,EAAsB;AAClC,wBAAQ,GAAR;AACI,yBAAK,cAAL;AACA,yBAAK,cAAL;AACA,yBAAK,aAAL;AACA,yBAAK,aAAL;AACA,yBAAK,oBAAL;AACA,yBAAK,oBAAL;AACA,yBAAK,sBAAL;AACA,yBAAK,yBAAL;AACA,yBAAK,qBAAL;AACA,yBAAK,iBAAL;AACA,yBAAK,gBAAL;AACA,yBAAK,gBAAL;AACA,yBAAK,eAAL;AACA,yBAAK,eAAL;AACI,6BAAK,GAAL,IAAY,GAAG,MAAH,CAAU,KAAV,CAAZ;AACA;AACJ;AACI,6BAAK,GAAL,IAAY,KAAZ;AACA;AAnBR;AAqBH,aAtBD;AAuBA,gBAAI,KAAK,GAAT,EAAc;AAAE;AACZ,sBAAM,KAAK,sBAAL,CAA4B,IAAlC;AACA,qBAAK,sBAAL,CAA4B,IAA5B,GAAmC,KAAK,sBAAL,CAA4B,IAA/D;AACA,qBAAK,sBAAL,CAA4B,IAA5B,GAAmC,GAAnC;AACH;AACD,gBAAI,CAAC,WAAL,EAAkB;AACd,qBAAK,QAAL;AACH;AACD,iBAAK,KAAL,GAAa,IAAI,OAAJ,CAAY,MAAZ,CAAb;AACA,iBAAK,qBAAL;AACA,iBAAK,cAAL,GAAsB,CAAC,GAAG,OAAH,CAAW,IAAI,IAAJ,CAAS,MAAT,CAAX,CAAD,GAAgC,IAAI,IAAJ,CAAS,MAAT,CAAhC,GAAmD,WAAzE;AACA,gBAAI,KAAK,kBAAL,CAAwB,UAAxB,CAAJ;AACA,iBAAK,gBAAL,GAAwB,EAAE,OAAF,CAAU,SAAV,EAAqB,KAAK,aAA1B,CAAxB;AACA,iBAAK,wBAAL,GAAgC,EAAE,OAAF,CAAU,SAAV,EAAqB,KAAK,qBAA1B,CAAhC;AACA,iBAAK,qBAAL,GAA6B,EAAE,OAAF,CAAU,SAAV,EAAqB,KAAK,kBAA1B,CAA7B;AACA,iBAAK,eAAL,GAAuB,GAAG,kBAAH,MAA2B,KAAK,eAAvD;AACA,iBAAK,UAAL,GAAkB,IAAI,IAAJ,CAAS,UAAT,KAAwB,IAAI,IAAJ,CAAS,UAAT,CAA1C;AACA,gBAAI,KAAK,UAAT,EAAqB;AACjB,oBAAI,IAAJ,CAAS,UAAT,EAAqB,IAArB;AACH;AACD,iBAAK,YAAL,GAAoB,GAAG,oBAAH,MAA6B,CAAC,GAAG,OAAH,CAAW,KAAK,SAAhB,CAAlD;AACA,iBAAK,WAAL,GAAmB,KAAK,iBAAL,IAA0B,KAAK,WAA/B,KACd,KAAK,YAAL,IAAqB,KAAK,eAA1B,IAA6C,CAAC,GAAG,OAAH,CAAW,KAAK,qBAAhB,CADhC,CAAnB;AAEA,iBAAK,IAAL,GAAY,OAAO,QAAQ,YAAf,KAAgC,UAAhC,GAA6C,QAAQ,YAArD,GAAoE,KAAK,YAArF;AACA,iBAAK,YAAL,GAAoB,KAAK,WAAL,GAAmB,KAAK,kBAAL,CAAwB,OAAxB,CAAnB,GAAsD,KAAK,kBAAL,CAAwB,OAAxB,CAA1E;AACA,iBAAK,eAAL,GAAuB,KAAK,kBAAL,CAAwB,SAAxB,CAAvB;AACA,iBAAK,sBAAL,GAA8B,KAAK,mBAAL,CAAyB,SAAzB,CAA9B;AACA,gBAAI,CAAC,KAAK,WAAN,IAAqB,KAAK,WAA1B,KAA0C,KAAK,aAAL,IAAsB,KAAK,cAArE,CAAJ,EAA0F;AACtF,qBAAK,WAAL,GAAmB,SAAS,aAAT,CAAuB,QAAvB,CAAnB;AACA,qBAAK,kBAAL,GAA0B,KAAK,WAAL,CAAiB,UAAjB,CAA4B,IAA5B,CAA1B;AACH;AACD,gBAAI,GAAG,OAAH,CAAW,IAAI,IAAJ,CAAS,IAAT,CAAX,CAAJ,EAAgC;AAC5B,oBAAI,IAAJ,CAAS,IAAT,EAAe,GAAG,MAAH,EAAf;AACH;AACD,iBAAK,SAAL,GAAiB,gBAAgB,IAAI,IAAJ,CAAS,IAAT,EAAe,OAAf,CAAuB,IAAvB,EAA6B,GAA7B,CAAjC;AACA,gBAAI,KAAK,UAAL,KAAoB,SAAxB,EAAmC;AAC/B,qBAAK,UAAL,GAAkB,KAAK,gBAAL,EAAlB;AACH,aAFD,MAEO;AACH,qBAAK,iBAAL;AACH;AACD,oBAAQ,KAAK,UAAb;AACA,iBAAK,SAAL,GAAiB,MAAM,IAAN,CAAW,iBAAX,CAAjB;AACA,iBAAK,SAAL,GAAiB,MAAM,IAAN,CAAW,qBAAX,CAAjB;AACA,iBAAK,UAAL,GAAkB,MAAM,IAAN,CAAW,mBAAX,CAAlB;AACA,iBAAK,iBAAL,GAAyB,GAAG,UAAH,CAAc,OAAd,EAAuB,oBAAvB,EAA6C,MAAM,IAAN,CAAW,eAAX,CAA7C,CAAzB;AACA,iBAAK,QAAL,GAAgB,GAAG,UAAH,CAAc,OAAd,EAAuB,eAAvB,EAAwC,MAAM,IAAN,CAAW,oBAAX,CAAxC,CAAhB;AACA,gBAAI,CAAC,GAAG,OAAH,CAAW,KAAK,cAAhB,CAAL,EAAsC;AAClC,oBAAI,IAAI,IAAJ,CAAS,UAAT,IAAuB,KAAK,UAA5B,GAAyC,KAAK,UAAlD;AACA,qBAAK,QAAL,CAAc,IAAd,CAAmB,aAAnB,EAAkC,KAAK,cAAL,CAAoB,OAApB,CAA4B,SAA5B,EAAuC,CAAvC,CAAlC;AACH;AACD,iBAAK,YAAL,GAAoB,KAAK,iBAAL,CAAuB,IAAvB,CAA4B,oBAA5B,CAApB;AACA,gBAAI,KAAK,SAAL,CAAe,OAAf,CAAuB,gBAAvB,IAA2C,CAAC,CAAhD,EAAmD;AAC/C,mBAAG,MAAH,CAAU,KAAK,YAAf,EAA6B,SAA7B;AACH,aAFD,MAEO;AACH,qBAAK,YAAL,CAAkB,WAAlB,CAA8B,SAA9B;AACH;AACD,iBAAK,iBAAL,GAAyB,GAAG,UAAH,CAAc,OAAd,EAAuB,oBAAvB,EAA6C,MAAM,IAAN,CAAW,eAAX,CAA7C,CAAzB;AACA,iBAAK,QAAL,GAAgB,GAAG,UAAH,CAAc,OAAd,EAAuB,gBAAvB,EAAyC,MAAM,IAAN,CAAW,0BAAX,CAAzC,CAAhB;AACA,iBAAK,cAAL,GAAsB,GAAG,UAAH,CAAc,OAAd,EAAuB,iBAAvB,EAA0C,MAAM,IAAN,CAAW,sBAAX,CAA1C,CAAtB;AACA,iBAAK,eAAL,GAAuB,GAAG,UAAH,CAAc,OAAd,EAAuB,kBAAvB,EAA2C,KAAK,iBAAL,CAAuB,IAAvB,CAA4B,qBAA5B,CAA3C,CAAvB;AACA,iBAAK,iBAAL;AACA,gBAAI,CAAC,GAAG,OAAH,CAAW,KAAK,aAAhB,CAAL,EAAqC;AACjC,mBAAG,MAAH,CAAU,KAAK,eAAf,EAAgC,KAAK,aAArC;AACH;AACD,gBAAI,CAAC,WAAL,EAAkB;AACd,qBAAK,eAAL,CAAqB,IAArB;AACA,qBAAK,aAAL,GAAqB,aAAa,GAAG,MAAH,EAAlC;AACA,qBAAK,iBAAL;AACA,qBAAK,YAAL,CAAkB,IAAlB;AACA,qBAAK,mBAAL;AACA,qBAAK,qBAAL;AACA,oBAAI,KAAK,OAAL,CAAa,QAAb,CAAsB,cAAtB,CAAJ,EAA2C;AACvC,yBAAK,UAAL,CAAgB,YAAhB,CAA6B,KAAK,OAAlC;AACA,yBAAK,OAAL,CAAa,MAAb;AACH;AACJ;AACD,gBAAI,IAAI,IAAJ,CAAS,UAAT,CAAJ,EAA0B;AACtB,qBAAK,OAAL;AACH;AACD,iBAAK,SAAL;AACA,gBAAI,KAAK,oBAAT,EAA+B;AAC3B,mBAAG,MAAH,CAAU,KAAK,QAAf,EAAyB,cAAzB;AACH;AACJ,SApIiB;AAqIlB,+BAAuB,iCAAY;AAC/B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAjB;AAAA,gBAAyB,MAAzB;AAAA,gBAAiC,QAAjC;AAAA,gBAA2C,SAA3C;AAAA,gBAAsD,MAAtD;AAAA,gBAA8D,QAA9D;AAAA,gBAAwE,WAAxE;AAAA,gBAAqF,QAArF;AAAA,gBAA+F,UAA/F;AAAA,gBACI,UADJ;AAAA,gBACgB,MADhB;AAAA,gBACwB,SADxB;AAAA,gBACmC,KADnC;AAAA,gBAC0C,OAD1C;AAAA,gBACmD,QADnD;AAAA,gBAC6D,aAD7D;AAAA,gBAC4E,aAD5E;AAAA,gBAC2F,eAD3F;AAAA,gBAEI,WAFJ;AAAA,gBAEiB,WAFjB;AAAA,gBAE8B,UAF9B;AAAA,gBAE0C,OAF1C;AAAA,gBAEmD,QAFnD;AAAA,gBAE6D,QAF7D;AAAA,gBAEuE,OAFvE;AAAA,gBAEgF,QAFhF;AAAA,gBAE0F,KAF1F;AAAA,gBAEiG,MAFjG;AAAA,gBAGI,KAHJ;AAAA,gBAGW,OAHX;AAAA,gBAGoB,MAHpB;AAAA,gBAG4B,MAH5B;AAAA,gBAGoC,MAHpC;AAAA,gBAG4C,OAH5C;AAAA,gBAGqD,IAHrD;AAAA,gBAG2D,MAH3D;AAAA,gBAGmE,UAHnE;AAAA,gBAG+E,WAH/E;AAIA,qBAAS,gBACL,gFADK,GAEL,qCAFK,GAGL,eAHK,GAIL,iCAJK,GAKL,kBALK,GAML,kBANK,GAOL,kBAPK,GAQL,kBARK,GASL,cATK,GAUL,QAVJ;AAWA,qBAAS,qIAAT;AACA,uBAAW,yCACP,aADO,GAEP,iCAFO,GAGP,6CAHO,GAIP,cAJO,GAKP,kCALO,GAMP,wEANO,GAOP,8CAPO,GAQP,cARO,GASP,QATJ;AAUA,qBAAS,GAAG,WAAH,CAAe,kBAAf,CAAT;AACA,wBAAY,0CAAZ;AACA,uBAAW,qEACP,6CADO,GAEP,yFAFO,GAGP,QAHJ;AAIA;AACA,0BAAc,wEACV,kCADJ;AAEA;AACA,uBAAW,2FAAX;AACA;AACA,yBAAa,iEAAb;AACA,yBAAa,cAAc,GAAG,QAAjB,GAA4B,wCAA5B,GACT,iCADS,GAC2B,GAAG,QAD9B,GACyC,eADtD;AAEA,qBAAS,+DACL,iCADK,GAEL,kCAFK,GAGL,gDAHK,GAIL,6CAJK,GAKL,0FALK,GAML,cANK,GAOL,gCAPK,GAQL,8CARK,GASL,6EATK,GAS2E,iBAT3E,GAUL,cAVK,GAWL,YAXK,GAYL,UAZJ;AAaA,wBAAY,6BACR,6CADQ,GAER,+FAFQ,GAGR,oBAHQ,GAIR,eAJQ,GAKR,QALJ;AAMA,oBAAQ,4BAAR;AACA,sBAAU,0CACN,2DADM,GAEN,0DAFM,GAGN,oDAHM,GAIN,cAJM,GAKN,0CALM,GAMN,QANJ;AAOA,uBAAW,iCACP,yCADO,GAEP,qDAFO,GAGP,cAHO,GAIP,UAJO,GAKP,UALO,GAMP,8BANJ;AAOA;AACA,4BAAgB,gEACZ,kEADJ;AAEA,4BAAgB,sFACZ,uBADJ;AAEA,8BAAkB,4FACd,2EADJ;AAEA,0BAAc,4DACV,yCADJ;AAEA,0BAAc,kFAAd;AACA,yBAAa,+EAAb;AACA,sBAAU,+FACN,6BADJ;AAEA,uBAAW,UAAU,kCAArB;AACA,uBAAW,UAAU,oDAArB;AACA,sBAAU,0BAAV;AACA,uBAAW,aAAX;AACA,oBAAQ,yFAAR;AACA,qBAAS,oFACL,4BADJ;AAEA,oBAAQ,4FACJ,qBADJ;AAEA,sBAAU,yDACN,gFADJ;AAEA,qBAAS,0EACL,uCADK,GACqC,GAAG,eADxC,GAC0D,cADnE;AAEA,qBAAS,+FACL,kBADK,GACgB,GAAG,eADnB,GACqC,cAD9C;AAEA,qBAAS,gHAAT;AACA,mBAAO,gGAAP;AACA,sBAAU,+EACN,wCADM,GACqC,4CADrC,GAEN,GAAG,aAFG,GAEa,GAFb,GAEmB,GAAG,eAFtB,GAEwC,eAFlD;AAGA,qBAAS,qEAAqE,GAAG,eAAxE,GAA0F,YAAnG;AACA,yBAAa,qEAAb;AACA,0BAAc,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,cAAc,OAA9C,EAAd;AACA,iBAAK,QAAL,GAAgB;AACZ,iCAAiB;AACb,2BAAO,MADM;AAEb,2BAAO,MAFM;AAGb,6BAAS,QAHI;AAIb,2BAAO,MAJM;AAKb,8BAAU,SALG;AAMb,6BAAS,QANI;AAOb,+BAAW,UAPE;AAQb,2BAAO,MARM;AASb,8BAAU,SATG;AAUb,0BAAM,KAVO;AAWb,4BAAQ,OAXK;AAYb,+BAAW,UAZE;AAab,6BAAS,QAbI;AAcb,kCAAc,aAdD;AAeb,kCAAc,aAfD;AAgBb,oCAAgB,eAhBH;AAiBb,gCAAY,WAjBC;AAkBb,gCAAY,WAlBC;AAmBb,gCAAY,WAnBC;AAoBb,6BAAS,QApBI;AAqBb,+BAAW,UArBE;AAsBb,+BAAW;AAtBE,iBADL;AAyBZ,mCAAmB;AACf,gCAAY,QADG;AAEf,gCAAY,QAFG;AAGf,8BAAU;AAHK,iBAzBP;AA8BZ,yCAAyB;AACrB,6BAAS,QADY;AAErB,0BAAM,KAFe;AAGrB,2BAAO,MAHc;AAIrB,0BAAM,KAJe;AAKrB,4BAAQ,OALa;AAMrB,2BAAO,MANc;AAOrB,2BAAO,MAPc;AAQrB,2BAAO,MARc;AASrB,4BAAQ,OATa;AAUrB,yBAAK,IAVgB;AAWrB,2BAAO;AAXc,iBA9Bb;AA2CZ,qCAAqB,CAAC,OAAD,EAAU,MAAV,EAAkB,MAAlB,EAA0B,OAA1B,EAAmC,OAAnC,EAA4C,OAA5C,EAAqD,KAArD,EAA4D,QAA5D,CA3CT;AA4CZ,kCAAkB,EA5CN;AA6CZ,iCAAiB;AACb,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,aAAa,MAA7C,EAAqD,cAAc,MAAnE,EADM;AAEb,0BAAM,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB,EAFO;AAGb,0BAAM,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB,EAHO;AAIb,4BAAQ,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB,EAJK;AAKb,2BAAO,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB,EALM;AAMb,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EANM;AAOb,2BAAO,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB,EAPM;AAQb,4BAAQ,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB,EARK;AASb,yBAAK,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB,EATQ;AAUb,2BAAO,EAAC,OAAO,OAAR,EAAiB,QAAQ,OAAzB;AAVM,iBA7CL;AAyDZ,sCAAsB;AAClB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,aAAa,MAA7C,EAAqD,cAAc,MAAnE,EADW;AAElB,0BAAM,EAAC,OAAO,MAAR,EAAgB,QAAQ,OAAxB,EAFY;AAGlB,0BAAM,EAAC,OAAO,MAAR,EAAgB,QAAQ,OAAxB,EAHY;AAIlB,4BAAQ,EAAC,OAAO,MAAR,EAAgB,QAAQ,OAAxB,EAJU;AAKlB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EALW;AAMlB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EANW;AAOlB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAPW;AAQlB,4BAAQ,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EARU;AASlB,yBAAK,EAAC,OAAO,MAAR,EAAgB,QAAQ,OAAxB,EATa;AAUlB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,OAAxB;AAVW,iBAzDV;AAqEZ,qCAAqB;AACjB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,aAAa,MAA7C,EAAqD,cAAc,MAAnE,EADU;AAEjB,0BAAM,WAFW;AAGjB,0BAAM,WAHW;AAIjB,4BAAQ,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,aAAa,MAA7C,EAAqD,cAAc,OAAnE,EAJS;AAKjB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,aAAa,MAA7C,EALU;AAMjB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EANU;AAOjB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,OAAxB,EAPU;AAQjB,4BAAQ,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,aAAa,MAA7C,EAAqD,cAAc,OAAnE,EARS;AASjB,yBAAK,WATY;AAUjB,2BAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,cAAc,OAA9C;AAVU,iBArET;AAiFZ,kCAAkB;AACd,2BAAO,eAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC3B,+BAAQ,GAAG,OAAH,CAAW,KAAX,EAAkB,SAAlB,KAAgC,CAAC,GAAG,OAAH,CAAW,KAAX,EAAkB,eAAlB,CAAjC,IACJ,GAAG,OAAH,CAAW,KAAX,EAAkB,qBAAlB,CADJ;AAEH,qBAJa;AAKd,0BAAM,cAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC1B,+BAAO,GAAG,OAAH,CAAW,KAAX,EAAkB,WAAlB,KAAkC,GAAG,OAAH,CAAW,KAAX,EAAkB,gBAAlB,CAAzC;AACH,qBAPa;AAQd,4BAAQ,gBAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC5B,+BAAO,GAAG,OAAH,CAAW,KAAX,EAAkB,oDAAlB,KACH,GAAG,OAAH,CAAW,KAAX,EAAkB,+EAAlB,CADJ;AAEH,qBAXa;AAYd,0BAAM,cAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC1B,+BAAO,GAAG,OAAH,CAAW,KAAX,EAAkB,QAAlB,KAA+B,GAAG,OAAH,CAAW,KAAX,EAAkB,sBAAlB,CAA/B,IACH,GAAG,OAAH,CAAW,KAAX,EAAkB,0CAAlB,CADJ;AAEH,qBAfa;AAgBd,2BAAO,eAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC3B,+BAAO,GAAG,OAAH,CAAW,KAAX,EAAkB,SAAlB,MAAiC,GAAG,OAAH,CAAW,KAAX,EAAkB,+BAAlB,KACpC,GAAG,OAAH,CAAW,KAAX,EAAkB,iCAAlB,CADG,CAAP;AAEH,qBAnBa;AAoBd,2BAAO,eAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC3B,+BAAO,GAAG,OAAH,CAAW,KAAX,EAAkB,SAAlB,MAAiC,GAAG,OAAH,CAAW,KAAX,EAAkB,sBAAlB,KACpC,GAAG,OAAH,CAAW,KAAX,EAAkB,wBAAlB,CADG,CAAP;AAEH,qBAvBa;AAwBd,2BAAO,eAAU,KAAV,EAAiB,KAAjB,EAAwB;AAC3B,+BAAO,GAAG,OAAH,CAAW,KAAX,EAAkB,+BAAlB,EAAmD,IAAnD,KAA4D,GAAG,OAAH,CAAW,KAAX,EAAkB,WAAlB,CAAnE;AACH,qBA1Ba;AA2Bd,yBAAK,aAAU,KAAV,EAAiB,KAAjB,EAAwB;AACzB,+BAAO,GAAG,OAAH,CAAW,KAAX,EAAkB,iBAAlB,EAAqC,IAArC,KAA8C,GAAG,OAAH,CAAW,KAAX,EAAkB,WAAlB,CAArD;AACH,qBA7Ba;AA8Bd,4BAAQ,kBAAY;AAChB,+BAAO,IAAP;AACH,qBAhCa;AAiCd,2BAAO,iBAAY;AACf,+BAAO,IAAP;AACH;AAnCa,iBAjFN;AAsHZ,oCAAoB;AAChB,gCAAY,IADI;AAEhB,gCAAY,IAFI;AAGhB,kCAAc,IAHE;AAIhB,8BAAU,IAJM;AAKhB,8BAAU,IALM;AAMhB,gCAAY,2CANI;AAOhB,iCAAa,8CAPG;AAQhB,sCAAkB,uBARF;AAShB,iCAAa,aATG;AAUhB,gCAAY,4CAVI;AAWhB,iCAAa,8CAXG;AAYhB,iCAAa,aAZG;AAahB,qCAAiB,4CAbD;AAchB,sCAAkB,cAdF;AAehB,kCAAc,8CAfE;AAgBhB,mCAAe,8CAhBC;AAiBhB,mCAAe,eAjBC;AAkBhB,8BAAU,6CAlBM;AAmBhB,+BAAW,8CAnBK;AAoBhB,+BAAW,cApBK;AAqBhB,8BAAU,0CArBM;AAsBhB,+BAAW,WAtBK;AAuBhB,+BAAW,kBAvBK;AAwBhB,kCAAc,EAxBE;AAyBhB,kCAAc,4DAzBE;AA0BhB,sCAAkB,0DA1BF;AA2BhB,oCAAgB,kEA3BA;AA4BhB,sCAAkB,0DA5BF;AA6BhB,uCAAmB,kBA7BH;AA8BhB,2CAAuB,UA9BP;AA+BhB,yCAAqB,cA/BL;AAgChB,2CAAuB;AAhCP;AAtHR,aAAhB;AAyJA,cAAE,IAAF,CAAO,KAAK,QAAZ,EAAsB,UAAU,GAAV,EAAe,OAAf,EAAwB;AAC1C,oBAAI,QAAQ,qBAAZ,EAAmC;AAC/B,wBAAI,KAAK,mBAAL,KAA6B,SAAjC,EAA4C;AACxC,6BAAK,mBAAL,GAA2B,OAA3B;AACH;AACD;AACH;AACD,qBAAK,GAAL,IAAY,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,OAAnB,EAA4B,KAAK,GAAL,CAA5B,CAAZ;AACH,aARD;AASA,iBAAK,qBAAL;AACH,SAxZiB;AAyZlB,+BAAuB,iCAAY;AAC/B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AAAA,gBAAsC,OAAO,KAAK,iBAAlD;AAAA,gBAAqE,MAArE;AAAA,gBAA6E,SAAS,KAAK,QAA3F;AACA,cAAE,IAAF,CAAO,IAAI,uBAAX,EAAoC,UAAU,GAAV,EAAe,KAAf,EAAsB;AACtD,oBAAI,GAAG,OAAH,CAAW,KAAK,gBAAL,CAAsB,GAAtB,CAAX,CAAJ,EAA4C;AACxC,6BAAS,KAAK,UAAd;AACA,wBAAI,QAAQ,SAAR,IAAqB,QAAQ,OAA7B,IAAwC,QAAQ,MAAhD,IAA0D,QAAQ,MAAtE,EAA8E;AAC1E,iCAAS,KAAK,UAAd;AACH;AACD,yBAAK,gBAAL,CAAsB,GAAtB,IAA6B,SAAS,KAAT,GAAiB,MAA9C;AACH;AACJ,aARD;AASH,SApaiB;AAqalB,2BAAmB,6BAAY;AAC3B,gBAAI,OAAO,IAAX;AACA,iBAAK,YAAL,GAAoB;AAChB,sBAAM,EADU;AAEhB,sBAAM,gBAAY;AACd,wBAAI,UAAU,KAAK,cAAnB;AACA,wBAAI,QAAQ,MAAR,GAAiB,CAAjB,IAAsB,CAAC,GAAG,OAAH,CAAW,OAAX,CAA3B,EAAgD;AAC5C,kCAAU,QAAQ,KAAR,CAAc,KAAK,uBAAnB,CAAV;AACH;AACD,yBAAK,YAAL,CAAkB,IAAlB,GAAyB;AACrB,iCAAS,OADY;AAErB,gCAAQ,KAAK,oBAFQ;AAGrB,8BAAM,KAAK;AAHU,qBAAzB;AAKH,iBAZe;AAahB,uBAAO,iBAAY;AACf,2BAAO,CAAC,CAAC,KAAK,YAAL,CAAkB,IAApB,IAA4B,CAAC,CAAC,KAAK,YAAL,CAAkB,IAAlB,CAAuB,OAArD,GACH,KAAK,YAAL,CAAkB,IAAlB,CAAuB,OAAvB,CAA+B,MAD5B,GACqC,CAD5C;AAEH,iBAhBe;AAiBhB,qBAAK,aAAU,CAAV,EAAa,UAAb,EAAyB;AAC1B,wBAAI,MAAM,UAAU,CAApB;AAAA,wBAAuB,OAAO,KAAK,YAAL,CAAkB,IAAhD;AAAA,wBAAsD,SAAS,KAAK,MAAL,CAAY,CAAZ,CAA/D;AAAA,wBACI,UAAU,KAAK,OAAL,CAAa,CAAb,CADd;AAAA,wBAC+B,YAAY,KAAK,aAAL,GAAqB,GAArB,GAA2B,GADtE;AAAA,wBAC2E,GAD3E;AAAA,wBACgF,IADhF;AAAA,wBACsF,GADtF;AAAA,wBAC2F,GAD3F;AAAA,wBAEI,KAFJ;AAAA,wBAEW,KAFX;AAAA,wBAEkB,UAFlB;AAAA,wBAE8B,SAAS,GAAG,KAAH,CAAS,eAAT,EAA0B,MAA1B,EAAkC,KAAK,oBAAvC,CAFvC;AAAA,wBAGI,gBAAgB,SAAhB,aAAgB,CAAU,GAAV,EAAe,GAAf,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,GAAhC,EAAqC,GAArC,EAA0C,EAA1C,EAA8C,CAA9C,EAAiD;AAC7D,6BAAK,2BAA2B,GAAG,QAA9B,IAA0C,KAAK,MAAM,EAAX,GAAgB,EAA1D,CAAL;AACA,+BAAO,KAAK,wBAAL,CAA8B,GAA9B,EAAmC,GAAnC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,EAAoD,KAApD,EAA2D,IAA3D,EAAiE,EAAjE,EAAqE,GAArE,EAA0E,GAA1E,EAA+E,CAA/E,CAAP;AACH,qBANL;AAOA,wBAAI,CAAC,OAAL,EAAc;AACV,+BAAO,EAAP;AACH;AACD,iCAAa,eAAe,SAAf,GAA2B,IAA3B,GAAkC,UAA/C;AACA,0BAAM,GAAG,KAAH,CAAS,MAAT,EAAiB,MAAjB,EAAyB,KAAK,sBAAL,IAA+B,SAAxD,CAAN;AACA,4BAAQ,GAAG,KAAH,CAAS,UAAT,EAAqB,MAArB,EAA6B,GAAG,KAAH,CAAS,SAAT,EAAoB,MAApB,CAA7B,CAAR;AACA,4BAAQ,GAAG,KAAH,CAAS,UAAT,EAAqB,MAArB,EAA6B,GAA7B,CAAR;AACA,0BAAM,KAAK,YAAL,CAAkB,MAAlB,CAAyB,CAAzB,EAA4B,UAA5B,EAAyC,UAAU,OAAO,IAAjB,IAAyB,IAAlE,CAAN;AACA,iCAAa,GAAG,KAAH,CAAS,YAAT,EAAuB,MAAvB,CAAb;AACA,wBAAI,MAAJ,EAAY;AACR,8BAAM,cAAc,GAAd,EAAmB,OAAnB,EAA4B,KAA5B,EAAmC,KAAnC,EAA0C,SAA1C,EAAqD,GAArD,EAA0D,GAA1D,EAA+D,UAA/D,CAAN;AACH,qBAFD,MAEO;AACH,8BAAM,cAAc,SAAd,EAAyB,OAAzB,EAAkC,KAAlC,EAAyC,KAAzC,EAAgD,SAAhD,EAA2D,GAA3D,EAAgE,GAAhE,EAAqE,UAArE,EAAiF,GAAjF,EACD,SADC,CACS,EAAC,WAAW,KAAK,OAAL,CAAa,CAAb,CAAZ,EADT,CAAN;AAEH;AACD,wBAAI,KAAK,IAAL,CAAU,MAAV,IAAoB,KAAK,IAAL,CAAU,CAAV,CAAxB,EAAsC;AAClC,8BAAM,GAAG,WAAH,CAAe,GAAf,EAAoB,KAAK,IAAL,CAAU,CAAV,CAApB,CAAN;AACH;AACD;AACA,wBAAI,CAAC,GAAG,OAAH,CAAW,MAAX,CAAD,IAAuB,CAAC,GAAG,OAAH,CAAW,OAAO,SAAlB,CAA5B,EAA0D;AACtD,+BAAO,EAAE,SAAS,aAAT,CAAuB,KAAvB,CAAF,EAAiC,IAAjC,CAAsC,GAAtC,CAAP;AACA,6BAAK,IAAL,CAAU,uBAAV,EAAmC,IAAnC,CAAwC,OAAO,SAA/C;AACA,8BAAM,KAAK,IAAL,EAAN;AACA,6BAAK,MAAL;AACH;AACD,2BAAO,GAAP;AACH,iBAnDe;AAoDhB,qBAAK,aAAU,OAAV,EAAmB,MAAnB,EAA2B,IAA3B,EAAiC,MAAjC,EAAyC;AAC1C,wBAAI,OAAO,KAAK,YAAL,CAAkB,IAA7B;AAAA,wBAAmC,KAAnC;AACA,wBAAI,CAAC,GAAG,OAAH,CAAW,OAAX,CAAL,EAA0B;AACtB,kCAAU,QAAQ,KAAR,CAAc,KAAK,uBAAnB,CAAV;AACH;AACD,wBAAI,MAAJ,EAAY;AACR,gCAAQ,KAAK,OAAL,CAAa,IAAb,CAAkB,OAAlB,IAA6B,CAArC;AACA,6BAAK,MAAL,CAAY,KAAZ,IAAqB,MAArB;AACA,6BAAK,IAAL,CAAU,KAAV,IAAmB,IAAnB;AACH,qBAJD,MAIO;AACH,gCAAQ,QAAQ,MAAR,GAAiB,CAAzB;AACA,6BAAK,OAAL,GAAe,OAAf;AACA,6BAAK,MAAL,GAAc,MAAd;AACA,6BAAK,IAAL,GAAY,IAAZ;AACH;AACD,yBAAK,YAAL,CAAkB,IAAlB,GAAyB,IAAzB;AACA,2BAAO,KAAP;AACH,iBArEe;AAsEhB,qBAAK,aAAU,OAAV,EAAmB,MAAnB,EAA2B,IAA3B,EAAiC,MAAjC,EAAyC;AAC1C,wBAAI,OAAO,KAAK,YAAL,CAAkB,IAA7B;AAAA,wBAAmC,CAAnC;AAAA,wBAAsC,GAAtC;AACA,wBAAI,CAAC,OAAD,IAAY,CAAC,QAAQ,MAAzB,EAAiC;AAC7B;AACH;AACD,wBAAI,CAAC,GAAG,OAAH,CAAW,OAAX,CAAL,EAA0B;AACtB,kCAAU,QAAQ,KAAR,CAAc,KAAK,uBAAnB,CAAV;AACH;AACD,0BAAM,QAAQ,MAAR,CAAe,UAAU,CAAV,EAAa;AAC9B,+BAAO,MAAM,IAAb;AACH,qBAFK,CAAN;AAGA,wBAAI,CAAC,IAAI,MAAT,EAAiB;AACb;AACH;AACD,wBAAI,KAAK,OAAL,KAAiB,SAArB,EAAgC;AAC5B,6BAAK,OAAL,GAAe,EAAf;AACH;AACD,wBAAI,KAAK,MAAL,KAAgB,SAApB,EAA+B;AAC3B,6BAAK,MAAL,GAAc,EAAd;AACH;AACD,wBAAI,KAAK,IAAL,KAAc,SAAlB,EAA6B;AACzB,6BAAK,IAAL,GAAY,EAAZ;AACH;AACD,wBAAI,MAAJ,EAAY;AACR,6BAAK,IAAI,CAAT,EAAY,IAAI,QAAQ,MAAxB,EAAgC,GAAhC,EAAqC;AACjC,gCAAI,QAAQ,CAAR,CAAJ,EAAgB;AACZ,qCAAK,OAAL,CAAa,IAAb,CAAkB,QAAQ,CAAR,CAAlB;AACH;AACJ;AACD,6BAAK,IAAI,CAAT,EAAY,IAAI,OAAO,MAAvB,EAA+B,GAA/B,EAAoC;AAChC,gCAAI,OAAO,CAAP,CAAJ,EAAe;AACX,qCAAK,MAAL,CAAY,IAAZ,CAAiB,OAAO,CAAP,CAAjB;AACH;AACJ;AACD,6BAAK,IAAI,CAAT,EAAY,IAAI,KAAK,MAArB,EAA6B,GAA7B,EAAkC;AAC9B,gCAAI,KAAK,CAAL,CAAJ,EAAa;AACT,qCAAK,IAAL,CAAU,IAAV,CAAe,KAAK,CAAL,CAAf;AACH;AACJ;AACJ,qBAhBD,MAgBO;AACH,6BAAK,OAAL,GAAe,OAAf;AACA,6BAAK,MAAL,GAAc,MAAd;AACA,6BAAK,IAAL,GAAY,IAAZ;AACH;AACD,yBAAK,YAAL,CAAkB,IAAlB,GAAyB,IAAzB;AACH,iBAnHe;AAoHhB,uBAAO,eAAU,KAAV,EAAiB;AACpB,wBAAI,MAAM,KAAK,YAAL,CAAkB,KAAlB,EAAV;AACA,wBAAI,CAAC,GAAL,EAAU;AACN;AACH;AACD,wBAAI,QAAQ,CAAZ,EAAe;AACX,6BAAK,YAAL,CAAkB,IAAlB,CAAuB,OAAvB,GAAiC,EAAjC;AACA,6BAAK,YAAL,CAAkB,IAAlB,CAAuB,MAAvB,GAAgC,EAAhC;AACA,6BAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,GAA8B,EAA9B;AACA,6BAAK,cAAL,GAAsB,EAAtB;AACA,6BAAK,oBAAL,GAA4B,EAA5B;AACA,6BAAK,uBAAL,GAA+B,EAA/B;AACA;AACH;AACD,yBAAK,YAAL,CAAkB,IAAlB,CAAuB,OAAvB,CAA+B,MAA/B,CAAsC,KAAtC,EAA6C,CAA7C;AACA,yBAAK,YAAL,CAAkB,IAAlB,CAAuB,MAAvB,CAA8B,MAA9B,CAAqC,KAArC,EAA4C,CAA5C;AACA,yBAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,MAA5B,CAAmC,KAAnC,EAA0C,CAA1C;AACH,iBArIe;AAsIhB,qBAAK,eAAY;AACb,wBAAI,OAAO,EAAX;AAAA,wBAAe,OAAf;AAAA,wBAAwB,MAAM,KAAK,YAAL,CAAkB,KAAlB,EAA9B;AAAA,wBAAyD,CAAzD;AACA,wBAAI,QAAQ,CAAZ,EAAe;AACX,+BAAO,EAAC,SAAS,EAAV,EAAc,SAAS,EAAvB,EAAP;AACH;AACD,yBAAK,IAAI,CAAT,EAAY,IAAI,GAAhB,EAAqB,GAArB,EAA0B;AACtB,gCAAQ,KAAK,YAAL,CAAkB,GAAlB,CAAsB,CAAtB,CAAR;AACH;AACD,8BAAU,KAAK,eAAL,CAAqB,GAArB,CAAV;AACA,2BAAO,EAAC,SAAS,IAAV,EAAgB,SAAS,OAAzB,EAAP;AACH,iBAhJe;AAiJhB,wBAAQ,gBAAU,CAAV,EAAa,UAAb,EAAyB,IAAzB,EAA+B;AACnC,wBAAI,OAAO,KAAK,YAAL,CAAkB,IAAlB,IAA0B,EAArC;AACA,wBAAI,GAAG,OAAH,CAAW,KAAK,OAAhB,CAAJ,EAA8B;AAC1B,+BAAO,EAAP;AACH;AACD,wBAAI,GAAG,OAAH,CAAW,KAAK,MAAhB,KAA2B,GAAG,OAAH,CAAW,KAAK,MAAL,CAAY,CAAZ,CAAX,CAA/B,EAA2D;AACvD,6BAAK,MAAL,CAAY,CAAZ,IAAiB,EAAjB;AACH;AACD,iCAAa,eAAe,SAAf,GAA2B,IAA3B,GAAkC,UAA/C;AACA,wBAAI,SAAS,KAAK,MAAL,CAAY,CAAZ,CAAb;AAAA,wBAA6B,UAAU,GAAG,KAAH,CAAS,SAAT,EAAoB,MAApB,CAAvC;AAAA,wBAAoE,CAApE;AAAA,wBACI,QAAQ,GAAG,KAAH,CAAS,OAAT,EAAkB,MAAlB,EAA0B,MAA1B,CADZ;AAAA,wBAC+C,MAAM,GAAG,KAAH,CAAS,KAAT,EAAgB,MAAhB,EAAwB,KAAxB,CADrD;AAAA,wBAEI,MAAM,GAAG,KAAH,CAAS,KAAT,EAAgB,MAAhB,EAAwB,IAAxB,CAFV;AAAA,wBAEyC,KAAK,KAAK,kBAFnD;AAAA,wBAGI,qBAAqB,KAAK,wBAAL,IAAiC,KAH1D;AAAA,wBAII,OAAO,OAAO,WAAP,IAAsB,KAAK,yBAA3B,IAAwD,EAJnE;AAAA,wBAKI,OAAO,OAAO,QAAP,IAAmB,OAAO,OAA1B,IAAqC,EALhD;AAAA,wBAMI,qBAAqB,CAAC,CAAE,IAN5B;AAAA,wBAOI,OAAO,GAAG,KAAH,CAAS,YAAT,EAAuB,MAAvB,EAA+B,GAAG,KAAH,CAAS,YAAT,EAAuB,EAAvB,EAA2B,kBAA3B,CAA/B,CAPX;AAAA,wBAQI,OAAO,GAAG,KAAH,CAAS,cAAT,EAAyB,MAAzB,EAAiC,GAAG,KAAH,CAAS,cAAT,EAAyB,EAAzB,EAA6B,kBAA7B,CAAjC,CARX;AAAA,wBASI,MAAM,GAAG,KAAH,CAAS,UAAT,EAAqB,MAArB,EAA6B,GAAG,KAAH,CAAS,UAAT,EAAqB,EAArB,EAAyB,IAAzB,CAA7B,CATV;AAAA,wBAUI,OAAO,GAAG,KAAH,CAAS,UAAT,EAAqB,MAArB,EAA6B,GAAG,KAAH,CAAS,UAAT,EAAqB,EAArB,EAAyB,IAAzB,CAA7B,CAVX;AAAA,wBAWI,MAAO,QAAQ,KAAT,IAAmB,UAX7B;AAYA,2BAAO,QAAQ,OAAO,WAAP,KAAuB,KAA/B,IAAwC,CAAC,CAAC,IAAjD;AACA,wBAAI,KAAK,kBAAL,CAAwB,KAAxB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,GAA3C,EAAgD,IAAhD,EAAsD,GAAtD,EAA2D,GAA3D,EAAgE,GAAhE,EAAqE,IAArE,EAA2E,IAA3E,EAAiF,IAAjF,CAAJ;AACA,2BAAO,KAAK,kBAAL,CAAwB,QAAxB,EAAkC,SAAlC,CAA4C;AAC/C,oCAAY,KAAK,oBAAL,EADmC;AAE/C,mCAAW,CAFoC;AAG/C,mCAAW,OAHoC;AAI/C,gCAAQ,KAAK,QAAL,CAAc,IAAd,CAJuC;AAK/C,iCAAS,KALsC;AAM/C,qCAAa;AANkC,qBAA5C,CAAP;AAQH;AAhLe,aAApB;AAkLA,iBAAK,YAAL,CAAkB,IAAlB;AACH,SA1lBiB;AA2lBlB,kBAAU,kBAAU,GAAV,EAAe,KAAf,EAAsB,QAAtB,EAAgC;AACtC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,KAAK,KAAK,SAA3B;AAAA,gBAAsC,KAAK,MAAM,KAAN,CAAY,GAAZ,EAAiB,IAAjB,CAAsB,KAAK,GAA3B,IAAkC,EAA7E;AACA,gBAAI,CAAC,GAAD,IAAQ,CAAC,IAAI,MAAjB,EAAyB;AACrB;AACH;AACD,gBAAI,GAAJ,CAAQ,EAAR,EAAY,EAAZ,CAAe,EAAf,EAAmB,QAAnB;AACH,SAjmBiB;AAkmBlB,cAAM,cAAU,GAAV,EAAe;AACjB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,KAAK,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAtB;AACA,gBAAI,EAAJ,EAAQ;AACJ,sBAAM,MAAM,EAAN,GAAW,KAAX,GAAmB,GAAzB;AACH;AACD,gBAAI,OAAO,OAAO,OAAP,CAAe,GAAtB,KAA8B,WAAlC,EAA+C;AAC3C,uBAAO,OAAP,CAAe,GAAf,CAAmB,GAAnB;AACH,aAFD,MAEO;AACH,uBAAO,KAAP,CAAa,GAAb;AACH;AACJ,SA5mBiB;AA6mBlB,mBAAW,qBAAY;AACnB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,QAAL,CAAc,IAAd,CAAmB,MAAnB,MAA+B,MAAzD;AACA,gBAAI,CAAC,MAAL,EAAa;AACT,qBAAK,IAAL,CAAU,2FAAV;AACH;AACD,mBAAO,MAAP;AACH,SAnnBiB;AAonBlB,sBAAc,wBAAY;AACtB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,IAAjB;AAAA,gBAAuB,WAAW,KAAK,eAAL,CAAqB,IAArB,CAA0B,IAA1B,CAAlC;AACA,gBAAI,SAAS,MAAb,EAAqB;AACjB,uBAAO,IAAP;AACH;AACD,mBAAO,EAAE,SAAS,aAAT,CAAuB,KAAvB,CAAF,EAAiC,IAAjC,CAAsC,KAAK,eAAL,CAAqB,IAArB,EAAtC,CAAP;AACA,iBAAK,IAAL,CAAU,iBAAV,EAA6B,MAA7B;AACA,iBAAK,IAAL,CAAU,IAAV,EAAgB,MAAhB;AACA,mBAAO,CAAC,CAAC,EAAE,IAAF,CAAO,KAAK,IAAL,EAAP,EAAoB,MAA7B;AACH,SA7nBiB;AA8nBlB,uBAAe,uBAAU,GAAV,EAAe,OAAf,EAAwB;AACnC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,IAAI,MAAJ,CAAW,KAAlC;AAAA,gBAAyC,YAAY,SAAZ,SAAY,CAAU,GAAV,EAAe;AAChE,qBAAK,UAAL,CAAgB,IAAI,OAAJ,CAAY,QAAZ,EAAsB,OAAtB,CAAhB;AACH,aAFD;AAGA;AACA;AACA;AACA,gBAAI,IAAI,IAAJ,KAAa,IAAI,aAArB,EAAoC;AAChC,0BAAU,KAAK,eAAf;AACH,aAFD,MAEO,IAAI,IAAI,IAAJ,KAAa,IAAI,YAArB,EAAmC;AACtC,0BAAU,KAAK,cAAf;AACH,aAFM,MAEA,IAAI,IAAI,IAAJ,KAAa,IAAI,gBAArB,EAAuC;AAC1C,0BAAU,KAAK,kBAAf;AACH,aAFM,MAEA,IAAI,IAAI,IAAJ,KAAa,IAAI,SAArB,EAAgC;AACnC,0BAAU,KAAK,qBAAf;AACH,aAFM,MAEA;AACH,0BAAU,KAAK,mBAAf;AACH;AACJ,SAhpBiB;AAipBlB,mBAAW,mBAAU,GAAV,EAAe;AACtB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,eAA/B;AACA,gBAAI,OAAO,OAAO,MAAlB,EAA0B;AACtB,uBAAO,IAAP,CAAY,KAAK,gBAAL,GAAwB,GAApC;AACA,qBAAK,QAAL,CAAc,OAAO,IAAP,CAAY,iBAAZ,CAAd,EAA8C,OAA9C,EAAuD,YAAY;AAC/D,+BAAW,YAAW;AAClB,4BAAI,KAAK,WAAL,IAAoB,CAAC,KAAK,SAAL,GAAiB,MAA1C,EAAkD;AAC9C,iCAAK,KAAL;AACH;AACD,+BAAO,OAAP,CAAe,MAAf;AACH,qBALD,EAKG,EALH;AAMH,iBAPD;AAQH;AACJ,SA9pBiB;AA+pBlB,6BAAqB,6BAAU,GAAV,EAAe;AAChC,gBAAI,OAAO,IAAX;AACA,kBAAM,CAAC,MAAM,MAAM,GAAZ,GAAkB,EAAnB,IAAyB,WAA/B;AACA,iBAAK,UAAL,CAAgB,WAAhB,CAA4B,GAA5B,EAAiC,QAAjC,CAA0C,WAA1C;AACA,eAAG,MAAH,CAAU,KAAK,iBAAf,EAAkC,YAAlC;AACH,SApqBiB;AAqqBlB,sBAAc,sBAAU,IAAV,EAAgB;AAC1B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,eAA/B;AACA,iBAAK,OAAL,GAAe,KAAf;AACA,iBAAK,UAAL,CAAgB,WAAhB,CAA4B,WAA5B;AACA,iBAAK,iBAAL,CAAuB,WAAvB,CAAmC,YAAnC;AACA,mBAAO,IAAP,CAAY,EAAZ;AACA,gBAAI,IAAJ,EAAU;AACN,uBAAO,OAAP,CAAe,MAAf;AACH,aAFD,MAEO;AACH,uBAAO,IAAP;AACH;AACJ,SAhrBiB;AAirBlB,0BAAkB,0BAAU,OAAV,EAAmB;AACjC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,eAA/B;AAAA,gBAAgD,GAAhD;AACA,gBAAI,CAAC,OAAL,EAAc;AACV;AACH;AACD,kBAAM,KAAK,oBAAL,CAA0B,OAA1B,CAAkC,KAAlC,EAAyC,OAAzC,CAAN;AACA,iBAAK,SAAL,CAAe,GAAf;AACA,iBAAK,mBAAL;AACA,mBAAO,MAAP,CAAc,GAAd;AACA,iBAAK,MAAL,CAAY,iBAAZ,EAA+B,CAAC,OAAD,EAAU,GAAV,CAA/B;AACH,SA3rBiB;AA4rBlB,0BAAkB,0BAAU,GAAV,EAAe,MAAf,EAAuB,KAAvB,EAA8B;AAC5C,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,eAA/B;AAAA,gBAAgD,KAAK,SAAS,iBAA9D;AAAA,gBAAiF,IAAI,UAAU,OAAO,EAAjB,GACjF,uBAAuB,OAAO,EAA9B,GAAmC,IAAnC,GAA0C,GAA1C,GAAgD,OADiC,GACvB,SAAS,GAAT,GAAe,OAD7E;AAEA,gBAAI,OAAO,IAAP,CAAY,IAAZ,EAAkB,MAAlB,KAA6B,CAAjC,EAAoC;AAChC,qBAAK,SAAL,CAAe,SAAS,CAAT,GAAa,OAA5B;AACH,aAFD,MAEO;AACH,uBAAO,IAAP,CAAY,IAAZ,EAAkB,MAAlB,CAAyB,CAAzB;AACH;AACD,mBAAO,MAAP,CAAc,GAAd;AACA,iBAAK,MAAL,CAAY,EAAZ,EAAgB,CAAC,MAAD,EAAS,GAAT,CAAhB;AACA,iBAAK,mBAAL,CAAyB,gBAAzB;AACA,mBAAO,IAAP;AACH,SAxsBiB;AAysBlB,oBAAY,oBAAU,GAAV,EAAe,MAAf,EAAuB,KAAvB,EAA8B;AACtC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,eAA/B;AAAA,gBAAgD,KAAK,SAAS,WAA9D;AACA,qBAAS,UAAU,EAAnB;AACA,mBAAO,MAAP,GAAgB,KAAK,MAArB;AACA,iBAAK,SAAL,CAAe,GAAf;AACA,mBAAO,MAAP,CAAc,GAAd;AACA,iBAAK,MAAL,CAAY,EAAZ,EAAgB,CAAC,MAAD,EAAS,GAAT,CAAhB;AACA,gBAAI,CAAC,KAAK,YAAV,EAAwB;AACpB,qBAAK,eAAL;AACH;AACD,iBAAK,mBAAL,CAAyB,gBAAzB;AACA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,UAArB,EAAiC,IAAjC;AACA,mBAAO,IAAP;AACH,SAttBiB;AAutBlB,uBAAe,uBAAU,MAAV,EAAkB;AAC7B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,YAAL,GAAoB,CAApB,GAAwB,KAAK,UAA7B,GAA0C,KAAK,UAAxE;AAAA,gBACI,MAAM,KAAK,eAAL,CAAqB,OAArB,CAA6B,KAA7B,EAAoC,KAAK,YAAzC,EAAuD,OAAvD,CAA+D,SAA/D,EAA0E,KAA1E,CADV;AAAA,gBAEI,SAAS,KAAK,eAFlB;AAGA,iBAAK,SAAL,CAAe,GAAf;AACA,iBAAK,OAAL,GAAe,IAAf;AACA,iBAAK,kBAAL,CAAwB,CAAxB;AACA,mBAAO,MAAP,CAAc,GAAd;AACA,iBAAK,MAAL,CAAY,WAAZ,EAAyB,CAAC,MAAD,EAAS,GAAT,CAAzB;AACA,iBAAK,eAAL;AACA,iBAAK,mBAAL;AACH,SAluBiB;AAmuBlB,qBAAa,qBAAU,SAAV,EAAqB,KAArB,EAA4B,WAA5B,EAAyC,QAAzC,EAAmD;AAC5D;AACA,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,EAAE,IAAF,CAAO,cAAc,EAArB,CAA1B;AAAA,gBAAoD,OAApD;AAAA,gBACI,OAAO,MAAM,YAAN,KAAuB,SAAvB,IAAoC,MAAM,YAAN,CAAmB,KAAnB,KAA6B,SAAjE,GACH,MAAM,YAAN,CAAmB,KADhB,GACwB,MAAM,YAFzC;AAGA,gBAAI,KAAK,UAAL,IAAmB,KAAK,gBAA5B,EAA8C;AAC1C,yBAAS,KAAK,gBAAd;AACH;AACD,gBAAI,KAAK,oBAAL,IAA6B,IAAjC,EAAuC;AACnC,uBAAO,EAAE,IAAF,CAAO,KAAK,OAAL,CAAa,UAAb,EAAyB,IAAzB,CAAP,CAAP;AACA,0BAAU,KAAK,MAAL,GAAc,UAAU,IAAV,GAAiB,QAA/B,GAA0C,EAApD;AACA,0BAAU,SAAS,OAAT,GAAmB,IAA7B;AACH;AACD,gBAAI,CAAC,MAAL,EAAa;AACT,yBAAS,KAAK,YAAL,CAAkB,OAAlB,CAA0B,aAA1B,EAAyC,SAAzC,CAAT;AACH;AACD,iBAAK,UAAL,GAAkB,KAAlB;AACA,mBAAO,WAAW,QAAQ,QAAR,GAAmB,QAAnB,GAA8B,MAAzC,GAAkD,MAAzD;AACH,SArvBiB;AAsvBlB,wBAAgB,wBAAU,IAAV,EAAgB,IAAhB,EAAsB;AAClC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAjB;AAAA,gBAA0B,KAA1B;AAAA,gBAAiC,GAAjC;AAAA,gBAAsC,CAAtC;AAAA,gBAAyC,QAAQ,KAAK,mBAAL,IAA4B,EAA7E;AACA,gBAAI,SAAS,wBAAb,EAAuC;AACnC,uBAAO,MAAP;AACH;AACD,iBAAK,IAAI,CAAT,EAAY,IAAI,MAAM,MAAtB,EAA8B,GAA9B,EAAmC;AAC/B,sBAAM,MAAM,CAAN,CAAN;AACA,0BAAU,KAAK,gBAAL,CAAsB,GAAtB,CAAV;AACA,wBAAQ,QAAQ,IAAR,EAAc,IAAd,IAAsB,GAAtB,GAA4B,EAApC;AACA,oBAAI,CAAC,GAAG,OAAH,CAAW,KAAX,CAAL,EAAwB;AACpB,2BAAO,KAAP;AACH;AACJ;AACD,mBAAO,OAAP;AACH,SApwBiB;AAqwBlB,yBAAiB,yBAAU,KAAV,EAAiB;AAC9B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,GAAjB;AAAA,gBAAsB,MAAM,IAA5B;AACA,gBAAI,SAAS,MAAM,OAAN,CAAc,GAAd,IAAqB,CAAC,CAAnC,EAAsC;AAClC,sBAAM,MAAM,KAAN,CAAY,GAAZ,EAAiB,GAAjB,EAAN;AACA,oBAAI,KAAK,uBAAT,EAAkC;AAC9B,0BAAM,KAAK,uBAAL,CAA6B,GAA7B,KAAqC,KAAK,uBAAL,CAA6B,IAAI,WAAJ,EAA7B,CAArC,IAAwF,IAA9F;AACH;AACD,oBAAI,KAAK,sBAAT,EAAiC;AAC7B,sBAAE,IAAF,CAAO,KAAK,sBAAZ,EAAoC,UAAU,GAAV,EAAe,IAAf,EAAqB;AACrD,4BAAI,KAAK,uBAAL,CAA6B,GAA7B,KAAqC,KAAK,GAAL,CAAzC,EAAoD;AAChD,kCAAM,KAAK,uBAAL,CAA6B,GAA7B,CAAN;AACA;AACA;AACH;AACJ,qBAND;AAOH;AACJ;AACD,mBAAO,GAAP;AACH,SAvxBiB;AAwxBlB,+BAAuB,+BAAU,OAAV,EAAmB,KAAnB,EAA0B;AAC7C,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,eAAL,CAAqB,KAArB,KAA+B,KAAK,eAA3D;AAAA,gBAA4E,MAAM,OAAlF;AACA,gBAAI,IAAI,OAAJ,CAAY,mBAAZ,IAAmC,CAAC,CAAxC,EAA2C;AACvC,sBAAM,IAAI,SAAJ,CAAc,EAAC,wBAAwB,KAAK,oBAA9B,EAAoD,mBAAmB,GAAvE,EAAd,CAAN;AACH;AACD,mBAAO,GAAP;AACH,SA9xBiB;AA+xBlB,gBAAQ,gBAAU,KAAV,EAAiB,MAAjB,EAAyB;AAC7B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,IAAI,EAAE,KAAF,CAAQ,KAAR,CAArB;AACA,gBAAI,WAAW,SAAf,EAA0B;AACtB,qBAAK,QAAL,CAAc,OAAd,CAAsB,CAAtB,EAAyB,MAAzB;AACH,aAFD,MAEO;AACH,qBAAK,QAAL,CAAc,OAAd,CAAsB,CAAtB;AACH;AACD,gBAAI,EAAE,kBAAF,MAA0B,EAAE,MAAF,KAAa,KAA3C,EAAkD;AAC9C,uBAAO,KAAP;AACH;AACD,oBAAQ,KAAR;AACI;AACA,qBAAK,yBAAL;AACA,qBAAK,wBAAL;AACA,qBAAK,cAAL;AACA,qBAAK,WAAL;AACA,qBAAK,aAAL;AACA,qBAAK,WAAL;AACA,qBAAK,WAAL;AACA,qBAAK,iBAAL;AACA,qBAAK,iBAAL;AACA,qBAAK,sBAAL;AACA,qBAAK,iBAAL;AACA,qBAAK,iBAAL;AACA,qBAAK,mBAAL;AACI;AACJ;AACA;AACI,wBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB,6BAAK,WAAL,GAAmB,EAAE,MAArB;AACH;AACD;AArBR;AAuBA,mBAAO,IAAP;AACH,SAj0BiB;AAk0BlB,2BAAmB,2BAAU,YAAV,EAAwB;AACvC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,MAA/B;AAAA,gBAAuC,QAAvC;AAAA,gBAAiD,QAAjD;AACA,gBAAI,CAAC,MAAD,IAAW,CAAC,OAAO,MAAvB,EAA+B;AAC3B;AACH;AACD,uBAAW,UAAU,OAAO,IAAP,CAAY,iBAAZ,CAArB;AACA,uBAAW,UAAU,OAAO,IAAP,CAAY,iBAAZ,CAArB;AACA,gBAAI,CAAC,SAAS,MAAV,IAAoB,CAAC,SAAS,MAAlC,EAA0C;AACtC;AACH;AACD,qBAAS,WAAT,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,cAApC,EAAoD,OAApD;AACA,qBAAS,WAAT,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,cAApC,EAAoD,OAApD;AACA,gBAAI,YAAJ,EAAkB;AACd,yBAAS,QAAT,CAAkB,QAAlB,EAA4B,IAA5B,CAAiC,cAAjC,EAAiD,MAAjD;AACH,aAFD,MAEO;AACH,yBAAS,QAAT,CAAkB,QAAlB,EAA4B,IAA5B,CAAiC,cAAjC,EAAiD,MAAjD;AACH;AACD,gBAAI,OAAO,QAAP,CAAgB,sBAAhB,CAAJ,EAA6C;AACzC,qBAAK,mBAAL;AACH,aAFD,MAEO;AACH,oBAAI,YAAJ,EAAkB;AACd,yBAAK,mBAAL;AACH,iBAFD,MAEO;AACH,6BAAS,WAAT,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,cAApC,EAAoD,OAApD;AACH;AACJ;AACJ,SA51BiB;AA61BlB,iBAAS,mBAAY;AACjB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AAAA,gBAAsC,QAAQ,KAAK,KAAnD;AAAA,gBAA0D,QAAQ,KAAK,UAAvE;AAAA,gBAAmF,gBAAnF;AACA,iBAAK,QAAL,CAAc,GAAd,EAAmB,QAAnB,EAA6B,EAAE,KAAF,CAAQ,KAAK,OAAb,EAAsB,IAAtB,CAA7B;AACA,gBAAI,KAAK,UAAT,EAAqB;AACjB,qBAAK,QAAL,CAAc,KAAK,QAAnB,EAA6B,OAA7B,EAAsC,EAAE,KAAF,CAAQ,KAAK,OAAb,EAAsB,IAAtB,CAAtC;AACH;AACD,iBAAK,QAAL,CAAc,MAAM,IAAN,CAAW,mCAAX,CAAd,EAA+D,OAA/D,EAAwE,EAAE,KAAF,CAAQ,KAAK,KAAb,EAAoB,IAApB,CAAxE;AACA,iBAAK,QAAL,CAAc,MAAM,IAAN,CAAW,mBAAX,CAAd,EAA+C,OAA/C,EAAwD,EAAE,KAAF,CAAQ,KAAK,MAAb,EAAqB,IAArB,CAAxD;AACA,iBAAK,aAAL;AACA,iBAAK,QAAL,CAAc,KAAd,EAAqB,OAArB,EAA8B,EAAE,KAAF,CAAQ,KAAK,KAAb,EAAoB,IAApB,CAA9B;AACA,gBAAI,CAAC,KAAK,YAAV,EAAwB;AACpB,qBAAK,QAAL,CAAc,KAAd,EAAqB,QAArB,EAA+B,EAAE,KAAF,CAAQ,KAAK,WAAb,EAA0B,IAA1B,CAA/B;AACH;AACD,iBAAK,QAAL,CAAc,KAAK,UAAL,CAAgB,IAAhB,CAAqB,mBAArB,CAAd,EAAyD,OAAzD,EAAkE,EAAE,KAAF,CAAQ,KAAK,YAAb,EAA2B,IAA3B,CAAlE;AACA,iBAAK,QAAL,CAAc,EAAE,MAAF,CAAd,EAAyB,QAAzB,EAAmC,YAAY;AAC3C,qBAAK,iBAAL,CAAuB,OAAO,KAAP,KAAiB,OAAO,UAAxB,IAAsC,OAAO,MAAP,KAAkB,OAAO,WAAtF;AACH,aAFD;AAGA,+BAAmB,gFAAnB;AACA,iBAAK,QAAL,CAAc,EAAE,QAAF,CAAd,EAA2B,gBAA3B,EAA6C,YAAY;AACrD,qBAAK,iBAAL,CAAuB,GAAG,eAAH,EAAvB;AACH,aAFD;AAGA,iBAAK,eAAL;AACA,iBAAK,cAAL;AACH,SAp3BiB;AAq3BlB,yBAAiB,2BAAY;AACzB,gBAAI,QAAQ,OAAO,UAAP,IAAqB,SAAS,eAAT,CAAyB,WAA9C,IAA6D,SAAS,IAAT,CAAc,WAAvF;AAAA,gBACI,OAAO,IADX;AAAA,gBACiB,SAAS,QAAQ,GAAR,GAAe,KAAK,oBAAL,IAA6B,KAAK,QAAL,CAAc,oBAA1D,GACrB,KAAK,eAAL,IAAwB,KAAK,QAAL,CAAc,eAF3C;AAAA,gBAE6D,GAF7D;AAGA,cAAE,IAAF,CAAO,MAAP,EAAe,UAAU,GAAV,EAAe,QAAf,EAAyB;AACpC,sBAAM,uCAAuC,GAA7C;AACA,qBAAK,QAAL,CAAc,IAAd,CAAmB,MAAM,mBAAN,GAA4B,GAA5B,GAAkC,mBAArD,EAA0E,GAA1E,CAA8E,QAA9E;AACH,aAHD;AAIH,SA73BiB;AA83BlB,wBAAgB,0BAAY;AACxB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,KAAjB;AACA,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,oBAAQ,KAAK,YAAL,GAAoB,KAAK,SAAzB,GAAqC,KAAK,QAAL,CAAc,IAAd,CAAmB,uBAAnB,CAA7C;AACA,eAAG,MAAH,CAAU,KAAV,EAAiB,WAAjB;AACA,kBAAM,IAAN,CAAW,UAAX,EAAuB,CAAC,CAAxB;AACA,iBAAK,QAAL,CAAc,KAAd,EAAqB,OAArB,EAA8B,UAAU,CAAV,EAAa;AACvC,oBAAI,OAAO,EAAE,EAAE,MAAJ,CAAX;AACA,oBAAI,CAAC,MAAM,IAAN,CAAW,6BAAX,EAA0C,MAA3C,KACC,CAAC,KAAK,OAAL,CAAa,0BAAb,EAAyC,MAA1C,IAAoD,KAAK,OAAL,CAAa,uBAAb,EAAsC,MAD3F,CAAJ,EACwG;AACpG,yBAAK,QAAL,CAAc,OAAd,CAAsB,OAAtB;AACA,0BAAM,IAAN;AACH;AACJ,aAPD;AAQH,SA94BiB;AA+4BlB,uBAAe,yBAAY;AACvB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,SAA9B;AACA,gBAAI,KAAK,YAAL,IAAqB,KAAK,eAA1B,IAA6C,KAAK,WAAtD,EAAmE;AAC/D,qBAAK,QAAL,CAAc,KAAd,EAAqB,oBAArB,EAA2C,EAAE,KAAF,CAAQ,KAAK,cAAb,EAA6B,IAA7B,CAA3C;AACA,qBAAK,QAAL,CAAc,KAAd,EAAqB,WAArB,EAAkC,EAAE,KAAF,CAAQ,KAAK,cAAb,EAA6B,IAA7B,CAAlC;AACA,qBAAK,QAAL,CAAc,KAAd,EAAqB,MAArB,EAA6B,EAAE,KAAF,CAAQ,KAAK,SAAb,EAAwB,IAAxB,CAA7B;AACA,qBAAK,QAAL,CAAc,EAAE,QAAF,CAAd,EAA2B,yBAA3B,EAAsD,KAAK,iBAA3D;AACH;AACJ,SAv5BiB;AAw5BlB,2BAAmB,2BAAU,CAAV,EAAa;AAC5B,cAAE,eAAF;AACA,cAAE,cAAF;AACH,SA35BiB;AA45BlB,wBAAgB,wBAAU,CAAV,EAAa;AACzB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,EAAE,OAAF,CAAU,OAAV,EAAmB,EAAE,aAAF,CAAgB,YAAhB,CAA6B,KAAhD,IAAyD,CAAC,CAAtF;AACA,iBAAK,iBAAL,CAAuB,CAAvB;AACA,gBAAI,KAAK,UAAL,IAAmB,CAAC,QAAxB,EAAkC;AAC9B,kBAAE,aAAF,CAAgB,YAAhB,CAA6B,aAA7B,GAA6C,MAA7C;AACA,kBAAE,aAAF,CAAgB,YAAhB,CAA6B,UAA7B,GAA0C,MAA1C;AACA;AACH;AACD,eAAG,MAAH,CAAU,KAAK,SAAf,EAA0B,kBAA1B;AACH,SAr6BiB;AAs6BlB,wBAAgB,wBAAU,CAAV,EAAa;AACzB,gBAAI,OAAO,IAAX;AACA,iBAAK,iBAAL,CAAuB,CAAvB;AACA,gBAAI,KAAK,UAAT,EAAqB;AACjB;AACH;AACD,iBAAK,SAAL,CAAe,WAAf,CAA2B,kBAA3B;AACH,SA76BiB;AA86BlB,mBAAW,mBAAU,CAAV,EAAa;AACpB,gBAAI,OAAO,IAAX;AACA,cAAE,cAAF;AACA;AACA,gBAAI,KAAK,UAAL,IAAmB,GAAG,OAAH,CAAW,EAAE,aAAF,CAAgB,YAAhB,CAA6B,KAAxC,CAAvB,EAAuE;AACnE;AACH;AACD,iBAAK,OAAL,CAAa,CAAb,EAAgB,UAAhB;AACA,iBAAK,SAAL,CAAe,WAAf,CAA2B,kBAA3B;AACH,SAv7BiB;AAw7BlB,sBAAc,sBAAU,CAAV,EAAa;AACvB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,KAAK,UAAL,CAAgB,IAAhB,CAAqB,mBAArB,CAAxB;AAAA,gBAAmE,KAAnE;AAAA,gBACI,YAAY,CAAC,KAAK,QAAL,CAAc,UAAd,CAAD,IAA8B,GAAG,OAAH,CAAW,KAAK,IAAL,CAAU,UAAV,CAAX,CAD9C;AAEA,gBAAI,KAAK,EAAE,kBAAF,EAAT,EAAiC;AAC7B;AACH;AACD,gBAAI,CAAC,KAAK,YAAV,EAAwB;AACpB,oBAAI,aAAa,KAAK,IAAL,CAAU,MAAV,MAAsB,QAAvC,EAAiD;AAC7C,4BAAQ,KAAK,OAAL,CAAa,MAAb,CAAR;AACA;AACA,wBAAI,MAAM,MAAV,EAAkB;AACd,8BAAM,OAAN,CAAc,QAAd;AACH;AACD,sBAAE,cAAF;AACH;AACD;AACH;AACD,cAAE,cAAF;AACA,gBAAI,SAAJ,EAAe;AACX,qBAAK,MAAL;AACH;AACJ,SA78BiB;AA88BlB,qBAAa,uBAAY;AACrB,gBAAI,OAAO,IAAX;AACA,mBAAO,KAAK,qBAAL,MAAgC,CAAC,KAAK,MAAL,CAAY,EAAZ,CAAxC;AACH,SAj9BiB;AAk9BlB,uBAAe,yBAAY;AACvB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,KAAK,KAAK,QAA3B;AAAA,gBACI,UAAU,KAAK,kBAAL,GAA0B,KAAK,SAAL,CAAe,6BAAf,CAA1B,GAA0E,KAAK,SAAL,EADxF;AAEA,oBAAQ,IAAR,CAAa,YAAY;AACrB,oBAAI,SAAS,EAAE,IAAF,CAAb;AACA,uBAAO,MAAP;AACA,mBAAG,cAAH,CAAkB,GAAG,IAAH,CAAQ,WAAW,OAAO,IAAP,CAAY,IAAZ,CAAnB,CAAlB;AACH,aAJD;AAKA,gBAAI,CAAC,KAAK,SAAL,GAAiB,MAAlB,IAA4B,CAAC,KAAK,WAAtC,EAAmD;AAC/C,qBAAK,YAAL;AACH;AACD,iBAAK,uBAAL;AACH,SA99BiB;AA+9BlB,uBAAe,yBAAY;AACvB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AAAA,gBAAsC,QAAtC;AAAA,gBAAgD,WAAW,MAAM,GAAG,QAApE;AACA,gBAAI,CAAC,OAAO,UAAR,IAAsB,IAAI,IAAJ,CAAS,QAAT,EAAmB,MAAnB,KAA8B,CAAxD,EAA2D;AACvD;AACH;AACD;AACA,uBAAW;AACP,wBAAQ,mBADD;AAEP,4BAAY,iBAFL;AAGP,wBAAQ,KAHD;AAIP,2BAAW,QAJJ;AAKP,wBAAQ,gBAAU,CAAV,EAAa;AACjB,wBAAI,WAAW,EAAE,QAAjB;AAAA,wBAA2B,WAAW,EAAE,QAAxC;AAAA,wBAAkD,MAAlD;AAAA,wBAA0D,OAA1D;AACA,yBAAK,cAAL,GAAsB,GAAG,SAAH,CAAa,KAAK,cAAlB,EAAkC,QAAlC,EAA4C,QAA5C,CAAtB;AACA,yBAAK,oBAAL,GAA4B,GAAG,SAAH,CAAa,KAAK,oBAAlB,EAAwC,QAAxC,EAAkD,QAAlD,CAA5B;AACA,yBAAK,YAAL,CAAkB,IAAlB;AACA,yBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,oBAAL,CAA0B,MAA9C,EAAsD,GAAtD,EAA2D;AACvD,4BAAI,KAAK,oBAAL,CAA0B,CAA1B,MAAiC,IAArC,EAA2C;AACvC,sCAAU,EAAE,EAAE,IAAJ,CAAV;AACA,qCAAS,QAAQ,OAAR,CAAgB,GAAG,MAAnB,CAAT;AACA,mCAAO,IAAP,CAAY,gBAAZ,EAA8B,UAAU,CAAxC,EAA2C,IAA3C,CAAgD,gBAAhD,EAAkE,UAAU,CAA5E;AACH;AACJ;AACD,yBAAK,MAAL,CAAY,YAAZ,EAA0B;AACtB,mCAAW,EAAE,EAAE,IAAJ,EAAU,IAAV,CAAe,IAAf,CADW;AAEtB,oCAAY,QAFU;AAGtB,oCAAY,QAHU;AAItB,+BAAO,KAAK;AAJU,qBAA1B;AAMH;AAvBM,aAAX;AAyBA,gBAAI,IAAI,IAAJ,CAAS,YAAT,CAAJ,EAA4B;AACxB,oBAAI,UAAJ,CAAe,SAAf;AACH;AACD,cAAE,MAAF,CAAS,IAAT,EAAe,QAAf,EAAyB,KAAK,kBAAL,CAAwB,YAAjD;AACA,gBAAI,UAAJ,CAAe,QAAf;AACH,SAngCiB;AAogClB,4BAAoB,4BAAU,OAAV,EAAmB;AACnC,gBAAI,OAAO,IAAX;AACA,iBAAK,QAAL,CAAc,IAAd,CAAmB,OAAnB;AACA,iBAAK,eAAL;AACH,SAxgCiB;AAygClB,sBAAc,sBAAU,MAAV,EAAkB;AAC5B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,cAAL,IAAuB,EAA9C;AAAA,gBAAkD,GAAlD;AACA,gBAAI,CAAC,KAAK,YAAL,CAAkB,KAAlB,EAAL,EAAgC;AAC5B,qBAAK,aAAL;AACA,oBAAI,MAAJ,EAAY;AACR,yBAAK,WAAL,CAAiB,GAAjB;AACH,iBAFD,MAEO;AACH,yBAAK,YAAL;AACH;AACD;AACH;AACD,kBAAM,KAAK,YAAL,CAAkB,GAAlB,EAAN;AACA,kBAAM,UAAU,KAAK,cAAf,GAAgC,KAAK,cAArC,GAAsD,IAAI,OAAhE;AACA,iBAAK,kBAAL,CAAwB,IAAI,OAA5B;AACA,iBAAK,iBAAL;AACA,iBAAK,WAAL,CAAiB,GAAjB;AACA,iBAAK,aAAL;AACA,gBAAI,CAAC,GAAG,OAAH,CAAW,IAAI,OAAf,CAAL,EAA8B;AAC1B,qBAAK,UAAL,CAAgB,WAAhB,CAA4B,gBAA5B;AACH;AACJ,SA7hCiB;AA8hClB,wBAAgB,wBAAU,IAAV,EAAgB;AAC5B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,sBAAL,CAA4B,IAA5B,CAAzB;AAAA,gBAA4D,MAAM,KAAK,wBAAL,CAA8B,IAA9B,CAAlE;AAAA,gBACI,QAAQ,cAAc,KAAK,uBAAL,CAA6B,IAA7B,KAAsC,EAApD,IAA0D,IADtE;AAAA,gBAEI,SAAS,SAAS,SAAS,OAAT,GAAmB,0CAAnB,GAAgE,EAAzE,CAFb;AAGA,gBAAI,SAAS,YAAT,IAAyB,SAAS,YAAlC,IAAkD,SAAS,cAA/D,EAA+E;AAC3E,0BAAU,+DAAV;AACH;AACD,mBAAO,kCAAkC,GAAlC,GAAwC,OAAxC,GAAkD,IAAlD,GAAyD,GAAzD,GAA+D,MAA/D,GAAwE,GAAxE,GAA8E,KAA9E,GAAsF,WAA7F;AACH,SAtiCiB;AAuiClB,0BAAkB,4BAAY;AAC1B,gBAAI,OAAO,IAAX;AACA,mBAAO,KAAK,kBAAL,CAAwB,OAAxB,EAAiC,SAAjC,CAA2C;AAC9C,uBAAO,KAAK,GAAL,GAAW,SAAX,GAAuB,EADgB;AAE9C,kCAAkB,KAAK,UAFuB;AAG9C,2BAAW,KAAK,mBAH8B;AAI9C,wBAAQ,KAAK,cAAL,CAAoB,MAApB,CAJsC;AAK9C,wBAAQ,KAAK,cAAL,CAAoB,MAApB,CALsC;AAM9C,gCAAgB,KAAK,cAAL,CAAoB,cAApB,CAN8B;AAO9C,8BAAc,KAAK,cAAL,CAAoB,YAApB,CAPgC;AAQ9C,8BAAc,KAAK,cAAL,CAAoB,YAApB,CARgC;AAS9C,yBAAS,KAAK,cAAL,CAAoB,OAApB;AATqC,aAA3C,CAAP;AAWH,SApjCiB;AAqjClB,2BAAmB,2BAAU,KAAV,EAAiB;AAChC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,MAA/B;AAAA,gBAAuC,YAAY,SAAZ,SAAY,CAAU,CAAV,EAAa;AAC5D,uBAAO;AACH,iCAAa,CADV;AAEH,+BAAW,OAAO,IAAP,CAAY,WAAZ,CAFR;AAGH,2BAAO;AAHJ,iBAAP;AAKH,aAND;AAOA,mBAAO,EAAP,CAAU,QAAQ,WAAlB,EAA+B,UAAU,CAAV,EAAa;AACxC,oBAAI,WAAW,OAAO,IAAP,CAAY,iBAAZ,CAAf;AAAA,oBAA+C,WAAW,OAAO,IAAP,CAAY,iBAAZ,CAA1D;AACA,qBAAK,MAAL,CAAY,aAAa,KAAzB,EAAgC,UAAU,CAAV,CAAhC;AACA,oBAAI,UAAU,OAAd,EAAuB;AACnB,6BAAS,WAAT,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,cAApC,EAAoD,OAApD;AACA,6BAAS,WAAT,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,cAApC,EAAoD,OAApD;AACA,wBAAI,OAAO,QAAP,CAAgB,sBAAhB,CAAJ,EAA6C;AACzC,6BAAK,mBAAL;AACA,4BAAI,GAAG,eAAH,EAAJ,EAA0B;AACtB,qCAAS,QAAT,CAAkB,QAAlB,EAA4B,IAA5B,CAAiC,cAAjC,EAAiD,MAAjD;AACH,yBAFD,MAEO;AACH,qCAAS,QAAT,CAAkB,QAAlB,EAA4B,IAA5B,CAAiC,cAAjC,EAAiD,MAAjD;AACH;AACJ;AACJ;AACJ,aAfD;AAgBH,SA7kCiB;AA8kClB,mBAAW,qBAAY;AACnB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAjB;AAAA,gBAA0B,YAAY,KAAK,kBAAL,CAAwB,WAAxB,CAAtC;AAAA,gBAA4E,UAAU,MAAM,GAAG,QAA/F;AACA,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,iBAAK,MAAL,GAAc,EAAE,OAAF,CAAd;AACA,gBAAI,CAAC,KAAK,MAAN,IAAgB,CAAC,KAAK,MAAL,CAAY,MAAjC,EAAyC;AACrC,0BAAU,EAAE,SAAS,aAAT,CAAuB,KAAvB,CAAF,EAAiC,IAAjC,CAAsC,SAAtC,EAAiD,WAAjD,CAA6D,KAAK,UAAlE,CAAV;AACA,qBAAK,MAAL,GAAc,EAAE,OAAF,EAAW,YAAX,CAAwB,OAAxB,CAAd;AACA,wBAAQ,MAAR;AACH;AACD,eAAG,SAAH,CAAa,KAAK,MAAlB;AACA,iBAAK,MAAL,CAAY,IAAZ,CAAiB,KAAK,gBAAL,EAAjB;AACA,cAAE,IAAF,CAAO,GAAG,YAAV,EAAwB,UAAU,GAAV,EAAe,KAAf,EAAsB;AAC1C,qBAAK,iBAAL,CAAuB,KAAvB;AACH,aAFD;AAGH,SA9lCiB;AA+lClB,0BAAkB,4BAAY;AAC1B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,YAAY,KAAK,MAAL,CAAY,IAAZ,CAAiB,WAAjB,KAAiC,EAA9D;AAAA,gBAAkE,MAAlE;AAAA,gBAA0E,KAA1E;AAAA,gBACI,SAAS,KAAK,SAAL,GAAiB,OAAjB,EADb;AAAA,gBACyC,MAAM,OAAO,MADtD;AAAA,gBAC8D,QAAQ,KAAK,MAAL,CAAY,IAAZ,CAAiB,WAAjB,CADtE;AAAA,gBAEI,QAAQ,KAAK,MAAL,CAAY,IAAZ,CAAiB,WAAjB,CAFZ;AAGA,gBAAI,OAAO,MAAP,GAAgB,CAApB,EAAuB;AACnB,sBAAM,IAAN;AACA,sBAAM,IAAN;AACA;AACH,aAJD,MAIO;AACH,sBAAM,IAAN;AACA,sBAAM,IAAN;AACH;AACD,gBAAI,CAAC,GAAL,EAAU;AACN;AACH;AACD,qBAAS,EAAE,OAAO,CAAP,CAAF,CAAT;AACA,oBAAQ,EAAE,OAAO,MAAM,CAAb,CAAF,CAAR;AACA,kBAAM,UAAN,CAAiB,UAAjB;AACA,kBAAM,UAAN,CAAiB,UAAjB;AACA,gBAAI,OAAO,MAAP,IAAiB,OAAO,IAAP,CAAY,IAAZ,MAAsB,SAA3C,EAAsD;AAClD,sBAAM,IAAN,CAAW,UAAX,EAAuB,IAAvB;AACH;AACD,gBAAI,MAAM,MAAN,IAAgB,MAAM,IAAN,CAAW,IAAX,MAAqB,SAAzC,EAAoD;AAChD,sBAAM,IAAN,CAAW,UAAX,EAAuB,IAAvB;AACH;AACJ,SAxnCiB;AAynClB,6BAAqB,+BAAY;AAC7B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,MAA/B;AAAA,gBAAuC,QAAQ,OAAO,IAAP,CAAY,uBAAZ,CAA/C;AAAA,gBACI,QAAQ,OAAO,IAAP,CAAY,uBAAZ,CADZ;AAAA,gBACkD,QAAQ,OAAO,IAAP,CAAY,aAAZ,CAD1D;AAAA,gBAEI,IAAI,EAAE,MAAF,EAAU,MAAV,EAFR;AAAA,gBAE4B,OAAO,CAFnC;AAGA,mBAAO,QAAP,CAAgB,sBAAhB;AACA,gBAAI,SAAS,MAAM,MAAnB,EAA2B;AACvB,qBAAK,MAAM,WAAN,CAAkB,IAAlB,CAAL;AACH;AACD,gBAAI,SAAS,MAAM,MAAnB,EAA2B;AACvB,qBAAK,MAAM,WAAN,CAAkB,IAAlB,CAAL;AACH;AACD,gBAAI,SAAS,MAAM,MAAnB,EAA2B;AACvB,uBAAO,MAAM,WAAN,CAAkB,IAAlB,IAA0B,MAAM,MAAN,EAAjC;AACA,qBAAK,IAAL;AACH;AACD,mBAAO,IAAP,CAAY,eAAZ,EAA6B,MAA7B,CAAoC,CAApC;AACH,SAzoCiB;AA0oClB,2BAAmB,2BAAU,UAAV,EAAsB;AACrC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,MAA/B;AAAA,gBAAuC,WAAW,OAAO,IAAP,CAAY,iBAAZ,CAAlD;AAAA,gBACI,WAAW,OAAO,IAAP,CAAY,iBAAZ,CADf;AAEA,gBAAI,OAAO,QAAP,CAAgB,sBAAhB,CAAJ,EAA6C;AACzC,mBAAG,gBAAH,CAAoB,KAApB;AACA,oBAAI,CAAC,UAAL,EAAiB;AACb,wBAAI,CAAC,SAAS,QAAT,CAAkB,QAAlB,CAAL,EAAkC;AAC9B,+BAAO,WAAP,CAAmB,sBAAnB;AACA,6BAAK,MAAL,CAAY,IAAZ,CAAiB,eAAjB,EAAkC,GAAlC,CAAsC,QAAtC,EAAgD,KAAK,eAArD;AACH,qBAHD,MAGO;AACH,iCAAS,WAAT,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,cAApC,EAAoD,OAApD;AACH;AACJ,iBAPD,MAOO;AACH,wBAAI,CAAC,SAAS,QAAT,CAAkB,QAAlB,CAAL,EAAkC;AAC9B,+BAAO,WAAP,CAAmB,sBAAnB;AACA,6BAAK,iBAAL,CAAuB,IAAvB;AACA,4BAAI,SAAS,QAAT,CAAkB,QAAlB,CAAJ,EAAiC;AAC7B,qCAAS,WAAT,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,cAApC,EAAoD,OAApD;AACH;AACJ;AACJ;AACJ,aAlBD,MAkBO;AACH,oBAAI,CAAC,UAAL,EAAiB;AACb,yBAAK,mBAAL;AACA;AACH;AACD,mBAAG,gBAAH,CAAoB,IAApB;AACH;AACD,mBAAO,KAAP;AACH,SAvqCiB;AAwqClB,yBAAiB,yBAAU,MAAV,EAAkB,OAAlB,EAA2B;AACxC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAjB;AAAA,gBAA2B,KAA3B;AAAA,gBAAkC,IAAlC;AAAA,gBAAwC,KAAxC;AAAA,gBAA+C,KAA/C;AAAA,gBAAsD,OAAtD;AAAA,gBAA+D,MAA/D;AAAA,gBAAuE,MAAM,OAAO,IAAP,CAAY,IAAZ,CAA7E;AAAA,gBACI,SAAS,KAAK,MADlB;AAAA,gBAC0B,QAAQ,OAAO,IAAP,CAAY,WAAZ,CADlC;AAAA,gBAC4D,QAAQ,OAAO,IAAP,CAAY,WAAZ,CADpE;AAAA,gBAC8F,IAD9F;AAAA,gBAEI,WAAW,OAAO,IAAP,CAAY,iBAAZ,CAFf;AAAA,gBAE+C,WAAW,OAAO,IAAP,CAAY,iBAAZ,CAF1D;AAAA,gBAE0F,GAF1F;AAAA,gBAE+F,IAF/F;AAAA,gBAGI,WAAW,OAAO,IAAP,CAAY,mBAAZ,CAHf;AAAA,gBAGiD,eAAe,KAAK,QAAL,CAAc,IAAd,CAAmB,WAAW,GAA9B,CAHhE;AAIA,oBAAQ,aAAa,IAAb,CAAkB,eAAlB,KAAsC,SAA9C;AACA,uBAAW,aAAa,IAAb,CAAkB,kBAAlB,CAAX;AACA,mBAAO,SAAS,MAAT,GAAkB,SAAS,IAAT,EAAlB,GAAoC,EAA3C;AACA,kBAAM,OAAO,IAAP,CAAY,SAAZ,KAA0B,EAAhC;AACA,mBAAO,OAAO,IAAP,CAAY,MAAZ,KAAuB,EAA9B;AACA,oBAAQ,MAAM,GAAN,GAAY,IAApB;AACA,mBAAO,IAAP,CAAY,gBAAZ,EAA8B,IAA9B,CAAmC,OAAnC,EAA4C,EAAE,QAAF,EAAY,IAAZ,CAAiB,KAAjB,EAAwB,IAAxB,EAA5C,EAA4E,IAA5E,CAAiF,KAAjF;AACA,oBAAQ,OAAO,IAAP,CAAY,eAAZ,CAAR;AACA,mBAAO,WAAP,CAAmB,mBAAnB;AACA,gBAAI,OAAJ,EAAa;AACT,uBAAO,MAAM,QAAN,CAAe,oBAAf,EAAqC,KAArC,GAA6C,WAA7C,CAAyD,KAAzD,CAAP;AACA,sBAAM,IAAN,CAAW,IAAX,EAAiB,IAAjB;AACA,qBAAK,OAAL,CAAa,MAAb,EAAqB,YAAY;AAC7B,0BAAM,MAAN,CAAa,MAAb,EAAqB,YAAY;AAC7B,8BAAM,WAAN,CAAkB,oBAAlB;AACH,qBAFD;AAGA,yBAAK,MAAL;AACH,iBALD;AAMH,aATD,MASO;AACH,sBAAM,IAAN,CAAW,IAAX;AACH;AACD,qBAAS,KAAK,mBAAL,CAAyB,KAAzB,CAAT;AACA,gBAAI,MAAJ,EAAY;AACR,0BAAU,MAAM,IAAN,CAAW,kBAAX,CAAV;AACA,mBAAG,MAAH,CAAU,OAAV,EAAmB,kBAAnB;AACA,kBAAE,IAAF,CAAO,MAAP,EAAe,UAAU,GAAV,EAAe,KAAf,EAAsB;AACjC,4BAAQ,GAAR,CAAY,GAAZ,EAAiB,KAAjB;AACA,wBAAK,QAAQ,IAAR,CAAa,OAAb,KAAyB,QAAQ,OAAlC,IAA+C,QAAQ,IAAR,CAAa,QAAb,KAA0B,QAAQ,QAArF,EAAgG;AAC5F,gCAAQ,UAAR,CAAmB,GAAnB;AACH;AACJ,iBALD;AAMH;AACD,mBAAO,IAAP,CAAY,WAAZ,EAAyB,GAAzB;AACA,gBAAI,OAAO,MAAM,IAAN,CAAW,KAAX,CAAX;AACA,gBAAI,KAAK,MAAT,EAAiB;AACb,mBAAG,mBAAH,CAAuB,IAAvB,EAA6B,IAA7B;AACH;AACD,iBAAK,QAAL,CAAc,KAAd,EAAqB,OAArB,EAA8B,YAAY;AACtC,qBAAK,cAAL,CAAoB,MAApB,EAA4B,GAA5B;AACH,aAFD;AAGA,iBAAK,QAAL,CAAc,KAAd,EAAqB,OAArB,EAA8B,YAAY;AACtC,qBAAK,cAAL,CAAoB,MAApB,EAA4B,GAA5B;AACH,aAFD;AAGA,iBAAK,QAAL,CAAc,QAAd,EAAwB,OAAxB,EAAiC,YAAY;AACzC,qBAAK,iBAAL,CAAuB,IAAvB;AACH,aAFD;AAGA,iBAAK,QAAL,CAAc,QAAd,EAAwB,OAAxB,EAAiC,YAAY;AACzC,qBAAK,iBAAL,CAAuB,KAAvB;AACH,aAFD;AAGA,iBAAK,QAAL,CAAc,QAAd,EAAwB,OAAxB,EAAiC,YAAY;AACzC,oBAAI,UAAU,OAAO,IAAP,CAAY,eAAZ,CAAd;AAAA,oBAA4C,YAAY,OAAO,IAAP,CAAY,+BAAZ,CAAxD;AAAA,oBACI,EADJ;AAAA,oBACQ,WAAW,QAAQ,IAAR,CAAa,kBAAb,CADnB;AAAA,oBACqD,SAAS,SAAT,MAAS,CAAU,MAAV,EAAkB;AACxE,wBAAI,QAAQ,KAAK,MAAL,CAAY,IAAZ,CAAiB,eAAjB,CAAZ;AAAA,wBAA+C,IAAI,KAAK,eAAxD;AACA,wBAAI,OAAO,QAAP,CAAgB,sBAAhB,CAAJ,EAA6C;AACzC,4BAAI,MAAM,WAAN,CAAkB,IAAlB,CAAJ;AACA,4BAAI,CAAC,MAAL,EAAa;AACT,gCAAI,IAAI,QAAQ,WAAR,CAAoB,IAApB,CAAR;AACH;AACJ;AACD,0BAAM,GAAN,CAAU,QAAV,EAAoB,SAAS,IAAI,MAAb,GAAsB,CAA1C;AACH,iBAVL;AAWA,oBAAI,QAAQ,EAAR,CAAW,UAAX,CAAJ,EAA4B;AACxB,yBAAK,QAAQ,WAAR,CAAoB,IAApB,CAAL;AACA,4BAAQ,OAAR,CAAgB,MAAhB,EAAwB,YAAY;AAChC,iCAAS,IAAT,CAAc,MAAd,EAAsB,QAAtB,CAA+B,SAA/B;AACA,+BAAO,EAAP;AACH,qBAHD;AAIH,iBAND,MAMO;AACH,8BAAU,IAAV,CAAe,MAAf,EAAuB,QAAvB,CAAgC,QAAhC;AACA,4BAAQ,SAAR,CAAkB,MAAlB,EAA0B,YAAY;AAClC;AACH,qBAFD;AAGH;AACD,uBAAO,KAAP;AACH,aAzBD;AA0BA,iBAAK,QAAL,CAAc,MAAd,EAAsB,SAAtB,EAAiC,UAAU,CAAV,EAAa;AAC1C,oBAAI,MAAM,EAAE,KAAF,IAAW,EAAE,OAAvB;AACA,oBAAI,QAAQ,EAAR,IAAc,CAAC,MAAM,IAAN,CAAW,UAAX,CAAnB,EAA2C;AACvC,yBAAK,cAAL,CAAoB,MAApB,EAA4B,GAA5B;AACH;AACD,oBAAI,QAAQ,EAAR,IAAc,CAAC,MAAM,IAAN,CAAW,UAAX,CAAnB,EAA2C;AACvC,yBAAK,cAAL,CAAoB,MAApB,EAA4B,GAA5B;AACH;AACJ,aARD;AASH,SAjwCiB;AAkwClB,sBAAc,sBAAU,IAAV,EAAgB;AAC1B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAjB;AAAA,gBAAyB,SAAS,KAAK,MAAvC;AACA,gBAAI,CAAC,KAAK,MAAV,EAAkB;AACd,sBAAM,kCAAN;AACH;AACD,eAAG,SAAH,CAAa,MAAb;AACA,mBAAO,IAAP,CAAY,KAAK,gBAAL,EAAZ;AACA,qBAAS,KAAK,OAAL,CAAa,GAAG,MAAhB,CAAT;AACA,iBAAK,eAAL,CAAqB,MAArB;AACA,mBAAO,KAAP,CAAa,MAAb;AACA,iBAAK,gBAAL;AACH,SA7wCiB;AA8wClB,wBAAgB,wBAAU,GAAV,EAAe,SAAf,EAA0B;AACtC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB,2BAA2B,GAA5C,CAAxB;AAAA,gBAA0E,UAA1E;AAAA,gBAAsF,CAAtF;AAAA,gBACI,SAAS,KAAK,SAAL,GAAiB,OAAjB,EADb;AAAA,gBACyC,MAAM,OAAO,MADtD;AAAA,gBAC8D,GAD9D;AAEA,gBAAI,KAAK,IAAL,CAAU,UAAV,CAAJ,EAA2B;AACvB;AACH;AACD,iBAAK,IAAI,CAAT,EAAY,IAAI,GAAhB,EAAqB,GAArB,EAA0B;AACtB,oBAAI,EAAE,OAAO,CAAP,CAAF,EAAa,IAAb,CAAkB,IAAlB,MAA4B,SAAhC,EAA2C;AACvC,0BAAM,QAAQ,MAAR,GAAiB,IAAI,CAArB,GAAyB,IAAI,CAAnC;AACA;AACH;AACJ;AACD,gBAAI,MAAM,CAAN,IAAW,OAAO,GAAlB,IAAyB,CAAC,OAAO,GAAP,CAA9B,EAA2C;AACvC;AACH;AACD,yBAAa,EAAE,OAAO,GAAP,CAAF,CAAb;AACA,gBAAI,WAAW,MAAf,EAAuB;AACnB,qBAAK,eAAL,CAAqB,UAArB,EAAiC,IAAjC;AACH;AACD,iBAAK,gBAAL;AACA,iBAAK,MAAL,CAAY,aAAa,GAAzB,EAA8B,EAAC,aAAa,SAAd,EAAyB,OAAO,KAAK,MAArC,EAA9B;AACH,SAnyCiB;AAoyClB,yBAAiB,2BAAY;AACzB,gBAAI,OAAO,IAAX;AACA,iBAAK,QAAL,CAAc,IAAd,CAAmB,eAAnB,EAAoC,IAApC,CAAyC,YAAY;AACjD,oBAAI,MAAM,EAAE,IAAF,CAAV;AACA,qBAAK,QAAL,CAAc,GAAd,EAAmB,OAAnB,EAA4B,YAAY;AACpC,yBAAK,YAAL,CAAkB,GAAlB;AACH,iBAFD;AAGH,aALD;AAMH,SA5yCiB;AA6yClB,uBAAe,uBAAU,GAAV,EAAe;AAC1B,gBAAI,IAAJ,CAAS,aAAT,EAAwB,IAAxB,CAA6B,YAAY;AACrC,qBAAK,KAAL;AACA,kBAAE,IAAF,EAAQ,MAAR;AACH,aAHD;AAIA,gBAAI,IAAJ,CAAS,gBAAT,EAA2B,IAA3B,CAAgC,YAAY;AACxC,kBAAE,IAAF,EAAQ,MAAR;AACH,aAFD;AAGH,SArzCiB;AAszClB,yBAAiB,2BAAY;AACzB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AAAA,gBAAsC,OAAtC;AAAA,gBAA+C,OAA/C;AAAA,gBAAwD,MAAxD;AACA,iBAAK,gBAAL,GAAwB,IAAxB;AACA,gBAAI,GAAG,OAAH,CAAW,IAAI,GAAJ,EAAX,CAAJ,EAA2B;AACvB;AACH;AACD;AACA;AACA,gBAAI,KAAK,KAAL,IAAc,KAAK,MAAvB,EAA+B;AAC3B,0BAAU,IAAI,OAAJ,CAAY,MAAZ,CAAV;AACA,0BAAU,EAAE,SAAS,aAAT,CAAuB,MAAvB,CAAF,CAAV;AACA,yBAAS,EAAE,SAAS,aAAT,CAAuB,KAAvB,CAAF,CAAT;AACA,oBAAI,MAAJ,CAAW,MAAX;AACA,oBAAI,QAAQ,MAAZ,EAAoB;AAChB,4BAAQ,KAAR,CAAc,OAAd;AACH,iBAFD,MAEO;AACH,2BAAO,KAAP,CAAa,OAAb;AACH;AACD,wBAAQ,MAAR,CAAe,GAAf,EAAoB,OAApB,CAA4B,OAA5B;AACA,uBAAO,MAAP,CAAc,GAAd,EAAmB,MAAnB;AACA,wBAAQ,MAAR;AACH,aAbD,MAaO;AAAE;AACL,oBAAI,GAAJ,CAAQ,EAAR;AACH;AACJ,SA90CiB;AA+0ClB,sBAAc,wBAAY;AACtB,gBAAI,OAAO,IAAX;AACA,iBAAK,WAAL,GAAmB,EAAC,SAAS,EAAV,EAAc,QAAQ,EAAtB,EAA0B,MAAM,EAAhC,EAAoC,QAAQ,IAA5C,EAAnB;AACA,iBAAK,WAAL,GAAmB,CAAnB;AACA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,SAAL,GAAiB,EAAjB;AACA,iBAAK,gBAAL,GAAwB,CAAxB;AACA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,gBAAL,GAAwB,CAAxB;AACA,iBAAK,UAAL,CAAgB,UAAhB,CAA2B,UAA3B;AACA,iBAAK,YAAL,CAAkB,CAAlB;AACA,iBAAK,SAAL,CAAe,IAAf;AACA,iBAAK,YAAL,CAAkB,KAAlB;AACA,iBAAK,WAAL,GAAmB,KAAnB;AACA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,YAAL;AACA,iBAAK,mBAAL,GAA2B,EAA3B;AACA,gBAAI,KAAK,gBAAT,EAA2B;AACvB,qBAAK,cAAL,GAAsB,EAAtB;AACA,qBAAK,oBAAL,GAA4B,EAA5B;AACA,qBAAK,uBAAL,GAA+B,EAA/B;AACA,qBAAK,YAAL,CAAkB,IAAlB,GAAyB;AACrB,6BAAS,EADY;AAErB,4BAAQ,EAFa;AAGrB,0BAAM;AAHe,iBAAzB;AAKH;AACJ,SA12CiB;AA22ClB,sBAAc,wBAAY;AACtB,gBAAI,OAAO,IAAX;AACA,gBAAI,KAAK,MAAL,IAAe,KAAK,kBAAxB,EAA4C;AACxC,qBAAK,kBAAL,CAAwB,SAAxB,CAAkC,CAAlC,EAAqC,CAArC,EAAwC,KAAK,MAAL,CAAY,KAApD,EAA2D,KAAK,MAAL,CAAY,MAAvE;AACH;AACJ,SAh3CiB;AAi3ClB,4BAAoB,8BAAY;AAC5B,gBAAI,OAAO,IAAX;AACA,mBAAO,CAAC,KAAK,gBAAN,IAA0B,KAAK,YAAL,CAAkB,KAAlB,EAAjC;AACH,SAp3CiB;AAq3ClB,uBAAe,yBAAY;AACvB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,GAAjB;AAAA,gBAAsB,GAAtB;AACA,gBAAI,KAAK,YAAL,CAAkB,KAAlB,EAAJ,EAA+B;AAC3B,sBAAM,KAAK,YAAL,CAAkB,GAAlB,EAAN;AACA,qBAAK,kBAAL,CAAwB,IAAI,OAA5B;AACA,qBAAK,iBAAL;AACA,sBAAM,KAAK,cAAL,GAAsB,KAAK,cAA3B,GAA4C,IAAI,OAAtD;AACA,qBAAK,WAAL,CAAiB,GAAjB;AACH,aAND,MAMO;AACH,qBAAK,aAAL;AACA,qBAAK,YAAL;AACH;AACD,gBAAI,KAAK,WAAT,EAAsB;AAClB,qBAAK,SAAL;AACA,qBAAK,aAAL;AACH;AACJ,SAr4CiB;AAs4ClB,8BAAsB,gCAAY;AAC9B,gBAAI,OAAO,IAAX;AACA,iBAAK,QAAL,CAAc,IAAd,CAAmB,uBAAnB,EAA4C,MAA5C;AACH,SAz4CiB;AA04ClB,iCAAyB,mCAAY;AACjC,gBAAI,OAAO,IAAX;AACA,gBAAI,CAAC,KAAK,WAAN,IAAqB,GAAG,OAAH,CAAW,KAAK,qBAAhB,CAAzB,EAAiE;AAC7D;AACH;AACD,iBAAK,kBAAL,CAAwB,uCAAuC,KAAK,qBAA5C,GAAoE,QAA5F;AACA,iBAAK,UAAL,CAAgB,WAAhB,CAA4B,gBAA5B;AACA,iBAAK,cAAL;AACH,SAl5CiB;AAm5ClB,6BAAqB,6BAAU,MAAV,EAAkB;AACnC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,GAAjB;AACA,gBAAI,MAAJ,EAAY;AACR,qBAAK,aAAL;AACA,qBAAK,UAAL;AACA;AACH;AACD,gBAAI,KAAK,kBAAL,EAAJ,EAA+B;AAC3B,sBAAM,KAAK,YAAL,CAAkB,GAAlB,EAAN;AACA,qBAAK,kBAAL,CAAwB,IAAI,OAA5B;AACA,qBAAK,iBAAL;AACA,qBAAK,WAAL,CAAiB,IAAI,OAArB;AACA,qBAAK,mBAAL;AACH,aAND,MAMO;AACH,qBAAK,aAAL;AACH;AACJ,SAn6CiB;AAo6ClB,4BAAoB,4BAAU,CAAV,EAAa;AAC7B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,KAAK,eAAL,CAAqB,CAArB,CAA5B;AACA,gBAAI,GAAG,OAAH,CAAW,KAAK,gBAAhB,CAAJ,EAAuC;AACnC,uBAAO,QAAP;AACH;AACD,mBAAO,GAAG,WAAH,CAAe,QAAf,EAAyB,KAAK,gBAA9B,CAAP;AACH,SA16CiB;AA26ClB,6BAAqB,6BAAU,CAAV,EAAa;AAC9B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,KAAK,gBAAL,CAAsB,CAAtB,CAA5B;AACA,gBAAI,GAAG,OAAH,CAAW,KAAK,iBAAhB,CAAJ,EAAwC;AACpC,uBAAO,QAAP;AACH;AACD,mBAAO,GAAG,WAAH,CAAe,QAAf,EAAyB,KAAK,iBAA9B,CAAP;AACH,SAj7CiB;AAk7ClB,qBAAa,qBAAU,KAAV,EAAiB,YAAjB,EAA+B,SAA/B,EAA0C;AACnD,gBAAI,OAAO,IAAX;AACA,oBAAQ,SAAS,EAAjB;AACA,2BAAe,gBAAgB,EAA/B;AACA,wBAAY,aAAa,KAAK,SAAL,CAAe,KAAf,CAAqB,CAArB,CAAb,IAAwC,EAApD;AACA,mBAAO;AACH,sBAAM,KAAK,QADR;AAEH,uBAAO,SAFJ;AAGH,2BAAW,KAAK,SAHb;AAIH,4BAAY,KAAK,aAAL,EAJT;AAKH,uBAAO,KAAK,aAAL,EALJ;AAMH,0BAAU,YANP;AAOH,wBAAQ,KAAK,MAPV;AAQH,uBAAO;AARJ,aAAP;AAUH,SAj8CiB;AAk8ClB,yBAAiB,yBAAU,CAAV,EAAa;AAC1B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,MAAM,CAAN,GAAU,KAAK,UAAf,GAA4B,KAAK,UAA7D;AACA,mBAAO,IAAI,CAAJ,GAAQ,KAAK,WAAL,CAAiB,OAAjB,CAAyB,KAAzB,EAAgC,CAAhC,EAAmC,OAAnC,CAA2C,SAA3C,EAAsD,QAAtD,CAAR,GAA0E,KAAK,kBAAtF;AACH,SAr8CiB;AAs8ClB,mBAAW,mBAAU,EAAV,EAAc;AACrB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,EAAE,MAAM,EAAR,CAA1B;AACA,gBAAI,CAAC,OAAO,MAAZ,EAAoB;AAChB,qBAAK,IAAL,CAAU,mCAAmC,EAAnC,GAAwC,IAAlD;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,MAAP;AACH,SA78CiB;AA88ClB,oBAAY,oBAAU,GAAV,EAAe;AACvB,kBAAM,OAAO,EAAb;AACA,mBAAO,KAAK,SAAL,CAAe,gCAAgC,GAA/C,CAAP;AACH,SAj9CiB;AAk9ClB,uBAAe,uBAAU,SAAV,EAAqB,KAArB,EAA4B;AACvC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,KAAK,eAA7B;AACA,gBAAI,OAAO,KAAK,eAAZ,KAAgC,UAApC,EAAgD;AAC5C,uBAAO,KAAK,eAAL,CAAqB,SAArB,EAAgC,KAAhC,CAAP;AACH;AACD,mBAAO,IAAP;AACH,SAx9CiB;AAy9ClB,kBAAU,kBAAU,MAAV,EAAkB,SAAlB,EAA6B,SAA7B,EAAwC;AAC9C,gBAAI,OAAO,IAAX;AACA,gBAAI,OAAO,MAAX,EAAmB;AACf,uBAAO,MAAP,CAAc,gBAAd,CAA+B,UAA/B,EAA2C,UAAU,KAAV,EAAiB;AACxD,wBAAI,MAAM,CAAV;AAAA,wBAAa,QAAQ,MAAM,KAA3B;AAAA,wBAAkC,WAAW,MAAM,MAAN,IAAgB,MAAM,QAAnE;AACA;AACA,wBAAI,MAAM,gBAAV,EAA4B;AACxB,8BAAM,KAAK,KAAL,CAAW,WAAW,KAAX,GAAmB,GAA9B,CAAN;AACH;AACD,wBAAI,SAAJ,EAAe;AACX,6BAAK,qBAAL,CAA2B,SAA3B,EAAsC,GAAtC,EAA2C,SAA3C;AACH,qBAFD,MAEO;AACH,6BAAK,YAAL,CAAkB,GAAlB;AACH;AACJ,iBAXD,EAWG,KAXH;AAYH;AACD,mBAAO,MAAP;AACH,SA1+CiB;AA2+ClB,4BAAoB,4BAAU,QAAV,EAAoB,OAApB,EAA6B,IAA7B,EAAmC;AACnD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,KAAK,YAAjC;AAAA,gBAA+C,OAAO,KAAK,kBAA3D;AAAA,gBAA+E,QAA/E;AACA,gBAAI,SAAS,QAAb,EAAuB;AACnB,2BAAW,KAAK,kBAAhB;AACA,uBAAO,KAAK,wBAAZ;AACH;AACD,uBAAW,SAAS,QAAT,CAAX;AACA,gBAAI,QAAQ,OAAO,QAAP,KAAoB,UAAhC,EAA4C;AACxC,oBAAI,SAAS,QAAb,EAAuB;AACnB,6BAAS,QAAT,IAAqB,YAAY;AAC7B,iCAAS,KAAT,CAAe,IAAf,EAAqB,SAArB;AACA,gCAAQ,KAAR,CAAc,IAAd,EAAoB,SAApB;AACH,qBAHD;AAIH,iBALD,MAKO;AACH,6BAAS,QAAT,IAAqB,YAAY;AAC7B,gCAAQ,KAAR,CAAc,IAAd,EAAoB,SAApB;AACA,iCAAS,KAAT,CAAe,IAAf,EAAqB,SAArB;AACH,qBAHD;AAIH;AACJ,aAZD,MAYO;AACH,yBAAS,QAAT,IAAqB,OAArB;AACH;AACD,gBAAI,SAAS,QAAb,EAAuB;AACnB,qBAAK,kBAAL,GAA0B,QAA1B;AACH,aAFD,MAEO;AACH,qBAAK,YAAL,GAAoB,QAApB;AACH;AACJ,SAtgDiB;AAugDlB,qBAAa,qBAAU,QAAV,EAAoB,SAApB,EAA+B,UAA/B,EAA2C,OAA3C,EAAoD,SAApD,EAA+D,KAA/D,EAAsE;AAC/E,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAjB;AACA,gBAAI,CAAC,KAAK,MAAL,CAAY,aAAZ,EAA2B,CAAC,SAAD,EAAY,KAAZ,CAA3B,CAAL,EAAqD;AACjD;AACH;AACD,iBAAK,YAAL,CAAkB,SAAlB,EAA6B,KAA7B;AACA,iBAAK,kBAAL,CAAwB,YAAxB,EAAsC,QAAtC;AACA,iBAAK,kBAAL,CAAwB,SAAxB,EAAmC,SAAnC;AACA,iBAAK,kBAAL,CAAwB,UAAxB,EAAoC,UAApC;AACA,iBAAK,kBAAL,CAAwB,OAAxB,EAAiC,OAAjC;AACA,uBAAW,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB;AAC1B,qBAAK,eAAY;AACb,wBAAI,SAAS,EAAE,YAAF,CAAe,GAAf,EAAb;AACA,2BAAO,KAAK,QAAL,CAAc,MAAd,EAAsB,SAAtB,EAAiC,KAAK,YAAL,GAAoB,MAArD,CAAP;AACH,iBAJyB;AAK1B,qBAAK,SAAS,KAAK,cAAd,GAA+B,KAAK,cAApC,GAAqD,KAAK,SALrC;AAM1B,sBAAM,MANoB;AAO1B;AACA,sBAAM,KAAK,QARe;AAS1B,uBAAO,KATmB;AAU1B,6BAAa,KAVa;AAW1B,6BAAa;AAXa,aAAnB,EAYR,KAAK,YAZG,CAAX;AAaA,iBAAK,YAAL,CAAkB,IAAlB,CAAuB,EAAE,IAAF,CAAO,QAAP,CAAvB;AACH,SA/hDiB;AAgiDlB,qBAAa,qBAAU,IAAV,EAAgB,OAAhB,EAAyB;AAClC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,GAAG,UAAH,CAAc,KAAK,IAAL,CAAd,CAAxB;AAAA,gBAAmD,OAAO,GAAG,UAAH,CAAc,OAAd,CAA1D;AACA,iBAAK,IAAL,IAAa,KAAK,MAAL,CAAY,IAAZ,CAAb;AACH,SAniDiB;AAoiDlB,4BAAoB,4BAAU,GAAV,EAAe,MAAf,EAAuB,QAAvB,EAAiC;AACjD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAjB;AAAA,gBAAyB,IAAzB;AAAA,gBAA+B,KAA/B;AAAA,gBAAsC,IAAtC;AAAA,gBAA4C,SAA5C;AAAA,gBAAuD,OAAvD;AAAA,gBAAgE,MAAhE;AAAA,gBAAwE,IAAxE;AAAA,gBAA8E,CAA9E;AACA,gBAAI,CAAC,KAAK,WAAN,IAAqB,QAAO,GAAP,yCAAO,GAAP,OAAe,QAApC,IAAgD,EAAE,aAAF,CAAgB,GAAhB,CAApD,EAA0E;AACtE;AACH;AACD,gBAAI,IAAI,cAAJ,KAAuB,SAAvB,IAAoC,IAAI,cAAJ,CAAmB,MAAnB,GAA4B,CAApE,EAAuE;AACnE,qBAAK,WAAL,GAAmB,IAAnB;AACA,0BAAU,IAAI,cAAJ,IAAsB,EAAhC;AACA,yBAAS,IAAI,oBAAJ,IAA4B,EAArC;AACA,uBAAO,IAAI,uBAAJ,IAA+B,EAAtC;AACA,yBAAS,IAAI,MAAJ,KAAe,SAAf,IAA4B,IAAI,MAAzC;AACA,oBAAI,QAAQ,MAAR,GAAiB,CAAjB,IAAsB,CAAC,GAAG,OAAH,CAAW,OAAX,CAA3B,EAAgD;AAC5C,8BAAU,QAAQ,KAAR,CAAc,KAAK,uBAAnB,CAAV;AACH;AACD,qBAAK,WAAL,CAAiB,gBAAjB,EAAmC,OAAnC;AACA,qBAAK,WAAL,CAAiB,sBAAjB,EAAyC,MAAzC;AACA,qBAAK,WAAL,CAAiB,yBAAjB,EAA4C,IAA5C;AACA,oBAAI,WAAW,SAAf,EAA0B;AACtB,wBAAI,CAAC,QAAL,EAAe;AACX,gCAAQ,KAAK,YAAL,CAAkB,GAAlB,CAAsB,OAAtB,EAA+B,OAAO,CAAP,CAA/B,EAA0C,KAAK,CAAL,CAA1C,EAAmD,MAAnD,CAAR;AACA,+BAAO,KAAK,YAAL,CAAkB,GAAlB,CAAsB,KAAtB,EAA6B,KAA7B,CAAP;AACA,+BAAO,EAAE,SAAS,aAAT,CAAuB,KAAvB,CAAF,EAAiC,IAAjC,CAAsC,IAAtC,EAA4C,IAA5C,GAAmD,WAAnD,CAA+D,MAA/D,CAAP;AACA,oCAAY,KAAK,IAAL,CAAU,gBAAV,CAAZ;AACA,4BAAI,aAAa,UAAU,MAA3B,EAAmC;AAC/B,sCAAU,WAAV,CAAsB,MAAtB;AACH;AACD,+BAAO,OAAP,CAAe,MAAf,EAAuB,YAAY;AAC/B,gCAAI,YAAY,KAAK,IAAL,CAAU,qBAAV,CAAhB;AACA,gCAAI,aAAa,UAAU,MAA3B,EAAmC;AAC/B,0CAAU,YAAV,CAAuB,MAAvB,EAA+B,MAA/B,CAAsC,MAAtC,EAA8C,GAA9C,CAAkD,sBAAlD;AACH;AACD,iCAAK,mBAAL;AACA,iCAAK,eAAL;AACA,+BAAG,cAAH,CAAkB,KAAK,QAAL,CAAc,IAAd,CAAmB,WAAW,OAAO,IAAP,CAAY,IAAZ,CAA9B,CAAlB;AACA,mCAAO,MAAP;AACA,iCAAK,MAAL;AACA,iCAAK,aAAL;AACH,yBAXD;AAYH,qBApBD,MAoBO;AACH,4BAAI,OAAO,IAAP,CAAY,gBAAZ,CAAJ;AACA,6BAAK,WAAL,CAAiB,OAAjB,CAAyB,CAAzB,IAA8B,QAAQ,CAAR,CAA9B;AACA,6BAAK,WAAL,CAAiB,MAAjB,CAAwB,CAAxB,IAA6B,OAAO,CAAP,KAAa,EAA1C;AACA,6BAAK,WAAL,CAAiB,IAAjB,CAAsB,CAAtB,IAA2B,KAAK,CAAL,KAAW,EAAtC;AACA,6BAAK,WAAL,CAAiB,MAAjB,GAA0B,MAA1B;AACH;AACJ,iBA5BD,MA4BO;AACH,yBAAK,YAAL,CAAkB,GAAlB,CAAsB,OAAtB,EAA+B,MAA/B,EAAuC,IAAvC,EAA6C,MAA7C;AACA,yBAAK,YAAL;AACA,yBAAK,mBAAL;AACH;AACJ;AACJ,SAvlDiB;AAwlDlB,4BAAoB,8BAAY;AAC5B,gBAAI,OAAO,IAAX;AACA,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,iBAAK,UAAL,CAAgB,GAAG,MAAH,GAAY,uBAA5B,EAAqD,IAArD,CAA0D,YAAY;AAClE,oBAAI,SAAS,EAAE,IAAF,CAAb;AAAA,oBAAsB,WAAW,KAAK,QAAtC;AAAA,oBAAgD,UAAU,OAAO,IAAP,CAAY,iBAAZ,CAA1D;AACA,wBAAQ,UAAR,CAAmB,UAAnB;AACA,qBAAK,QAAL,CAAc,OAAd,EAAuB,OAAvB,EAAgC,YAAY;AACxC,wBAAI,KAAK,OAAO,IAAP,CAAY,IAAZ,CAAT;AAAA,wBACI,MAAM,KAAK,MAAL,CAAY,mBAAZ,EAAiC,CAAC,EAAD,EAAK,OAAO,IAAP,CAAY,gBAAZ,CAAL,CAAjC,CADV;AAEA,uBAAG,WAAH,CAAe,MAAf;AACA,wBAAI,QAAQ,KAAZ,EAAmB;AACf;AACH;AACD,2BAAO,OAAP,CAAe,MAAf,EAAuB,YAAY;AAC/B,2BAAG,cAAH,CAAkB,SAAS,IAAT,CAAc,WAAW,EAAzB,CAAlB;AACA,+BAAO,MAAP;AACA,4BAAI,CAAC,KAAK,SAAL,GAAiB,MAAtB,EAA8B;AAC1B,iCAAK,KAAL;AACH;AACJ,qBAND;AAOH,iBAdD;AAeH,aAlBD;AAmBH,SAhnDiB;AAinDlB,6BAAqB,+BAAY;AAC7B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAjB;AAAA,gBAA4B,CAA5B;AACA,iBAAK,IAAI,CAAT,EAAY,IAAI,KAAK,SAAL,CAAe,MAA/B,EAAuC,GAAvC,EAA4C;AACxC,oBAAI,KAAK,SAAL,CAAe,CAAf,CAAJ,EAAuB;AACnB,gCAAY,KAAK,aAAL,GAAqB,GAArB,GAA2B,CAAvC;AACA,wBAAI,EAAE,OAAF,CAAU,SAAV,EAAqB,KAAK,SAA1B,MAAyC,CAAC,CAA9C,EAAiD;AAC7C,+BAAO,KAAP;AACH;AACJ;AACJ;AACD,mBAAQ,KAAK,gBAAL,KAA0B,KAAK,SAAL,CAAe,MAAjD;AACH,SA5nDiB;AA6nDlB,sBAAc,sBAAU,SAAV,EAAqB,KAArB,EAA4B;AACtC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,KAAK,aAAL,CAAmB,SAAnB,EAA8B,KAA9B,CAAxB;AACA,gBAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB;AACnB;AACH;AACD,cAAE,IAAF,CAAO,IAAP,EAAa,UAAU,GAAV,EAAe,KAAf,EAAsB;AAC/B,qBAAK,QAAL,CAAc,MAAd,CAAqB,GAArB,EAA0B,KAA1B;AACH,aAFD;AAGH,SAroDiB;AAsoDlB,uBAAe,uBAAU,CAAV,EAAa,OAAb,EAAsB;AACjC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,YAAL,GAAoB,MAA7C;AAAA,gBAAqD,WAAW,IAAI,QAAJ,EAAhE;AAAA,gBAAgF,OAAhF;AAAA,gBACI,YAAY,KAAK,aAAL,GAAqB,GAArB,GAA2B,CAD3C;AAAA,gBAC8C,MAD9C;AAAA,gBACsD,WADtD;AAAA,gBACmE,UADnE;AAAA,gBAC+E,UAD/E;AAAA,gBAEI,cAAc,KAAK,SAAL,CAAe,MAAf,GAAwB,CAAxB,IAA6B,CAAC,EAAE,aAAF,CAAgB,KAAK,eAArB,CAFhD;AAAA,gBAEuF,YAFvF;AAAA,gBAGI,QAAQ,EAAE,MAAM,SAAR,EAAmB,IAAnB,CAAwB,sBAAxB,CAHZ;AAAA,gBAG6D,QAH7D;AAAA,gBAGuE,SAHvE;AAAA,gBAGkF,UAHlF;AAAA,gBAG8F,OAH9F;AAAA,gBAII,eAJJ;AAAA,gBAIqB,SAAS,EAAC,IAAI,SAAL,EAAgB,OAAO,CAAvB,EAJ9B;AAKA,iBAAK,QAAL,GAAgB,QAAhB;AACA,gBAAI,KAAK,WAAT,EAAsB;AAClB,yBAAS,EAAE,MAAM,SAAN,GAAkB,6BAApB,CAAT;AACA,6BAAa,OAAO,IAAP,CAAY,iBAAZ,CAAb;AACA,6BAAa,OAAO,IAAP,CAAY,iBAAZ,CAAb;AACA,sBAAM,IAAN;AACH;AACD,gBAAI,UAAU,CAAV,IAAe,CAAC,WAAhB,IAAgC,cAAc,WAAW,QAAX,CAAoB,UAApB,CAA9C,IAAkF,KAAK,MAAL,CAAY,MAAZ,CAAtF,EAA2G;AACvG;AACH;AACD,8BAAkB,yBAAU,CAAV,EAAa,SAAb,EAAwB;AACtC,oBAAI,CAAC,YAAL,EAAmB;AACf,yBAAK,WAAL,CAAiB,CAAjB,EAAoB,SAApB;AACH;AACD,qBAAK,SAAL,CAAe,IAAf,CAAoB,SAApB;AACA,oBAAI,KAAK,mBAAL,EAAJ,EAAgC;AAC5B,yBAAK,kBAAL,GAA0B,IAA1B;AACH;AACJ,aARD;AASA,0BAAc,uBAAY;AACtB,oBAAI,IAAI,KAAK,WAAb;AAAA,oBAA0B,WAA1B;AAAA,oBAAuC,CAAvC;AAAA,oBAA0C,CAA1C;AAAA,oBAA6C,MAAM,CAAnD;AAAA,oBAAsD,OAAO,KAAK,mBAAlE;AACA,oBAAI,CAAC,KAAK,kBAAV,EAA8B;AAC1B;AACH;AACD,oBAAI,QAAQ,KAAK,OAAjB,EAA0B;AACtB,0BAAM,KAAK,OAAL,CAAa,MAAnB;AACH;AACD,2BAAW,YAAY;AACnB,wBAAI,eAAe,KAAK,YAAL,CAAkB,IAAlB,EAAwB,MAAxB,KAAmC,CAAtD;AACA,wBAAI,KAAK,WAAT,EAAsB;AAClB,6BAAK,YAAL,CAAkB,GAAlB,CAAsB,EAAE,OAAxB,EAAiC,EAAE,MAAnC,EAA2C,EAAE,IAA7C,EAAmD,EAAE,MAArD;AACA,4BAAI,GAAJ,EAAS;AACL,iCAAK,IAAI,CAAT,EAAY,IAAI,EAAE,OAAF,CAAU,MAA1B,EAAkC,GAAlC,EAAuC;AACnC,oCAAI,IAAI,GAAR;AACA,qCAAK,OAAL,CAAa,CAAb,IAAkB,EAAE,OAAF,CAAU,CAAV,CAAlB;AACA;AACA,oCAAI,KAAK,MAAL,CAAY,MAAhB,EAAwB;AACpB,yCAAK,MAAL,CAAY,CAAZ,IAAiB,EAAE,MAAF,CAAS,CAAT,CAAjB;AACH;AACD,oCAAI,KAAK,IAAL,CAAU,MAAd,EAAsB;AAClB,yCAAK,IAAL,CAAU,CAAV,IAAe,EAAE,IAAF,CAAO,CAAP,CAAf;AACH;AACJ;AACD,iCAAK,cAAL,GAAsB,GAAG,UAAH,CAAc,KAAK,OAAnB,CAAtB;AACA,iCAAK,oBAAL,GAA4B,GAAG,UAAH,CAAc,KAAK,MAAnB,CAA5B;AACA,iCAAK,uBAAL,GAA+B,GAAG,UAAH,CAAc,KAAK,IAAnB,CAA/B;AACH,yBAfD,MAeO;AACH,iCAAK,cAAL,GAAsB,EAAE,OAAxB;AACA,iCAAK,oBAAL,GAA4B,EAAE,MAA9B;AACA,iCAAK,uBAAL,GAA+B,EAAE,IAAjC;AACH;AACD,6BAAK,mBAAL,GAA2B,EAA3B;AACA,4BAAI,KAAK,WAAT,EAAsB;AAClB,iCAAK,YAAL;AACA,iCAAK,mBAAL;AACH;AACJ;AACD,yBAAK,MAAL,CAAY,YAAZ;AACA,wBAAI,YAAJ,EAAkB;AACd,6BAAK,eAAL;AACH;AACD,kCAAc,KAAK,QAAL,CAAc,IAAd,CAAmB,uBAAnB,CAAd;AACA,wBAAI,KAAK,WAAL,IAAoB,YAAY,MAApC,EAA4C;AACxC,2BAAG,MAAH,CAAU,WAAV,EAAuB,GAAG,QAA1B;AACA,6BAAK,aAAL;AACH;AACD,yBAAK,MAAL,CAAY,yBAAZ,EAAuC,CAAC,KAAK,SAAN,EAAiB,KAAK,aAAL,EAAjB,CAAvC;AACA,yBAAK,WAAL,GAAmB,CAAnB;AACA,yBAAK,YAAL,GAAoB,EAApB;AACA,yBAAK,SAAL,GAAiB,EAAjB;AACA,yBAAK,YAAL,CAAkB,GAAlB;AACA,yBAAK,WAAL,GAAmB,KAAnB;AACH,iBA7CD,EA6CG,GA7CH;AA8CH,aAtDD;AAuDA,uBAAW,kBAAU,KAAV,EAAiB;AACxB,0BAAU,KAAK,WAAL,CAAiB,KAAjB,CAAV;AACA,qBAAK,kBAAL,GAA0B,KAA1B;AACA,oBAAI,CAAC,OAAL,EAAc;AACV,yBAAK,WAAL,GAAmB,KAAnB;AACH;AACD,oBAAI,KAAK,WAAT,EAAsB;AAClB,wBAAI,CAAC,OAAO,QAAP,CAAgB,sBAAhB,CAAL,EAA8C;AAC1C,6BAAK,eAAL,CAAqB,MAArB,EAA6B,SAA7B;AACA,2BAAG,MAAH,CAAU,MAAV,EAAkB,gBAAlB;AACH;AACD,+BAAW,IAAX,CAAgB,UAAhB,EAA4B,IAA5B;AACA,+BAAW,IAAX,CAAgB,UAAhB,EAA4B,IAA5B;AACH;AACD,oBAAI,CAAC,OAAL,EAAc;AACV,yBAAK,IAAL;AACH;AACD,qBAAK,MAAL,CAAY,eAAZ,EAA6B,CAAC,OAAD,EAAU,SAAV,EAAqB,CAArB,CAA7B;AACA,kBAAE,MAAF,CAAS,IAAT,EAAe,MAAf,EAAuB,OAAvB;AACA,oBAAI,KAAK,MAAL,CAAY,MAAZ,CAAJ,EAAyB;AACrB,0BAAM,KAAN;AACA,wBAAI,CAAC,OAAL,EAAc;AACV,6BAAK,eAAL,CAAqB,MAArB,EAA6B,KAA7B;AACA,+BAAO,WAAP,CAAmB,gBAAnB;AACA,mCAAW,UAAX,CAAsB,UAAtB;AACA,mCAAW,UAAX,CAAsB,UAAtB;AACA,6BAAK,MAAL;AACH;AACD,yBAAK,qBAAL;AACH;AACJ,aA9BD;AA+BA,wBAAY,mBAAU,IAAV,EAAgB,UAAhB,EAA4B,KAA5B,EAAmC;AAC3C,oBAAI,MAAM,KAAK,WAAL,IAAoB,OAAO,IAAP,CAAY,IAAZ,CAApB,GAAwC,OAAO,IAAP,CAAY,IAAZ,CAAxC,GAA4D,SAAtE;AACA,0BAAU,KAAK,WAAL,CAAiB,KAAjB,EAAwB,IAAxB,CAAV;AACA,kBAAE,MAAF,CAAS,IAAT,EAAe,MAAf,EAAuB,OAAvB;AACA,2BAAW,YAAY;AACnB,wBAAI,GAAG,OAAH,CAAW,IAAX,KAAoB,GAAG,OAAH,CAAW,KAAK,KAAhB,CAAxB,EAAgD;AAC5C,4BAAI,KAAK,WAAT,EAAsB;AAClB,iCAAK,eAAL,CAAqB,MAArB,EAA6B,SAA7B;AACA,uCAAW,IAAX;AACA,iCAAK,kBAAL,CAAwB,IAAxB,EAA8B,MAA9B,EAAsC,OAAtC;AACA,iCAAK,YAAL,CAAkB,GAAlB,EAAuB,KAAvB;AACH;AACD,6BAAK,MAAL,CAAY,cAAZ,EAA4B,CAAC,OAAD,EAAU,GAAV,EAAe,CAAf,CAA5B;AACA,4BAAI,CAAC,OAAL,EAAc;AACV,iCAAK,WAAL,CAAiB,CAAjB,EAAoB,SAApB;AACH,yBAFD,MAEO;AACH,4CAAgB,CAAhB,EAAmB,GAAnB;AACH;AACJ,qBAbD,MAaO;AACH,uCAAe,IAAf;AACA,6BAAK,gBAAL,CAAsB,KAAK,KAA3B,EAAkC,MAAlC;AACA,6BAAK,gBAAL,CAAsB,MAAtB,EAA8B,CAA9B,EAAiC,KAAK,SAAL,CAAe,CAAf,CAAjC,EAAoD,KAAK,iBAAzD;AACA,4BAAI,CAAC,KAAK,iBAAV,EAA6B;AACzB,uCAAW,IAAX;AACH;AACD,4BAAI,OAAJ,EAAa;AACT,4CAAgB,CAAhB,EAAmB,GAAnB;AACH;AACD,6BAAK,YAAL,CAAkB,GAAlB,EAAuB,EAAE,MAAM,GAAR,EAAa,IAAb,CAAkB,sBAAlB,CAAvB,EAAkE,KAAK,cAAvE;AACH;AACJ,iBA1BD,EA0BG,GA1BH;AA2BH,aA/BD;AAgCA,yBAAa,sBAAY;AACrB,2BAAW,YAAY;AACnB,wBAAI,KAAK,WAAT,EAAsB;AAClB,mCAAW,UAAX,CAAsB,UAAtB;AACA,mCAAW,UAAX,CAAsB,UAAtB;AACA,+BAAO,WAAP,CAAmB,gBAAnB;AACH;AACD,wBAAI,CAAC,OAAL,EAAc;AACV,6BAAK,MAAL,CAAY,KAAZ;AACA,6BAAK,eAAL;AACH,qBAHD,MAGO;AACH;AACH;AACD,yBAAK,kBAAL;AACH,iBAbD,EAaG,GAbH;AAcH,aAfD;AAgBA,sBAAU,iBAAU,KAAV,EAAiB,UAAjB,EAA6B,WAA7B,EAA0C;AAChD,oBAAI,KAAK,KAAK,cAAL,CAAoB,WAA7B;AAAA,oBACI,SAAS,KAAK,WAAL,CAAiB,EAAjB,EAAqB,KAArB,EAA4B,WAA5B,EAA0C,WAAW,KAAK,SAAL,CAAe,CAAf,EAAkB,IAA7B,GAAoC,KAAK,SAAL,CAAe,CAAf,EAAkB,IAAtD,GAA6D,IAAvG,CADb;AAEA,+BAAe,IAAf;AACA,2BAAW,YAAY;AACnB,wBAAI,OAAJ,EAAa;AACT,wCAAgB,CAAhB,EAAmB,SAAnB;AACH;AACD,yBAAK,YAAL,CAAkB,SAAlB,IAA+B,GAA/B;AACA,yBAAK,gBAAL,CAAsB,MAAtB,EAA8B,CAA9B,EAAiC,KAAK,SAAL,CAAe,CAAf,CAAjC,EAAoD,KAAK,iBAAzD;AACA,wBAAI,CAAC,KAAK,iBAAV,EAA6B;AACzB,mCAAW,IAAX;AACH;AACD,sBAAE,MAAF,CAAS,IAAT,EAAe,MAAf,EAAuB,KAAK,WAAL,CAAiB,KAAjB,CAAvB;AACA,yBAAK,YAAL,CAAkB,GAAlB,EAAuB,KAAvB,EAA8B,KAAK,oBAAL,CAA0B,OAA1B,CAAkC,aAAlC,EAAiD,EAAjD,CAA9B;AACA,yBAAK,YAAL,CAAkB,GAAlB,EAAuB,EAAE,MAAM,SAAR,EAAmB,IAAnB,CAAwB,sBAAxB,CAAvB,EAAwE,KAAK,cAA7E;AACA,yBAAK,gBAAL,CAAsB,MAAtB,EAA8B,MAA9B;AACH,iBAbD,EAaG,GAbH;AAcH,aAlBD;AAmBA,qBAAS,MAAT,CAAgB,KAAK,cAArB,EAAqC,KAAK,SAAL,CAAe,CAAf,CAArC,EAAwD,KAAK,SAAL,CAAe,CAAf,CAAxD;AACA,qBAAS,MAAT,CAAgB,SAAhB,EAA2B,CAA3B;AACA,iBAAK,WAAL,CAAiB,QAAjB,EAA2B,SAA3B,EAAsC,UAAtC,EAAkD,OAAlD,EAA2D,SAA3D,EAAsE,CAAtE;AACH,SA3zDiB;AA4zDlB,sBAAc,wBAAY;AACtB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,SAA9B;AAAA,gBAAyC,QAAQ,MAAM,MAAvD;AAAA,gBAA+D,SAAS,EAAxE;AAAA,gBAA4E,QAA5E;AAAA,gBAAsF,SAAtF;AAAA,gBAAiG,OAAjG;AAAA,gBACI,UADJ;AAAA,gBACgB,cAAc,KAAK,SAAL,CAAe,MAAf,GAAwB,CAAxB,IAA6B,CAAC,EAAE,aAAF,CAAgB,KAAK,eAArB,CAD5D;AAAA,gBAEI,cAFJ;AAGA,iBAAK,QAAL,GAAgB,IAAI,QAAJ,EAAhB;AACA,gBAAI,UAAU,CAAV,IAAe,CAAC,WAAhB,IAA+B,KAAK,MAAL,CAAY,MAAZ,CAAnC,EAAwD;AACpD;AACH;AACD,6BAAiB,0BAAY;AACzB,kBAAE,IAAF,CAAO,KAAP,EAAc,UAAU,GAAV,EAAe;AACzB,yBAAK,WAAL,CAAiB,GAAjB,EAAsB,SAAtB;AACH,iBAFD;AAGA,qBAAK,eAAL;AACH,aALD;AAMA,uBAAW,kBAAU,KAAV,EAAiB;AACxB,qBAAK,IAAL;AACA,oBAAI,UAAU,KAAK,WAAL,CAAiB,KAAjB,CAAd;AACA,qBAAK,WAAL,GAAmB,KAAnB;AACA,oBAAI,KAAK,WAAT,EAAsB;AAClB,yBAAK,UAAL,GAAkB,IAAlB,CAAuB,YAAY;AAC/B,4BAAI,SAAS,EAAE,IAAF,CAAb;AAAA,4BAAsB,aAAa,OAAO,IAAP,CAAY,iBAAZ,CAAnC;AAAA,4BACI,aAAa,OAAO,IAAP,CAAY,iBAAZ,CADjB;AAEA,4BAAI,CAAC,OAAO,QAAP,CAAgB,sBAAhB,CAAL,EAA8C;AAC1C,iCAAK,eAAL,CAAqB,MAArB,EAA6B,SAA7B;AACA,+BAAG,MAAH,CAAU,MAAV,EAAkB,gBAAlB;AACH;AACD,mCAAW,IAAX,CAAgB,UAAhB,EAA4B,IAA5B;AACA,mCAAW,IAAX,CAAgB,UAAhB,EAA4B,IAA5B;AACH,qBATD;AAUH;AACD,qBAAK,MAAL,CAAY,oBAAZ,EAAkC,CAAC,OAAD,CAAlC;AACA,oBAAI,KAAK,MAAL,CAAY,OAAZ,CAAJ,EAA0B;AACtB,0BAAM,KAAN;AACA,yBAAK,UAAL,GAAkB,IAAlB,CAAuB,YAAY;AAC/B,4BAAI,SAAS,EAAE,IAAF,CAAb;AAAA,4BAAsB,aAAa,OAAO,IAAP,CAAY,iBAAZ,CAAnC;AAAA,4BACI,aAAa,OAAO,IAAP,CAAY,iBAAZ,CADjB;AAEA,4BAAI,OAAO,QAAP,CAAgB,sBAAhB,CAAJ,EAA6C;AACzC,iCAAK,eAAL,CAAqB,MAArB,EAA6B,KAA7B;AACA,mCAAO,WAAP,CAAmB,gBAAnB;AACH;AACD,mCAAW,UAAX,CAAsB,UAAtB;AACA,mCAAW,UAAX,CAAsB,UAAtB;AACH,qBATD;AAUA,yBAAK,qBAAL;AACH;AACJ,aA/BD;AAgCA,wBAAY,mBAAU,IAAV,EAAgB,UAAhB,EAA4B,KAA5B,EAAmC;AAC3C;AACA,oBAAI,UAAU,KAAK,WAAL,CAAiB,KAAjB,EAAwB,IAAxB,CAAd;AAAA,oBAA6C,MAAM,CAAnD;AAAA,oBACI,UAAU,KAAK,UAAL,CAAgB,6BAAhB,CADd;AAAA,oBAEI,OAAO,GAAG,OAAH,CAAW,IAAX,KAAoB,GAAG,OAAH,CAAW,KAAK,SAAhB,CAApB,GAAiD,EAAjD,GAAsD,KAAK,SAFtE;;AAIA,oBAAI,GAAG,OAAH,CAAW,IAAX,KAAoB,GAAG,OAAH,CAAW,KAAK,KAAhB,CAAxB,EAAgD;AAC5C,yBAAK,MAAL,CAAY,wBAAZ,EAAsC,CAAC,OAAD,CAAtC;AACA;AACA,wBAAI,KAAK,WAAT,EAAsB;AAClB,gCAAQ,IAAR,CAAa,YAAY;AACrB,gCAAI,SAAS,EAAE,IAAF,CAAb;AACA,iCAAK,eAAL,CAAqB,MAArB,EAA6B,SAA7B;AACA,mCAAO,WAAP,CAAmB,gBAAnB;AACA,mCAAO,IAAP,CAAY,iBAAZ,EAA+B,IAA/B,GAAsC,UAAtC,CAAiD,UAAjD;AACH,yBALD;AAMA,6BAAK,kBAAL,CAAwB,IAAxB;AACH,qBARD,MAQO;AACH,6BAAK,KAAL;AACH;AACD,yBAAK,YAAL,CAAkB,GAAlB;AACH,iBAfD,MAeO;AACH,wBAAI,KAAK,WAAT,EAAsB;AAClB,gCAAQ,IAAR,CAAa,YAAY;AACrB,gCAAI,SAAS,EAAE,IAAF,CAAb;AAAA,gCAAsB,IAAI,OAAO,IAAP,CAAY,gBAAZ,CAA1B;AACA,mCAAO,WAAP,CAAmB,gBAAnB;AACA,mCAAO,IAAP,CAAY,iBAAZ,EAA+B,UAA/B,CAA0C,UAA1C;AACA,mCAAO,IAAP,CAAY,iBAAZ,EAA+B,UAA/B,CAA0C,UAA1C;AACA,gCAAI,KAAK,MAAL,KAAgB,CAAhB,IAAqB,EAAE,OAAF,CAAU,GAAV,EAAe,IAAf,MAAyB,CAAC,CAAnD,EAAsD;AAClD,qCAAK,gBAAL,CAAsB,MAAtB,EAA8B,CAA9B,EAAiC,KAAK,SAAL,CAAe,CAAf,CAAjC,EAAoD,KAAK,iBAAzD;AACA,oCAAI,CAAC,KAAK,iBAAV,EAA6B;AACzB,2CAAO,IAAP,CAAY,iBAAZ,EAA+B,IAA/B;AACA,yCAAK,WAAL,CAAiB,CAAjB,EAAoB,SAApB;AACH;AACJ,6BAND,MAMO;AACH,uCAAO,IAAP,CAAY,iBAAZ,EAA+B,IAA/B;AACA,qCAAK,eAAL,CAAqB,MAArB,EAA6B,SAA7B;AACA,qCAAK,WAAL,CAAiB,CAAjB,EAAoB,SAApB;AACH;AACD,gCAAI,CAAC,OAAO,QAAP,CAAgB,oBAAhB,CAAD,IAA0C,KAAK,iBAAnD,EAAsE;AAClE;AACH;AACJ,yBAnBD;AAoBA,6BAAK,kBAAL,CAAwB,IAAxB;AACH;AACD,yBAAK,gBAAL,CAAsB,KAAK,KAA3B,EAAkC,OAAlC,EAA2C,sBAA3C;AACA,yBAAK,YAAL,CAAkB,GAAlB,EAAuB,KAAK,SAA5B,EAAuC,KAAK,cAA5C;AACH;AACJ,aAhDD;AAiDA,yBAAa,sBAAY;AACrB,qBAAK,MAAL;AACA,qBAAK,kBAAL;AACA,qBAAK,eAAL;AACA,qBAAK,MAAL,CAAY,yBAAZ,EAAuC,CAAC,KAAK,SAAN,EAAiB,KAAK,aAAL,EAAjB,CAAvC;AACH,aALD;AAMA,sBAAU,iBAAU,KAAV,EAAiB,UAAjB,EAA6B,WAA7B,EAA0C;AAChD,oBAAI,UAAU,KAAK,WAAL,CAAiB,KAAjB,CAAd;AAAA,oBAAuC,KAAK,KAAK,cAAL,CAAoB,WAAhE;AAAA,oBACI,SAAS,KAAK,WAAL,CAAiB,EAAjB,EAAqB,KAArB,EAA4B,WAA5B,CADb;AAEA,qBAAK,gBAAL,CAAsB,MAAtB,EAA8B,OAA9B,EAAuC,sBAAvC;AACA,qBAAK,eAAL,GAAuB,QAAQ,CAA/B;AACA,oBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,qBAAK,UAAL,GAAkB,IAAlB,CAAuB,YAAY;AAC/B,wBAAI,SAAS,EAAE,IAAF,CAAb;AAAA,wBAAsB,MAAM,OAAO,IAAP,CAAY,gBAAZ,CAA5B;AACA,2BAAO,WAAP,CAAmB,gBAAnB;AACA,wBAAI,KAAK,SAAL,CAAe,GAAf,MAAwB,SAA5B,EAAuC;AACnC,6BAAK,gBAAL,CAAsB,MAAtB;AACH;AACJ,iBAND;AAOA,qBAAK,UAAL,GAAkB,WAAlB,CAA8B,gBAA9B;AACA,qBAAK,UAAL,CAAgB,kBAAhB,EAAoC,UAApC,CAA+C,UAA/C;AACA,qBAAK,UAAL,CAAgB,kBAAhB,EAAoC,UAApC,CAA+C,UAA/C;AACA,qBAAK,YAAL,CAAkB,GAAlB,EAAuB,KAAK,SAA5B,EAAuC,KAAK,oBAAL,CAA0B,OAA1B,CAAkC,aAAlC,EAAiD,EAAjD,CAAvC;AACH,aAnBD;AAoBA,cAAE,IAAF,CAAO,KAAP,EAAc,UAAU,GAAV,EAAe,IAAf,EAAqB;AAC/B,oBAAI,CAAC,GAAG,OAAH,CAAW,MAAM,GAAN,CAAX,CAAL,EAA6B;AACzB,yBAAK,QAAL,CAAc,MAAd,CAAqB,KAAK,cAA1B,EAA0C,IAA1C,EAAgD,KAAK,SAAL,CAAe,GAAf,CAAhD;AACH;AACJ,aAJD;AAKA,iBAAK,WAAL,CAAiB,QAAjB,EAA2B,SAA3B,EAAsC,UAAtC,EAAkD,OAAlD;AACH,SA37DiB;AA47DlB,0BAAkB,4BAAY;AAC1B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,EAA1B;AAAA,gBAA8B,QAA9B;AAAA,gBAAwC,SAAxC;AAAA,gBAAmD,UAAnD;AAAA,gBAA+D,OAA/D;AACA,iBAAK,QAAL,GAAgB,IAAI,QAAJ,EAAhB;AACA,gBAAI,KAAK,MAAL,CAAY,MAAZ,CAAJ,EAAyB;AACrB;AACH;AACD,uBAAW,kBAAU,KAAV,EAAiB;AACxB,qBAAK,IAAL;AACA,oBAAI,UAAU,KAAK,WAAL,CAAiB,KAAjB,CAAd;AACA,qBAAK,MAAL,CAAY,oBAAZ,EAAkC,CAAC,OAAD,CAAlC;AACA,qBAAK,YAAL,CAAkB,EAAlB;AACA,uBAAO,IAAP,GAAc,OAAd;AACA,uBAAO,GAAP,GAAa,KAAb;AACA,oBAAI,KAAK,MAAL,CAAY,MAAZ,CAAJ,EAAyB;AACrB,0BAAM,KAAN;AACA,yBAAK,qBAAL;AACH;AACJ,aAXD;AAYA,wBAAY,mBAAU,IAAV,EAAgB,UAAhB,EAA4B,KAA5B,EAAmC;AAC3C,oBAAI,UAAU,KAAK,WAAL,CAAiB,KAAjB,EAAwB,IAAxB,CAAd;AACA,oBAAI,GAAG,OAAH,CAAW,IAAX,KAAoB,GAAG,OAAH,CAAW,KAAK,KAAhB,CAAxB,EAAgD;AAC5C,yBAAK,MAAL,CAAY,wBAAZ,EAAsC,CAAC,OAAD,CAAtC;AACA,yBAAK,eAAL;AACA,yBAAK,kBAAL,CAAwB,IAAxB;AACA,yBAAK,YAAL,CAAkB,GAAlB;AACH,iBALD,MAKO;AACH,yBAAK,gBAAL,CAAsB,KAAK,KAA3B,EAAkC,OAAlC,EAA2C,sBAA3C;AACH;AACJ,aAVD;AAWA,yBAAa,sBAAY;AACrB,qBAAK,MAAL;AACA,qBAAK,eAAL;AACA,qBAAK,MAAL,CAAY,yBAAZ,EAAuC,CAAC,KAAK,SAAN,EAAiB,KAAK,aAAL,EAAjB,CAAvC;AACH,aAJD;AAKA,sBAAU,iBAAU,KAAV,EAAiB,UAAjB,EAA6B,WAA7B,EAA0C;AAChD,oBAAI,UAAU,KAAK,WAAL,CAAiB,KAAjB,CAAd;AAAA,oBAAuC,KAAK,KAAK,cAAL,CAAoB,WAAhE;AAAA,oBACI,SAAS,KAAK,WAAL,CAAiB,EAAjB,EAAqB,KAArB,EAA4B,WAA5B,CADb;AAEA,uBAAO,IAAP,GAAc,OAAd;AACA,qBAAK,gBAAL,CAAsB,MAAtB,EAA8B,OAA9B,EAAuC,sBAAvC;AACA,qBAAK,YAAL,CAAkB,GAAlB,EAAuB,KAAK,SAA5B,EAAuC,KAAK,oBAAL,CAA0B,OAA1B,CAAkC,aAAlC,EAAiD,EAAjD,CAAvC;AACH,aAND;AAOA,iBAAK,WAAL,CAAiB,QAAjB,EAA2B,SAA3B,EAAsC,UAAtC,EAAkD,OAAlD;AACH,SAt+DiB;AAu+DlB,0BAAkB,0BAAU,MAAV,EAAkB;AAChC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,OAAO,IAAP,CAAY,gBAAZ,CAAvB;AACA,gBAAI,IAAI,SAAJ,CAAc,CAAd,EAAiB,CAAjB,MAAwB,OAA5B,EAAqC;AACjC,sBAAM,SAAS,IAAI,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAT,CAAN;AACA,qBAAK,cAAL,GAAsB,GAAG,WAAH,CAAe,KAAK,cAApB,EAAoC,GAApC,CAAtB;AACA,qBAAK,oBAAL,GAA4B,GAAG,WAAH,CAAe,KAAK,oBAApB,EAA0C,GAA1C,CAA5B;AACA,qBAAK,uBAAL,GAA+B,GAAG,WAAH,CAAe,KAAK,uBAApB,EAA6C,GAA7C,CAA/B;AACA,qBAAK,SAAL,GAAiB,IAAjB,CAAsB,YAAY;AAC9B,wBAAI,UAAU,EAAE,IAAF,CAAd;AAAA,wBAAuB,OAAO,QAAQ,IAAR,CAAa,gBAAb,CAA9B;AACA,wBAAI,KAAK,SAAL,CAAe,CAAf,EAAkB,CAAlB,MAAyB,OAA7B,EAAsC;AAClC,+BAAO,SAAS,KAAK,OAAL,CAAa,OAAb,EAAsB,EAAtB,CAAT,CAAP;AACA,4BAAI,OAAO,GAAX,EAAgB;AACZ;AACA,oCAAQ,IAAR,CAAa,gBAAb,EAA+B,UAAU,IAAzC;AACH;AACJ;AACJ,iBATD;AAUA,oBAAI,KAAK,WAAT,EAAsB;AAClB,yBAAK,mBAAL,GAA2B,KAAK,UAAL,EAA3B;AACH;AACJ;AACJ,SA5/DiB;AA6/DlB,0BAAkB,4BAAY;AAC1B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,KAAK,QAAjC;AACA,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,iBAAK,eAAL;AACA,iBAAK,SAAL,CAAe,kBAAf,EAAmC,IAAnC,CAAwC,YAAY;AAChD,oBAAI,MAAM,EAAE,IAAF,CAAV;AAAA,oBAAmB,SAAS,IAAI,OAAJ,CAAY,GAAG,MAAf,CAA5B;AAAA,oBAAoD,QAApD;AAAA,oBAA8D,KAAK,OAAO,IAAP,CAAY,IAAZ,CAAnE;AAAA,oBACI,MAAM,OAAO,IAAP,CAAY,gBAAZ,CADV;AAAA,oBACyC,CADzC;AAAA,oBAC4C,GAD5C;AAAA,oBACiD,MADjD;AAEA,qBAAK,QAAL,CAAc,GAAd,EAAmB,OAAnB,EAA4B,YAAY;AACpC,6BAAS,KAAK,MAAL,CAAY,eAAZ,EAA6B,CAAC,EAAD,EAAK,GAAL,CAA7B,CAAT;AACA,wBAAI,WAAW,KAAX,IAAoB,CAAC,KAAK,iBAAL,EAAzB,EAAmD;AAC/C,+BAAO,KAAP;AACH;AACD,+BAAW,OAAO,QAAP,CAAgB,oBAAhB,CAAX;AACA,uBAAG,WAAH,CAAe,MAAf;AACA,2BAAO,OAAP,CAAe,MAAf,EAAuB,YAAY;AAC/B,2BAAG,cAAH,CAAkB,SAAS,IAAT,CAAc,WAAW,EAAzB,CAAlB;AACA,6BAAK,WAAL,CAAiB,GAAjB,EAAsB,SAAtB;AACA,6BAAK,aAAL,CAAmB,MAAnB;AACA,+BAAO,MAAP;AACA,4BAAI,MAAM,QAAV,EAAoB;AAChB,iCAAK,eAAL,CAAqB,IAArB,CAA0B,sBAAsB,EAAtB,GAA2B,IAArD,EAA2D,OAA3D,CAAmE,MAAnE,EAA2E,YAAY;AACnF,kCAAE,IAAF,EAAQ,MAAR;AACA,oCAAI,CAAC,KAAK,YAAL,EAAL,EAA0B;AACtB,yCAAK,YAAL;AACH;AACJ,6BALD;AAMH;AACD,6BAAK,eAAL;AACA,4BAAI,YAAY,KAAK,YAAL,CAAkB,IAAlB,CAAhB;AAAA,4BAAyC,MAAM,KAAK,YAAL,CAAkB,KAAlB,EAA/C;AAAA,4BACI,MAAM,UAAU,MADpB;AAAA,4BAC4B,WAAW,KAAK,WAAL,IAAoB,KAAK,SAAL,GAAiB,MAD5E;AAEA,4BAAI,QAAQ,CAAR,IAAa,QAAQ,CAArB,IAA0B,CAAC,QAA/B,EAAyC;AACrC,iCAAK,KAAL;AACH,yBAFD,MAEO;AACH,gCAAI,MAAM,GAAV;AACA,kCAAM,IAAI,CAAJ,GAAQ,KAAK,eAAL,CAAqB,CAArB,CAAR,GAAmC,UAAU,CAAV,IAAe,KAAK,aAAL,GAAqB,CAArB,CAAf,GAAyC,EAAlF;AACA,iCAAK,WAAL,CAAiB,GAAjB;AACH;AACD,6BAAK,MAAL,CAAY,aAAZ,EAA2B,CAAC,EAAD,EAAK,GAAL,CAA3B;AACH,qBAxBD;AAyBH,iBAhCD;AAiCH,aApCD;AAqCA,iBAAK,SAAL,CAAe,kBAAf,EAAmC,IAAnC,CAAwC,YAAY;AAChD,oBAAI,MAAM,EAAE,IAAF,CAAV;AACA,qBAAK,QAAL,CAAc,GAAd,EAAmB,OAAnB,EAA4B,YAAY;AACpC,wBAAI,SAAS,IAAI,OAAJ,CAAY,GAAG,MAAf,CAAb;AAAA,wBAAqC,MAAM,OAAO,IAAP,CAAY,gBAAZ,CAA3C;AACA,yBAAK,SAAL,CAAe,IAAf;AACA,wBAAI,OAAO,QAAP,CAAgB,oBAAhB,KAAyC,CAAC,KAAK,iBAAnD,EAAsE;AAClE;AACH;AACD,yBAAK,aAAL,CAAmB,GAAnB,EAAwB,KAAxB;AACH,iBAPD;AAQH,aAVD;AAWH,SAnjEiB;AAojElB,6BAAqB,+BAAY;AAC7B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,KAAK,QAAjC;AAAA,gBAA2C,kBAAkB,KAAK,eAAL,IAAwB,EAArF;AAAA,gBACI,YAAY,GAAG,MAAH,GAAY,kBAD5B;AAAA,gBACgD,WAAW,KAAK,kBADhE;AAAA,gBAEI,YAAY,SAAS,WAFzB;AAAA,gBAEsC,WAAW,SAAS,gBAF1D;AAAA,gBAGI,gBAAgB,SAAhB,aAAgB,GAAY;AACxB,oBAAI,WAAW,KAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,KAAlB,EAApB,GAAgD,KAAK,QAAL,CAAc,GAAd,CAAkB,CAAlB,EAAqB,KAArB,CAA2B,MAA1F;AACA,oBAAI,CAAC,SAAS,IAAT,CAAc,GAAG,MAAjB,EAAyB,MAA1B,IAAoC,CAAC,QAAzC,EAAmD;AAC/C,yBAAK,WAAL,CAAiB,EAAjB;AACA,yBAAK,KAAL;AACA,yBAAK,cAAL,GAAsB,EAAtB;AACH;AACJ,aAVL;AAWA,iBAAK,eAAL;AACA,qBAAS,IAAT,CAAc,SAAd,EAAyB,IAAzB,CAA8B,YAAY;AACtC,oBAAI,MAAM,EAAE,IAAF,CAAV;AAAA,oBAAmB,OAAO,IAAI,IAAJ,CAAS,KAAT,KAAmB,KAAK,SAAlD;AAAA,oBAA6D,OAAO,IAAI,IAAJ,CAAS,KAAT,CAApE;AAAA,oBACI,QADJ;AAAA,oBACc,SADd;AAAA,oBACyB,OADzB;AAEA,oBAAI,GAAG,OAAH,CAAW,IAAX,KAAoB,SAAS,SAAjC,EAA4C;AACxC;AACH;AACD,oBAAI,SAAS,IAAI,OAAJ,CAAY,GAAG,MAAf,CAAb;AAAA,oBAAqC,QAAQ,KAAK,YAAL,CAAkB,IAA/D;AAAA,oBACI,QADJ;AAAA,oBACc,MADd;AAAA,oBACsB,QAAQ,OAAO,IAAP,CAAY,gBAAZ,CAD9B;AAAA,oBAC6D,MAD7D;AAAA,oBACqE,SADrE;AAEA,wBAAQ,SAAS,MAAM,OAAN,CAAc,OAAd,EAAuB,EAAvB,CAAT,CAAR;AACA,yBAAS,GAAG,OAAH,CAAW,MAAM,MAAjB,KAA4B,GAAG,OAAH,CAAW,MAAM,MAAN,CAAa,KAAb,CAAX,CAA5B,GAA8D,IAA9D,GAAqE,MAAM,MAAN,CAAa,KAAb,CAA9E;AACA,4BAAY,GAAG,OAAH,CAAW,MAAX,KAAsB,GAAG,OAAH,CAAW,OAAO,KAAlB,CAAtB,GAAiD,eAAjD,GAAmE,OAAO,KAAtF;AACA,oBAAI,OAAO,SAAP,KAAqB,UAAzB,EAAqC;AACjC,gCAAY,WAAZ;AACH;AACD,yBAAS,EAAC,IAAI,IAAI,IAAJ,CAAS,IAAT,CAAL,EAAqB,KAAK,IAA1B,EAAgC,OAAO,SAAvC,EAAT;AACA,2BAAW,kBAAU,KAAV,EAAiB;AACxB,yBAAK,WAAL,GAAmB,KAAnB;AACA,yBAAK,MAAL,CAAY,eAAZ,EAA6B,CAAC,IAAD,EAAO,KAAP,EAAc,SAAd,CAA7B;AACA,wBAAI,KAAK,MAAL,EAAJ,EAAmB;AACf,8BAAM,KAAN;AACH,qBAFD,MAEO;AACH,4BAAI,WAAJ,CAAgB,QAAhB;AACA,2BAAG,MAAH,CAAU,MAAV,EAAkB,gBAAlB;AACA,2BAAG,MAAH,CAAU,GAAV,EAAe,cAAc,SAA7B;AACH;AACJ,iBAVD;AAWA,4BAAY,mBAAU,IAAV,EAAgB,UAAhB,EAA4B,KAA5B,EAAmC;AAC3C,wBAAI,CAAJ,EAAO,GAAP;AACA,wBAAI,CAAC,GAAG,OAAH,CAAW,IAAX,CAAD,IAAqB,CAAC,GAAG,OAAH,CAAW,KAAK,KAAhB,CAA1B,EAAkD;AAC9C,+BAAO,KAAP,GAAe,KAAf;AACA,+BAAO,QAAP,GAAkB,IAAlB;AACA,6BAAK,UAAL,CAAgB,KAAK,KAArB,EAA4B,MAA5B,EAAoC,iBAApC;AACA,+BAAO,WAAP,CAAmB,gBAAnB;AACA,4BAAI,WAAJ,CAAgB,cAAc,SAA9B,EAAyC,QAAzC,CAAkD,QAAlD;AACA;AACA;AACH;AACD,2BAAO,WAAP,CAAmB,gBAAnB,EAAqC,QAArC,CAA8C,cAA9C;AACA,2BAAO,OAAP,CAAe,MAAf,EAAuB,YAAY;AAC/B,gCAAQ,SAAU,OAAO,IAAP,CAAY,gBAAZ,CAAD,CAAgC,OAAhC,CAAwC,OAAxC,EAAiD,EAAjD,CAAT,CAAR;AACA,6BAAK,YAAL,CAAkB,KAAlB,CAAwB,KAAxB;AACA,4BAAI,KAAK,YAAL,CAAkB,KAAlB,EAAJ;AACA,8BAAM,IAAI,CAAJ,GAAQ,KAAK,eAAL,CAAqB,CAArB,CAAR,GAAkC,EAAxC;AACA,6BAAK,gBAAL,CAAsB,MAAtB;AACA,6BAAK,WAAL,CAAiB,GAAjB;AACA,6BAAK,MAAL,CAAY,aAAZ,EAA2B,CAAC,IAAD,EAAO,KAAP,EAAc,SAAd,CAA3B;AACA,2BAAG,cAAH,CAAkB,SAAS,IAAT,CAAc,WAAW,OAAO,IAAP,CAAY,IAAZ,CAAzB,CAAlB;AACA,6BAAK,aAAL,CAAmB,MAAnB;AACA,+BAAO,MAAP;AACA;AACH,qBAZD;AAaH,iBAzBD;AA0BA,0BAAU,iBAAU,KAAV,EAAiB,UAAjB,EAA6B,WAA7B,EAA0C;AAChD,wBAAI,KAAK,KAAK,cAAL,CAAoB,WAA7B;AAAA,wBAA0C,SAAS,KAAK,WAAL,CAAiB,EAAjB,EAAqB,KAArB,EAA4B,WAA5B,CAAnD;AACA,2BAAO,KAAP,GAAe,KAAf;AACA,2BAAO,QAAP,GAAkB,EAAlB;AACA,yBAAK,UAAL,CAAgB,MAAhB,EAAwB,MAAxB,EAAgC,iBAAhC;AACA,2BAAO,WAAP,CAAmB,gBAAnB;AACA,wBAAI,WAAJ,CAAgB,cAAc,SAA9B,EAAyC,QAAzC,CAAkD,QAAlD;AACA;AACH,iBARD;AASA,qBAAK,kBAAL,CAAwB,YAAxB,EAAsC,QAAtC,EAAgD,QAAhD;AACA,qBAAK,kBAAL,CAAwB,SAAxB,EAAmC,SAAnC,EAA8C,QAA9C;AACA,qBAAK,kBAAL,CAAwB,OAAxB,EAAiC,OAAjC,EAA0C,QAA1C;AACA,2BAAW,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB;AAC1B,yBAAK,IADqB;AAE1B,0BAAM,MAFoB;AAG1B,8BAAU,MAHgB;AAI1B,0BAAM,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,EAAC,KAAK,IAAN,EAAnB,EAAgC,SAAhC;AAJoB,iBAAnB,EAKR,KAAK,kBALG,CAAX;AAMA,qBAAK,QAAL,CAAc,GAAd,EAAmB,OAAnB,EAA4B,YAAY;AACpC,wBAAI,CAAC,KAAK,iBAAL,EAAL,EAA+B;AAC3B,+BAAO,KAAP;AACH;AACD,yBAAK,WAAL,GAAmB,KAAnB;AACA,yBAAK,MAAL,CAAY,kBAAZ,EAAgC,CAAC,IAAD,EAAO,SAAP,CAAhC;AACA;AACA,wBAAI,KAAK,WAAL,oBAAJ,EAAyC;AACrC,6BAAK,WAAL,CAAiB,IAAjB,CAAsB,UAAU,MAAV,EAAkB;AACpC,gCAAI,CAAC,MAAL,EAAa;AACT,kCAAE,IAAF,CAAO,QAAP;AACH;AACJ,yBAJD;AAKH,qBAND,MAMO;AACH,4BAAI,CAAC,KAAK,WAAV,EAAuB;AACnB,8BAAE,IAAF,CAAO,QAAP;AACH;AACJ;AACJ,iBAlBD;AAmBH,aAzFD;AA0FA,iBAAK,SAAL,CAAe,oBAAf,EAAqC,IAArC,CAA0C,YAAY;AAClD,oBAAI,MAAM,EAAE,IAAF,CAAV;AACA,qBAAK,QAAL,CAAc,GAAd,EAAmB,OAAnB,EAA4B,YAAY;AACpC,wBAAI,IAAI,SAAS,aAAT,CAAuB,GAAvB,CAAR;AACA,sBAAE,IAAF,GAAS,IAAI,IAAJ,CAAS,UAAT,CAAT;AACA,sBAAE,QAAF,GAAa,IAAI,IAAJ,CAAS,cAAT,CAAb;AACA,sBAAE,MAAF,GAAW,QAAX;AACA,sBAAE,KAAF;AACH,iBAND;AAOH,aATD;AAUH,SArqEiB;AAsqElB,uBAAe,yBAAY;AACvB,gBAAI,OAAO,IAAX;AACA,gBAAI,KAAK,gBAAT,EAA2B;AACvB,qBAAK,iBAAL,CAAuB,WAAvB,CAAmC,cAAnC;AACH;AACJ,SA3qEiB;AA4qElB,uBAAe,yBAAY;AACvB,gBAAI,OAAO,IAAX;AACA,eAAG,MAAH,CAAU,KAAK,iBAAf,EAAkC,cAAlC;AACH,SA/qEiB;AAgrElB,kBAAU,kBAAU,KAAV,EAAiB;AACvB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,WAAW,KAAX,CAAxB;AAAA,gBAA2C,CAA3C;AAAA,gBAA8C,OAAO,KAAK,cAA1D;AAAA,gBAA0E,KAA1E;AAAA,gBAAiF,GAAjF;AACA,gBAAI,CAAC,EAAE,SAAF,CAAY,KAAZ,CAAD,IAAuB,CAAC,EAAE,SAAF,CAAY,IAAZ,CAA5B,EAA+C;AAC3C,uBAAO,EAAP;AACH;AACD,gBAAI,OAAO,IAAP,KAAgB,UAApB,EAAgC;AAC5B,sBAAM,KAAK,IAAL,CAAN;AACH,aAFD,MAEO;AACH,oBAAI,SAAS,CAAb,EAAgB;AACZ,0BAAM,QAAN;AACH,iBAFD,MAEO;AACH,wBAAI,KAAK,KAAL,CAAW,KAAK,GAAL,CAAS,IAAT,IAAiB,KAAK,GAAL,CAAS,IAAT,CAA5B,CAAJ;AACA,4BAAQ,CAAC,GAAD,EAAM,IAAN,EAAY,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,EAA0C,IAA1C,EAAgD,IAAhD,CAAR;AACA,0BAAM,CAAC,OAAO,KAAK,GAAL,CAAS,IAAT,EAAe,CAAf,CAAR,EAA2B,OAA3B,CAAmC,CAAnC,IAAwC,CAAxC,GAA4C,GAA5C,GAAkD,MAAM,CAAN,CAAxD;AACH;AACJ;AACD,mBAAO,KAAK,kBAAL,CAAwB,MAAxB,EAAgC,OAAhC,CAAwC,YAAxC,EAAsD,GAAtD,CAAP;AACH,SAjsEiB;AAksElB,kCAA0B,kCAAU,GAAV,EAAe,IAAf,EAAqB,KAArB,EAA4B,KAA5B,EAAmC,SAAnC,EAA8C,OAA9C,EAAuD,IAAvD,EAA6D,UAA7D,EAAyE,IAAzE,EAA+E,GAA/E,EAAoF,KAApF,EAA2F;AACjH,gBAAI,OAAO,IAAX;AAAA,gBAAiB,UAAU,KAAK,IAAL,CAAU,KAAV,CAA3B;AAAA,gBAA6C,WAA7C;AAAA,gBAA0D,cAAc,EAAxE;AAAA,gBAA4E,eAAe,EAA3F;AAAA,gBACI,UAAU,OAAO,UAAP,IAAqB,SAAS,eAAT,CAAyB,WAA9C,IAA6D,SAAS,IAAT,CAAc,WADzF;AAAA,gBAEI,SAAS,UAAU,GAAV,GAAiB,KAAK,oBAAL,CAA0B,GAA1B,KAAkC,KAAK,QAAL,CAAc,oBAAd,CAAmC,GAAnC,CAAnD,GACJ,KAAK,eAAL,CAAqB,GAArB,KAA6B,KAAK,QAAL,CAAc,eAAd,CAA8B,GAA9B,CAHtC;AAAA,gBAII,SAAS,QAAQ,KAAK,iBAAL,CAAuB,OAAvB,EAAgC,IAAhC,EAAsC,MAAtC,EAA8C,OAA9C,CAJrB;AAAA,gBAKI,iBAAiB,KAAK,eAAL,CAAqB,KAArB,CALrB;AAAA,gBAKkD,UAAU,cAL5D;AAAA,gBAMI,gBAAgB,kBAAkB,KAAK,mBAN3C;AAAA,gBAOI,gBAAgB,kBAAkB,KAAK,uBAP3C;AAAA,gBAOoE,UAPpE;AAQA,gBAAI,MAAJ,EAAY;AACR,kBAAE,IAAF,CAAO,MAAP,EAAe,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC/B,oCAAgB,MAAM,GAAN,GAAY,GAAZ,GAAkB,GAAlC;AACH,iBAFD;AAGH;AACD,yBAAa,oBAAU,CAAV,EAAa,CAAb,EAAgB,IAAhB,EAAsB,QAAtB,EAAgC;AACzC,oBAAI,KAAK,OAAO,UAAU,SAAjB,GAA6B,SAAtC;AAAA,oBAAiD,QAAQ,KAAK,mBAAL,CAAyB,CAAzB,CAAzD;AAAA,oBACI,MAAM,CAAC,cAAc,EAAf,IAAqB,GAArB,GAA2B,QADrC;AAEA,oBAAI,KAAK,UAAT,EAAqB;AACjB,0BAAM,KAAK,UAAL,GAAkB,GAAlB,GAAwB,GAA9B;AACH;AACD,oBAAI,IAAJ,EAAU;AACN,0BAAM,IAAI,OAAJ,CAAY,MAAM,GAAG,QAArB,EAA+B,EAA/B,CAAN;AACH;AACD,wBAAQ,KAAK,qBAAL,CAA2B,KAA3B,EAAkC,KAAlC,CAAR;AACA,oBAAI,MAAM,MAAV,EAAkB;AACd,wBAAI,GAAG,UAAH,CAAc,CAAd,CAAJ;AACH;AACD,oBAAI,QAAQ,QAAR,IAAoB,CAAC,KAAzB,EAAgC;AAC5B,sBAAE,IAAF,CAAO,KAAK,QAAL,CAAc,gBAArB,EAAuC,UAAU,GAAV,EAAe,IAAf,EAAqB;AACxD,4BAAI,QAAQ,QAAR,IAAoB,QAAQ,OAAhC,EAAyC;AACrC;AACH;AACD,4BAAI,KAAK,KAAL,EAAY,KAAZ,CAAJ,EAAwB;AACpB,sCAAU,UAAU,GAApB;AACH;AACJ,qBAPD;AAQH;AACD,uBAAO,MAAM,SAAN,CAAgB;AACnB,iCAAa,EADM;AAEnB,+BAAW,OAFQ;AAGnB,kCAAc,GAHK;AAInB,4BAAQ,KAJW;AAKnB,iCAAa,GALM;AAMnB,+BAAW,OANQ;AAOnB,8BAAU,MAPS;AAQnB,4BAAQ,CARW;AASnB,gCAAY,SAAS,GATF;AAUnB,6BAAS,eAAe,YAAY,YAAZ,GAA2B,GAA1C,GAAgD;AAVtC,iBAAhB,CAAP;AAYH,aAnCD;AAoCA,kBAAM,OAAO,UAAU,KAAV,CAAgB,UAAU,WAAV,CAAsB,GAAtB,IAA6B,CAA7C,CAAb;AACA,gBAAI,KAAK,kBAAL,CAAwB,QAA5B,EAAsC;AAClC,8BAAc,WAAY,gBAAgB,OAAhB,GAA0B,GAAtC,EAA4C,IAA5C,EAAkD,IAAlD,EAAwD,eAAxD,CAAd;AACH;AACD,0BAAc,OAAO,KAAK,kBAAL,CAAwB,WAAxB,EAAqC,OAArC,CAA6C,eAA7C,EAA8D,WAA9D,CAArB;AACA,0BAAc,WAAY,gBAAgB,OAAhB,GAA0B,GAAtC,EAA4C,IAA5C,EAAkD,KAAlD,EAAyD,kBAAzD,CAAd;AACA,mBAAO,cAAc,WAArB;AACH,SA3vEiB;AA4vElB,yBAAiB,yBAAU,IAAV,EAAgB,SAAhB,EAA2B,UAA3B,EAAuC;AACpD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,KAAK,QAAjC;AACA,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,gBAAI,QAAQ,OAAO,KAAK,IAAZ,GAAmB,EAA/B;AAAA,gBAAmC,QAAQ,OAAO,KAAK,IAAZ,GAAmB,EAA9D;AAAA,gBAAkE,OAAlE;AAAA,gBAA2E,OAAO,KAAK,IAAL,IAAa,CAA/F;AAAA,gBACI,UAAU,KAAK,IAAL,CAAU,KAAV,CADd;AAAA,gBACgC,UAAU,eAAe,IAAf,IAAuB,CAAC,KAAK,YADvE;AAAA,gBAEI,OAAO,GAAG,MAAH,CAAU,eAAV,CAA0B,IAA1B,CAFX;AAGA,iBAAK,oBAAL;AACA,sBAAU,KAAK,wBAAL,CAA8B,OAA9B,EAAuC,IAAvC,EAA6C,KAA7C,EAAoD,KAApD,EAA2D,SAA3D,EAAsE,OAAtE,EAA+E,IAA/E,CAAV;AACA,qBAAS,MAAT,CAAgB,OAAO,OAAvB;AACA,iBAAK,aAAL,CAAmB,SAAnB,EAA8B,OAA9B,EAAuC,IAAvC;AACA,gBAAI,eAAe,IAAf,IAAuB,KAAK,YAAhC,EAA8C;AAC1C,qBAAK,eAAL,CAAqB,EAAE,MAAM,SAAR,CAArB,EAAyC,OAAzC;AACH;AACJ,SA3wEiB;AA4wElB,sBAAc,sBAAU,CAAV,EAAa,IAAb,EAAmB,OAAnB,EAA4B,SAA5B,EAAuC,IAAvC,EAA6C,QAA7C,EAAuD;AACjE,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,OAAO,KAAK,IAAZ,GAAmB,EAA5C;AAAA,gBAAgD,QAAQ,SAAS,IAAjE;AAAA,gBAAuE,UAAU,SAAS,IAA1F;AAAA,gBACI,MAAM,KAAK,cAAL,CAAoB,KAApB,EAA2B,KAA3B,CADV;AAAA,gBAC6C,QAAQ,KAAK,mBAD1D;AAAA,gBAC+E,OAD/E;AAAA,gBAEI,QAAQ,KAAK,uBAFjB;AAAA,gBAE0C,WAAW,KAAK,QAF1D;AAAA,gBAEoE,QAAQ,KAAK,IAAL,IAAa,CAFzF;AAAA,gBAGI,WAAW,SAAS,MAAM,OAAN,CAAc,GAAd,KAAsB,CAH9C;AAAA,gBAGiD,WAAW,SAAS,MAAM,OAAN,CAAc,KAAd,MAAyB,CAAC,CAH/F;AAAA,gBAII,QAAS,QAAQ,MAAR,IAAkB,QAAQ,MAA1B,IAAoC,QAAQ,OAA7C,GAAwD,QAAQ,MAAR,CAAe,MAAvE,GAAgF,IAJ5F;AAKA;AACA,gBAAI,QAAQ,MAAR,IAAkB,KAAK,UAAvB,IAAqC,OAAO,SAAhD,EAA2D;AACvD,wBAAQ,OAAO,SAAP,CAAiB,QAAjB,CAA0B,KAA1B,CAAR;AACH;AACD,gBAAI,YAAY,QAAhB,EAA0B;AACtB,0BAAU,KAAK,wBAAL,CAA8B,GAA9B,EAAmC,KAAnC,EAA0C,KAA1C,EAAiD,KAAjD,EAAwD,SAAxD,EAAmE,KAAnE,EAA0E,KAA1E,CAAV;AACA,qBAAK,oBAAL;AACA,yBAAS,MAAT,CAAgB,OAAO,OAAvB;AACA,oBAAI,OAAO,SAAS,IAAT,CAAc,MAAM,SAAN,GAAkB,MAAhC,CAAX;AACA,oBAAI,KAAK,MAAL,IAAe,KAAK,eAAxB,EAAyC;AACrC,uBAAG,mBAAH,CAAuB,IAAvB,EAA6B,UAAU,KAAV,EAAiB;AAC1C,4BAAI,CAAC,KAAL,EAAY;AACR,iCAAK,cAAL,CAAoB,SAApB,EAA+B,OAA/B,EAAwC,KAAxC,EAA+C,KAA/C,EAAsD,KAAtD;AACA;AACH;AACD,4BAAI,WAAW,SAAS,IAAT,CAAc,WAAW,SAAX,GAAuB,MAArC,CAAf;AAAA,4BAA6D,MAAM,YAAY,KAA/E;AACA,4BAAI,QAAQ,CAAZ,EAAe;AACX,mCAAQ,KAAK,KAAL,KAAe,KAAK,MAAL,EAAf,GAA+B,kBAA/B,GAAoD,mBAA5D;AACH;AACD,2BAAG,MAAH,CAAU,IAAV,EAAgB,GAAhB;AACA,2BAAG,MAAH,CAAU,QAAV,EAAoB,GAApB;AACA,6BAAK,MAAL,CAAY,mBAAZ,EAAiC,EAAC,QAAQ,IAAT,EAAe,QAAQ,IAAvB,EAAjC;AACA,6BAAK,cAAL,CAAoB,SAApB,EAA+B,OAA/B,EAAwC,KAAxC,EAA+C,KAA/C,EAAsD,KAAtD;AACA,2BAAG,mBAAH,CAAuB,IAAvB;AACH,qBAdD;AAeH,iBAhBD,MAgBO;AACH,yBAAK,cAAL,CAAoB,SAApB,EAA+B,OAA/B,EAAwC,KAAxC,EAA+C,KAA/C,EAAsD,KAAtD;AACH;AACJ,aAxBD,MAwBO;AACH,qBAAK,eAAL,CAAqB,IAArB,EAA2B,SAA3B;AACH;AACD,iBAAK,aAAL,CAAmB,SAAnB,EAA8B,OAA9B,EAAuC,KAAvC;AACA,iBAAK,aAAL;AACH,SAtzEiB;AAuzElB,uBAAe,uBAAU,EAAV,EAAc,OAAd,EAAuB,IAAvB,EAA6B;AACxC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,EAAE,MAAM,EAAR,CAA1B;AACA,gBAAI,OAAO,MAAX,EAAmB;AACf,uBAAO,QAAQ,OAAO,CAAf,GAAmB,KAAK,QAAL,CAAc,IAAd,CAAnB,GAAyC,EAAhD;AACA,uBAAO,IAAP,CAAY,EAAC,WAAW,OAAZ,EAAqB,QAAQ,IAA7B,EAAZ;AACH;AACJ,SA7zEiB;AA8zElB,2BAAmB,6BAAY;AAC3B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,KAAK,YAAL,CAAkB,IAA1C;AAAA,gBAAgD,MAAM,KAAK,YAAL,CAAkB,KAAlB,EAAtD;AAAA,gBAAiF,MAAjF;AAAA,gBACI,OADJ;AAAA,gBACa,IADb;AAAA,gBACmB,SADnB;AAEA,gBAAI,QAAQ,CAAZ,EAAe;AACX;AACH;AACD,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,GAApB,EAAyB,GAAzB,EAA8B;AAC1B,yBAAS,KAAK,MAAL,CAAY,CAAZ,CAAT;AACA,4BAAY,KAAK,aAAL,GAAqB,GAArB,GAA2B,OAA3B,GAAqC,CAAjD;AACA,0BAAU,GAAG,KAAH,CAAS,SAAT,EAAoB,MAApB,EAA4B,GAAG,KAAH,CAAS,UAAT,EAAqB,MAArB,CAA5B,CAAV;AACA,uBAAO,GAAG,KAAH,CAAS,MAAT,EAAiB,MAAjB,CAAP;AACA,qBAAK,aAAL,CAAmB,SAAnB,EAA8B,OAA9B,EAAuC,IAAvC;AACH;AACJ,SA30EiB;AA40ElB,sBAAc,sBAAU,IAAV,EAAgB;AAC1B,mBAAO,GAAG,OAAH,CAAW,IAAX,IAAmB,EAAnB,GAAwB,OAAO,IAAP,EAAa,OAAb,CAAqB,0CAArB,EAAiE,GAAjE,CAA/B;AACH,SA90EiB;AA+0ElB,4BAAoB,4BAAU,QAAV,EAAoB;AACpC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AAAA,gBAAsC,YAAY,KAAK,YAAL,EAAlD;AAAA,gBACI,OAAQ,GAAG,IAAH,CAAQ,CAAR,KAAc,GAAG,YAAH,CAAgB,IAAI,GAAJ,EAAhB,CAAf,IACF,IAAI,CAAJ,EAAO,KAAP,CAAa,CAAb,KAAmB,IAAI,CAAJ,EAAO,KAAP,CAAa,CAAb,EAAgB,IADjC,IAC2C,UAAU,MAAV,IAAoB,UAAU,CAAV,EAAa,IAD5E,IACqF,EAFhG;AAAA,gBAGI,QAAQ,KAAK,IAAL,CAAU,IAAV,CAHZ;AAAA,gBAG6B,IAAI,KAAK,YAAL,GAAoB,UAAU,MAA9B,GAAuC,QAHxE;AAAA,gBAII,SAAS,KAAK,YAAL,CAAkB,KAAlB,KAA4B,CAJzC;AAAA,gBAI4C,MAAM,MAAM,CAAN,GAAU,KAAV,GAAkB,KAAK,eAAL,CAAqB,MAArB,CAJpE;AAKA,gBAAI,KAAK,OAAT,EAAkB;AACd,qBAAK,iBAAL,CAAuB,WAAvB,CAAmC,oBAAnC;AACA,qBAAK,cAAL,CAAoB,IAApB,CAAyB,EAAzB;AACA,qBAAK,iBAAL,CAAuB,WAAvB,CAAmC,cAAnC;AACH,aAJD,MAIO;AACH,qBAAK,aAAL;AACH;AACD,iBAAK,WAAL,CAAiB,GAAjB,EAAsB,KAAK,OAA3B;AACA,iBAAK,UAAL,CAAgB,WAAhB,CAA4B,oCAA5B;AACA,gBAAI,UAAU,MAAV,KAAqB,CAAzB,EAA4B;AACxB,qBAAK,MAAL,CAAY,YAAZ,EAA0B,CAAC,QAAD,EAAW,KAAX,CAA1B;AACH;AACD,gBAAI,KAAK,YAAL,CAAkB,KAAlB,EAAJ,EAA+B;AAC3B,qBAAK,mBAAL;AACH;AACJ,SAp2EiB;AAq2ElB,yBAAiB,yBAAU,MAAV,EAAkB,MAAlB,EAA0B;AACvC,gBAAI,OAAO,IAAX;AACA,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,gBAAI,OAAO,cAAc,MAAzB;AAAA,gBAAiC,MAAM,OAAO,OAA9C;AAAA,gBACI,MAAM,kBAAkB,OAAO,WAAP,EAD5B;AAAA,gBAEI,aAAa,OAAO,IAAP,CAAY,wBAAZ,CAFjB;AAAA,gBAGI,SAAS,KAAK,kBAHlB;AAIA,mBAAO,WAAP,CAAmB,8DAAnB;AACA,gBAAI,WAAW,SAAf,EAA0B;AACtB,uBAAO,IAAP,CAAY,mBAAZ,EAAiC,MAAjC;AACH;AACD,uBAAW,IAAX,CAAgB,OAAO,IAAP,CAAhB;AACA,uBAAW,IAAX,CAAgB,OAAhB,EAAyB,OAAO,GAAP,CAAzB;AACA,mBAAO,QAAP,CAAgB,GAAhB;AACA,gBAAI,WAAW,OAAX,IAAsB,CAAC,KAAK,iBAAhC,EAAmD;AAC/C,uBAAO,IAAP,CAAY,iBAAZ,EAA+B,IAA/B,CAAoC,UAApC,EAAgD,IAAhD;AACH;AACJ,SAx3EiB;AAy3ElB,+BAAuB,iCAAY;AAC/B,gBAAI,OAAO,IAAX;AACA,iBAAK,YAAL,CAAkB,GAAlB,EAAuB,KAAK,SAA5B,EAAuC,KAAK,YAA5C;AACH,SA53EiB;AA63ElB,sBAAc,sBAAU,CAAV,EAAa,GAAb,EAAkB,KAAlB,EAAyB;AACnC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,GAAL,CAAS,CAAT,EAAY,GAAZ,CAAvB;AAAA,gBAAyC,GAAzC;AAAA,gBAA8C,WAAW,KAAK,uBAA9D;AAAA,gBACI,IAAI,KAAK,GAAL,GAAW,KAAK,gBAAhB,GAAmC,KAAK,wBADhD;AAAA,gBAEI,WAAW,MAAM,GAAN,GAAY,KAAK,gBAAjB,GAAqC,QAAQ,KAAK,qBAAb,GAAqC,CAFzF;AAGA,kBAAM,OAAO,KAAK,SAAlB;AACA,gBAAI,CAAC,GAAG,OAAH,CAAW,QAAX,CAAL,EAA2B;AACvB,oBAAI,YAAY,MAAM,QAAlB,IAA8B,KAAK,GAAvC,EAA4C;AACxC,0BAAM,SAAS,SAAT,CAAmB,EAAC,WAAW,QAAZ,EAAsB,UAAU,KAAK,kBAArC,EAAnB,CAAN;AACH,iBAFD,MAEO;AACH,0BAAM,SAAS,SAAT,CAAmB,EAAC,WAAW,GAAZ,EAAiB,UAAW,IAAI,GAAJ,GAAU,KAAK,YAAf,GAA8B,MAAM,GAAhE,EAAnB,CAAN;AACH;AACD,oBAAI,IAAJ,CAAS,GAAT;AACA,oBAAI,KAAJ,EAAW;AACP,wBAAI,IAAJ,CAAS,sBAAT,EAAiC,IAAjC,CAAsC,KAAtC;AACH;AACJ;AACJ,SA74EiB;AA84ElB,+BAAuB,iCAAY;AAC/B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,UAAL,CAAgB,IAAhB,CAAqB,iBAArB,CAAzB;AAAA,gBAAkE,QAAQ,KAAK,aAA/E;AAAA,gBAA8F,QAA9F;AACA,gBAAI,KAAK,WAAT,EAAsB;AAClB,2BAAW,GAAG,OAAH,CAAW,KAAK,QAAL,CAAc,IAAd,CAAmB,UAAnB,CAAX,IAA6C,KAAK,UAAlD,GAA+D,KAAK,UAA/E;AACA,yBAAS,KAAK,kBAAL,CAAwB,OAAxB,CAAgC,SAAhC,EAA2C,QAA3C,CAAT;AACH;AACD,kBAAM,IAAN,CAAW,MAAM,KAAK,kBAAtB,EAA0C,MAA1C;AACA,gBAAI,CAAC,KAAK,YAAN,IAAsB,CAAC,KAAK,WAA5B,IAA2C,MAAM,MAAN,KAAiB,CAA5D,IAAiE,KAAK,YAAL,GAAoB,MAApB,GAA6B,CAA9F,IAAmG,CAAC,KAAK,eAA7G,EAA8H;AAC1H;AACH;AACD,gBAAI,MAAM,IAAN,CAAW,GAAG,MAAd,EAAsB,MAAtB,KAAiC,CAAjC,IAAsC,GAAG,OAAH,CAAW,KAAK,qBAAhB,CAA1C,EAAkF;AAC9E,sBAAM,OAAN,CAAc,iBAAiB,KAAK,kBAAtB,GAA2C,IAA3C,GAAkD,KAAlD,GAA0D,QAAxE;AACH;AACD,iBAAK,UAAL,CAAgB,WAAhB,CAA4B,gBAA5B;AACA,eAAG,MAAH,CAAU,KAAK,UAAf,EAA2B,qBAA3B;AACH,SA75EiB;AA85ElB,+BAAuB,+BAAU,SAAV,EAAqB,GAArB,EAA0B,KAA1B,EAAiC;AACpD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,CAAvB;AACA,iBAAK,YAAL,CAAkB,GAAlB,EAAuB,EAAE,MAAM,SAAR,EAAmB,IAAnB,CAAwB,sBAAxB,CAAvB;AACA,iBAAK,YAAL,CAAkB,SAAlB,IAA+B,GAA/B;AACA,cAAE,IAAF,CAAO,KAAK,YAAZ,EAA0B,UAAU,GAAV,EAAe,KAAf,EAAsB;AAC5C,uBAAO,KAAP;AACH,aAFD;AAGA,iBAAK,YAAL,CAAkB,KAAK,KAAL,CAAW,MAAM,KAAjB,CAAlB;AACH,SAt6EiB;AAu6ElB,2BAAmB,6BAAY;AAC3B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,YAAL,GAAoB,KAAK,YAAL,GAAoB,MAAxC,GAAiD,KAAK,QAAL,CAAc,GAAd,CAAkB,CAAlB,EAAqB,KAArB,CAA2B,MAAnG;AACA,gBAAI,KAAK,oBAAL,IAA6B,KAAK,YAAL,GAAoB,CAAjD,IAAsD,KAAK,aAAL,CAAmB,MAAM,CAAzB,IAA8B,KAAK,YAA7F,EAA2G;AACvG,qBAAK,aAAL,CAAmB,EAAnB;AACA,uBAAO,KAAP;AACH;AACD,mBAAO,IAAP;AACH,SA96EiB;AA+6ElB,uBAAe,uBAAU,SAAV,EAAqB;AAChC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,CAA5B;AACA,gBAAI,KAAK,oBAAL,IAA6B,CAAC,KAAK,gBAAvC,EAAyD;AACrD,2BAAW,KAAK,YAAL,CAAkB,KAAlB,EAAX;AACA,6BAAa,QAAb;AACH;AACD,mBAAO,SAAP;AACH,SAt7EiB;AAu7ElB,oBAAY,oBAAU,IAAV,EAAgB;AACxB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,cAA/B;AAAA,gBAA+C,YAA/C;AACA,gBAAI,OAAO,MAAP,KAAkB,UAAtB,EAAkC;AAC9B,uBAAO,OAAO,IAAP,EAAa,KAAb,CAAP;AACH;AACD,gBAAI,CAAC,IAAL,EAAW;AACP,uBAAO,IAAP;AACH;AACD;AACA,2BAAe,OAAO,KAAK,kBAAL,IAA2B,KAAK,QAAhC,IAA4C,KAAK,IAAjD,IAAyD,IAAhE,CAAf;AACA,gBAAI,CAAC,YAAL,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAQ,KAAK,IAAL,GAAY,GAAZ,GAAkB,aAAa,OAAb,CAAqB,mBAArB,EAA0C,EAA1C,CAA1B;AACH,SAr8EiB;AAs8ElB,sBAAc,sBAAU,IAAV,EAAgB;AAC1B,mBAAO,QAAQ,KAAK,IAAb,GAAoB,KAAK,IAAL,CAAU,KAAK,IAAf,CAApB,GAA2C,SAAlD;AACH,SAx8EiB;AAy8ElB,qBAAa,qBAAU,QAAV,EAAoB;AAC7B,gBAAI,OAAO,IAAX;AACA,mBAAO,KAAK,OAAL,CAAa,MAAb,CAAoB,UAAU,CAAV,EAAa;AACpC,uBAAQ,WAAW,MAAM,SAAjB,GAA6B,MAAM,SAAN,IAAmB,MAAM,IAA9D;AACH,aAFM,CAAP;AAGH,SA98EiB;AA+8ElB,uBAAe,uBAAU,QAAV,EAAoB;AAC/B,gBAAI,OAAO,IAAX;AACA,mBAAO,KAAK,SAAL,CAAe,MAAf,CAAsB,UAAU,CAAV,EAAa;AACtC,uBAAQ,WAAW,MAAM,SAAjB,GAA6B,MAAM,SAAN,IAAmB,MAAM,IAA9D;AACH,aAFM,CAAP;AAGH,SAp9EiB;AAq9ElB,0BAAkB,0BAAU,MAAV,EAAkB,CAAlB,EAAqB,GAArB,EAA0B,MAA1B,EAAkC;AAChD,gBAAI,OAAO,IAAX;AACA,gBAAI,MAAM,SAAV,EAAqB;AACjB,qBAAK,WAAL,CAAiB,CAAjB,EAAoB,GAApB;AACH;AACD,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,gBAAI,KAAK,wBAAL,IAAiC,CAAC,MAAtC,EAA8C;AAC1C,uBAAO,MAAP;AACA;AACH,aAHD,MAGO;AACH,qBAAK,eAAL,CAAqB,MAArB,EAA6B,OAA7B;AACH;AACD,iBAAK,oBAAL,CAA0B,MAA1B,EAAkC,MAAlC;AACH,SAp+EiB;AAq+ElB,8BAAsB,8BAAU,MAAV,EAAkB,MAAlB,EAA0B;AAC5C,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,OAAO,IAAP,CAAY,iBAAZ,CAAxB;AAAA,gBAAwD,MAAM,KAAK,kBAAnE;AAAA,gBACI,OAAO,IAAI,UADf;AAAA,gBAC2B,QAAQ,IAAI,WADvC;AAEA,gBAAI,CAAC,KAAK,MAAV,EAAkB;AACd;AACH;AACD,gBAAI,MAAJ,EAAY;AACR,uBAAO,IAAI,eAAX;AACA,wBAAQ,IAAI,gBAAZ;AACH;AACD,iBAAK,IAAL,CAAU,OAAV,EAAmB,KAAnB,EAA0B,IAA1B,CAA+B,IAA/B;AACH,SAh/EiB;AAi/ElB,0BAAkB,0BAAU,CAAV,EAAa,GAAb,EAAkB,IAAlB,EAAwB,MAAxB,EAAgC,KAAhC,EAAuC,IAAvC,EAA6C,MAA7C,EAAqD;AACnE,gBAAI,OAAO,IAAX;AAAA,gBAAiB,GAAjB;AAAA,gBAAsB,GAAtB;AAAA,gBAA2B,MAAM,QAAQ,OAAR,GAAkB,KAAlB,GAA0B,KAA3D;AAAA,gBAAkE,QAAQ,KAAK,MAAM,OAAN,GAAgB,IAArB,CAA1E;AAAA,gBACI,MADJ;AAAA,gBACY,OADZ;AAEA,gBAAI,GAAG,OAAH,CAAW,KAAX,KAAqB,CAAC,KAAK,MAA/B,EAAuC;AACnC;AACH;AACD,qBAAS,KAAK,CAAL,CAAT;AACA,kBAAO,SAAS,OAAV,GAAqB,OAAO,YAAP,IAAuB,OAAO,KAAnD,GAA2D,OAAO,aAAP,IAAwB,OAAO,MAAhG;AACA,sBAAU,QAAQ,OAAR,GAAkB,OAAO,KAAzB,GAAiC,OAAO,KAAlD;AACA,gBAAI,OAAJ,EAAa;AACT;AACH;AACD,kBAAM,KAAK,aAAa,IAAb,GAAoB,GAAzB,EAA8B,SAA9B,CAAwC,EAAC,QAAQ,KAAT,EAAgB,QAAQ,KAAxB,EAAxC,CAAN;AACA,iBAAK,gBAAL,CAAsB,GAAtB,EAA2B,MAA3B;AACA,iBAAK,gBAAL,CAAsB,MAAtB,EAA8B,CAA9B,EAAiC,IAAjC;AACH,SAhgFiB;AAigFlB,wBAAgB,wBAAU,SAAV,EAAqB,KAArB,EAA4B,KAA5B,EAAmC,KAAnC,EAA0C,KAA1C,EAAiD;AAC7D,gBAAI,OAAO,IAAX;AAAA,gBAAiB,WAAW,KAAK,QAAjC;AAAA,gBAA2C,MAA3C;AAAA,gBAAmD,EAAnD;AAAA,gBAAuD,EAAvD;AAAA,gBAA2D,SAAS,SAAS,IAAT,CAAc,MAAM,SAApB,CAApE;AAAA,gBACI,IAAI,OAAO,IAAP,CAAY,gBAAZ,CADR;AAAA,gBACuC,OAAO,OAAO,IAAP,CAAY,KAAZ,CAD9C;AAAA,gBACkE,UADlE;AAEA,oBAAQ,SAAS,UAAjB;AACA,iBAAK,GAAL,CAAS,MAAT,EAAiB,YAAY;AACzB,qBAAK,OAAO,KAAP,EAAL;AACA,qBAAK,SAAS,KAAT,EAAL;AACA,oBAAI,KAAK,EAAT,EAAa;AACT,yBAAK,GAAL,CAAS,OAAT,EAAkB,MAAlB;AACH;AACD,yBAAS,EAAC,KAAK,CAAN,EAAS,IAAI,SAAb,EAAT;AACA,qBAAK,gBAAL,CAAsB,CAAtB,EAAyB,OAAzB,EAAkC,IAAlC,EAAwC,MAAxC,EAAgD,KAAhD,EAAuD,OAAvD,EAAgE,MAAhE;AACA,qBAAK,gBAAL,CAAsB,CAAtB,EAAyB,OAAzB,EAAkC,IAAlC,EAAwC,MAAxC,EAAgD,KAAhD,EAAuD,QAAvD,EAAiE,MAAjE;AACA,oBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB,yBAAK,gBAAL,CAAsB,CAAtB,EAAyB,OAAzB,EAAkC,IAAlC,EAAwC,MAAxC,EAAgD,KAAhD,EAAuD,OAAvD,EAAgE,MAAhE;AACA,yBAAK,gBAAL,CAAsB,CAAtB,EAAyB,OAAzB,EAAkC,IAAlC,EAAwC,MAAxC,EAAgD,KAAhD,EAAuD,QAAvD,EAAiE,MAAjE;AACH;AACD,qBAAK,MAAL,CAAY,iBAAZ,EAA+B,CAAC,SAAD,CAA/B;AACA,oBAAI;AACA,iCAAa,OAAO,MAAP,GAAgB,OAAO,MAAP,CAAc,IAAd,CAAmB,KAAnB,CAAhB,GAA4C,IAAzD;AACH,iBAFD,CAEE,OAAO,GAAP,EAAY;AACV,iCAAa,IAAb;AACH;AACD,qBAAK,YAAL,CAAkB,IAAlB,CAAuB;AACnB,yBAAK,CADc;AAEnB,yBAAK,IAFc;AAGnB,2BAAO,MAHY;AAInB,yBAAK,SAJc;AAKnB,yBAAK,KALc;AAMnB,yBAAK,KANc;AAOnB,+BAAW,KAPQ;AAQnB,6BAAS,KARU;AASnB,6BAAS;AATU,iBAAvB;AAWA,uBAAO,IAAP,CAAY,MAAZ,EAAoB,UAApB;AACA,qBAAK,kBAAL;AACH,aAhCD,EAgCG,GAhCH,CAgCO,OAhCP,EAgCgB,YAAY;AACxB,qBAAK,MAAL,CAAY,oBAAZ,EAAkC,CAAC,SAAD,CAAlC;AACH,aAlCD,EAkCG,IAlCH,CAkCQ,YAAY;AAChB,oBAAI,KAAK,QAAT,EAAmB;AACf,sBAAE,IAAF,EAAQ,OAAR,CAAgB,MAAhB;AACH,iBAFD,MAEO;AACH,wBAAI,KAAK,KAAT,EAAgB;AACZ,0BAAE,IAAF,EAAQ,OAAR,CAAgB,OAAhB;AACH;AACJ;AACJ,aA1CD;AA2CH,SAhjFiB;AAijFlB,4BAAoB,8BAAY;AAC5B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,CAAjB;AAAA,gBAAoB,UAAU,EAAC,KAAK,CAAN,EAA9B;AAAA,gBAAwC,UAAU,KAAK,YAAL,CAAkB,MAApE;AAAA,gBAA4E,MAA5E;AAAA,gBACI,KADJ;AAAA,gBACW,UAAU,KAAK,oBAD1B;AAEA,gBAAI,YAAY,KAAK,gBAArB,EAAuC;AACnC;AACH;AACD,iBAAK,MAAL,CAAY,kBAAZ;AACA,gBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB;AACH;AACD,iBAAK,IAAI,CAAT,EAAY,IAAI,KAAK,YAAL,CAAkB,MAAlC,EAA0C,GAA1C,EAA+C;AAC3C,yBAAS,KAAK,YAAL,CAAkB,CAAlB,CAAT;AACA,oBAAI,OAAO,SAAX,EAAsB;AAClB;AACH;AACD,wBAAQ,OAAO,GAAf;AACA,oBAAI,SAAS,QAAQ,UAAU,IAA/B,EAAqC;AACjC,yBAAK,gBAAL,CAAsB,MAAtB,EAA8B,OAA9B,EAAuC,OAAvC;AACH;AACD,qBAAK,YAAL,CAAkB,CAAlB,EAAqB,SAArB,GAAiC,IAAjC;AACH;AACJ,SAtkFiB;AAukFlB,0BAAkB,0BAAU,MAAV,EAAkB,OAAlB,EAA2B,OAA3B,EAAoC;AAClD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,EAAE,OAAO,GAAT,EAAc,CAAd,CAAvB;AAAA,gBAAyC,QAAQ,IAAI,YAArD;AAAA,gBAAmE,SAAS,IAAI,aAAhF;AAAA,gBAA+F,IAA/F;AAAA,gBACI,QAAQ,CADZ;AAAA,gBACe,WAAW,KAAK,aAAL,IAAsB,KADhD;AAAA,gBACuD,YAAY,KAAK,cAAL,IAAuB,MAD1F;AAAA,gBAEI,eAAe,CAAC,EAAE,SAAS,MAAX,CAFpB;AAAA,gBAEwC,QAFxC;AAAA,gBAEkD,SAFlD;AAAA,gBAE6D,SAAS,KAAK,WAF3E;AAAA,gBAEwF,OAFxF;AAAA,gBAGI,UAAU,KAAK,kBAHnB;AAAA,gBAGuC,OAAO,OAAO,GAHrD;AAAA,gBAG0D,MAAM,OAAO,GAHvE;AAAA,gBAG4E,MAAM,OAAO,GAHzF;AAAA,gBAII,SAAS,OAAO,KAJpB;AAAA,gBAI2B,UAJ3B;AAAA,gBAIuC,GAJvC;AAAA,gBAI4C,UAAU,OAAO,OAJ7D;AAAA,gBAIsE,OAJtE;AAKA,yBAAa,oBAAU,GAAV,EAAe,MAAf,EAAuB,EAAvB,EAA2B;AACpC,oBAAI,KAAK,YAAT,EAAuB;AACnB,yBAAK,gBAAL,CAAsB,GAAtB,EAA2B,MAA3B,EAAmC,EAAnC;AACH,iBAFD,MAEO;AACH,yBAAK,UAAL,CAAgB,GAAhB,EAAqB,MAArB,EAA6B,EAA7B;AACH;AACD,qBAAK,gBAAL,CAAsB,MAAtB,EAA8B,GAA9B;AACH,aAPD;AAQA,gBAAI,CAAC,KAAK,SAAL,CAAe,GAAf,CAAD,IAAwB,CAAC,YAAzB,IAA0C,SAAS,QAAT,IAAqB,UAAU,SAA7E,EAAyF;AACrF,oBAAI,gBAAgB,KAAK,SAAL,CAAe,GAAf,CAApB,EAAyC;AACrC,yBAAK,MAAL,CAAY,kBAAZ,EAAgC,CAAC,GAAD,EAAM,GAAN,CAAhC;AACH;AACD,wBAAQ,GAAR;AACA,oBAAI,QAAQ,GAAR,KAAgB,OAApB,EAA6B;AACzB,yBAAK,MAAL,CAAY,mBAAZ;AACH;AACD,oBAAI,CAAC,YAAL,EAAmB;AACf,+BAAW,KAAK,mBAAhB,EAAqC,EAAC,IAAI,GAAL,EAAU,SAAS,GAAnB,EAArC,EAA8D,sBAA9D;AACA;AACH;AACJ;AACD,mBAAO,QAAQ,KAAK,sBAApB;AACA,uBAAW,QAAQ,QAAnB;AACA,wBAAY,SAAS,SAArB;AACA,gBAAI,KAAK,gBAAL,KAA0B,OAA9B,EAAuC;AACnC,wBAAQ,WAAW,WAAW,KAAtB,GAA+B,YAAY,YAAY,MAAxB,GAAiC,CAAxE;AACH,aAFD,MAEO;AACH,wBAAQ,YAAY,YAAY,MAAxB,GAAkC,WAAW,WAAW,KAAtB,GAA8B,CAAxE;AACH;AACD,iBAAK,YAAL;AACA,qBAAS,KAAT;AACA,sBAAU,KAAV;AACA,mBAAO,KAAP,GAAe,KAAf;AACA,mBAAO,MAAP,GAAgB,MAAhB;AACA,gBAAI;AACA,wBAAQ,SAAR,CAAkB,GAAlB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,KAA7B,EAAoC,MAApC;AACA,0BAAU,OAAO,SAAP,CAAiB,IAAjB,EAAuB,KAAK,aAA5B,CAAV;AACA,oBAAI,OAAJ,EAAa;AACT,8BAAU,OAAO,MAAP,CAAc,IAAd,CAAmB,OAAnB,CAAV;AACA,8BAAU,OAAO,MAAP,CAAc,MAAd,CAAqB,OAArB,EAA8B,OAA9B,CAAV;AACH;AACD,uBAAO,GAAG,YAAH,CAAgB,OAAhB,CAAP;AACA,qBAAK,SAAL,CAAe,GAAf,IAAsB,IAAtB;AACA,qBAAK,MAAL,CAAY,kBAAZ,EAAgC,CAAC,GAAD,EAAM,GAAN,CAAhC;AACA,wBAAQ,GAAR;AACA,oBAAI,QAAQ,GAAR,KAAgB,OAApB,EAA6B;AACzB,yBAAK,MAAL,CAAY,mBAAZ,EAAiC,CAAC,SAAD,EAAY,SAAZ,CAAjC;AACH;AACD,oBAAI,EAAE,gBAAgB,IAAlB,CAAJ,EAA6B;AACzB,+BAAW,KAAK,mBAAhB,EAAqC,EAAC,IAAI,GAAL,EAAU,SAAS,GAAnB,EAArC,EAA8D,sBAA9D;AACH;AACJ,aAjBD,CAkBA,OAAO,GAAP,EAAY;AACR,wBAAQ,GAAR;AACA,oBAAI,QAAQ,GAAR,KAAgB,OAApB,EAA6B;AACzB,yBAAK,MAAL,CAAY,mBAAZ,EAAiC,CAAC,SAAD,EAAY,SAAZ,CAAjC;AACH;AACD,sBAAM,KAAK,uBAAL,CAA6B,OAA7B,CAAqC,UAArC,EAAiD,IAAI,OAArD,CAAN;AACA,2BAAW,GAAX,EAAgB,EAAC,IAAI,GAAL,EAAU,SAAS,GAAnB,EAAhB,EAAyC,0BAAzC;AACH;AACJ,SAzoFiB;AA0oFlB,qBAAa,qBAAU,UAAV,EAAsB;AAC/B,gBAAI,OAAO,IAAX;AACA,gBAAI,KAAK,UAAT,EAAqB;AACjB,qBAAK,QAAL,GAAgB,WAAW,IAAX,CAAgB,WAAhB,CAAhB;AACA,qBAAK,QAAL,CAAc,MAAd,CAAqB,KAAK,QAA1B;AACH,aAHD,MAGO;AACH,qBAAK,QAAL,CAAc,IAAd;AACH;AACJ,SAlpFiB;AAmpFlB,sBAAc,wBAAY;AACtB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,cAAL,IAAuB,EAA9C;AACA,gBAAI,KAAK,gBAAL,IAAyB,GAAG,OAAH,CAAW,GAAX,CAA7B,EAA8C;AAC1C,qBAAK,QAAL,CAAc,GAAd,CAAkB,EAAlB;AACA,uBAAO,KAAP;AACH;AACD,iBAAK,WAAL,CAAiB,GAAjB;AACA,mBAAO,IAAP;AACH,SA3pFiB;AA4pFlB,qBAAa,qBAAU,OAAV,EAAmB,OAAnB,EAA4B;AACrC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,KAAjB;AAAA,gBAAwB,GAAxB;AAAA,gBAA6B,IAA7B;AAAA,gBAAmC,CAAnC;AAAA,gBAAsC,GAAtC;AAAA,gBAA2C,QAAQ,KAAK,YAAL,EAAnD;AACA,gBAAI,CAAC,KAAK,QAAL,CAAc,MAAnB,EAA2B;AACvB;AACH;AACD,iBAAK,iBAAL,CAAuB,WAAvB,CAAmC,cAAnC;AACA,gBAAI,OAAJ,EAAa;AACT,wBAAQ,EAAE,UAAU,KAAK,kBAAf,GAAoC,QAAtC,EAAgD,IAAhD,EAAR;AACA,oBAAI,MAAM,MAAV;AACA,oBAAI,CAAJ,EAAO;AACH,0BAAM,MAAM,CAAN,IAAW,MAAM,CAAN,CAAX,GAAsB,KAAK,aAAL,GAAqB,CAArB,CAAtB,GAAgD,KAAK,eAAL,CAAqB,CAArB,CAAtD;AACH,iBAFD,MAEO;AACH,0BAAM,KAAK,eAAL,CAAqB,KAAK,KAA1B,CAAN;AACH;AACD,sBAAM,GAAG,OAAH,CAAW,OAAX,IAAsB,GAAtB,GAA4B,OAAlC;AACA,uBAAO,kBAAkB,KAAK,uBAAvB,GAAiD,IAAjD,GAAwD,KAAK,sBAA7D,GAAsF,SAA7F;AACH,aAVD,MAUO;AACH,oBAAI,GAAG,OAAH,CAAW,OAAX,CAAJ,EAAyB;AACrB;AACH;AACD,wBAAQ,EAAE,UAAU,OAAV,GAAoB,QAAtB,EAAgC,IAAhC,EAAR;AACA,sBAAM,KAAN;AACA,uBAAO,KAAK,kBAAL,CAAwB,UAAxB,CAAP;AACH;AACD,iBAAK,iBAAL,CAAuB,QAAvB,CAAgC,cAAhC;AACA,iBAAK,QAAL,CAAc,IAAd,CAAmB,OAAnB,EAA4B,KAA5B,EAAmC,GAAnC,CAAuC,GAAvC;AACA,iBAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB;AACH,SAvrFiB;AAwrFlB,0BAAkB,4BAAY;AAC1B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,UAAU,EAAC,SAAS,+BAA+B,KAAK,GAAL,GAAW,SAAX,GAAuB,EAAtD,CAAV,EAA3B;AAAA,gBACI,aAAa,EAAE,SAAS,aAAT,CAAuB,KAAvB,CAAF,EAAiC,IAAjC,CAAsC,OAAtC,EAA+C,IAA/C,CAAoD,KAAK,WAAL,EAApD,CADjB;AAEA,iBAAK,QAAL,CAAc,MAAd,CAAqB,UAArB;AACA,iBAAK,WAAL,CAAiB,UAAjB;AACA,gBAAI,KAAK,KAAT,EAAgB;AACZ,2BAAW,QAAX,CAAoB,WAAW,KAAK,KAApC;AACH;AACD,mBAAO,UAAP;AACH,SAjsFiB;AAksFlB,2BAAmB,6BAAY;AAC3B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,aAAa,KAAK,UAAnC;AACA,uBAAW,MAAX,CAAkB,KAAK,QAAvB;AACA,uBAAW,IAAX,CAAgB,KAAK,WAAL,EAAhB;AACA,iBAAK,WAAL,CAAiB,UAAjB;AACA,iBAAK,iBAAL;AACH,SAxsFiB;AAysFlB,2BAAmB,6BAAY;AAC3B,gBAAI,OAAO,IAAX;AACA,iBAAK,QAAL,CAAc,IAAd,CAAmB,EAAC,UAAU,KAAK,UAAhB,EAAnB;AACH,SA5sFiB;AA6sFlB,qBAAa,uBAAY;AACrB,gBAAI,OAAO,IAAX;AAAA,gBACI,UAAW,KAAK,YAAL,IAAqB,KAAK,eAA3B,GAA8C,iBAA9C,GAAkE,oBADhF;AAAA,gBAEI,QAAQ,CAAC,KAAK,SAAN,GAAkB,EAAlB,GAAuB,KAAK,kBAAL,CAAwB,OAAxB,CAFnC;AAAA,gBAGI,UAAU,CAAC,KAAK,WAAN,GAAoB,EAApB,GAAyB,KAAK,kBAAL,CAAwB,SAAxB,EAC9B,SAD8B,CACpB,EAAC,SAAS,KAAK,YAAf,EAA6B,aAAa,OAA1C,EADoB,CAHvC;AAAA,gBAKI,MAAM,KAAK,UAAL,GAAkB,KAAK,YAAL,GAAoB,wBAAtC,GAAiE,KAAK,YALhF;AAAA,gBAMI,UAAU,KAAK,eAAL,CAAqB,SAArB,CAA+B,EAAC,SAAS,MAAM,uBAAhB,EAA/B,CANd;AAOA,mBAAO,KAAK,YAAL,CAAkB,SAAlB,CAA4B;AAC/B,yBAAS,KAAK,SAAL,IAAkB,CAAC,KAAK,UAAN,IAAoB,KAAK,WAAzB,GAAuC,YAAvC,GAAsD,EAAxE,CADsB;AAE/B,2BAAW,OAFoB;AAG/B,yBAAS,KAHsB;AAI/B,2BAAW,OAJoB;AAK/B,0BAAU,KAAK,aAAL,CAAmB,QAAnB,CALqB;AAM/B,0BAAU,KAAK,aAAL,CAAmB,QAAnB,CANqB;AAO/B,0BAAU,KAAK,aAAL,CAAmB,QAAnB,CAPqB;AAQ/B,0BAAU,KAAK,aAAL,CAAmB,QAAnB;AARqB,aAA5B,CAAP;AAWH,SAhuFiB;AAiuFlB,uBAAe,uBAAU,IAAV,EAAgB;AAC3B,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,kBAAL,CAAwB,YAAxB,CAAzB;AAAA,gBAAgE,MAAM,KAAK,OAAO,OAAZ,CAAtE;AAAA,gBACI,QAAQ,KAAK,OAAO,OAAZ,CADZ;AAAA,gBACkC,OAAO,KAAK,OAAO,MAAZ,CADzC;AAAA,gBAC8D,QAAQ,KAAK,OAAO,OAAZ,CADtE;AAAA,gBAEI,SAAS,KAAK,UAAL,GAAkB,WAAlB,GAAgC,EAF7C;AAAA,gBAEiD,UAAU,QAF3D;AAGA,oBAAQ,IAAR;AACI,qBAAK,QAAL;AACI,wBAAI,CAAC,KAAK,UAAV,EAAsB;AAClB,+BAAO,EAAP;AACH;AACD;AACJ,qBAAK,QAAL;AACI,wBAAI,CAAC,KAAK,UAAV,EAAsB;AAClB,+BAAO,EAAP;AACH;AACD,2BAAO,YAAP;AACA;AACJ,qBAAK,QAAL;AACI,wBAAI,CAAC,KAAK,UAAV,EAAsB;AAClB,+BAAO,EAAP;AACH;AACD,wBAAI,KAAK,YAAL,IAAqB,CAAC,KAAK,UAA/B,EAA2C;AACvC,gCAAQ,KAAK,kBAAL,CAAwB,SAAxB,EAAmC,OAAnC,CAA2C,QAA3C,EAAqD,KAAK,SAA1D,CAAR;AACH,qBAFD,MAEO;AACH,kCAAU,QAAV;AACH;AACD;AACJ,qBAAK,QAAL;AACI,wBAAI,CAAC,KAAK,UAAV,EAAsB;AAClB,+BAAO,EAAP;AACH;AACD,4BAAQ,KAAK,kBAAL,CAAwB,WAAxB,CAAR;AACA;AACJ;AACI,2BAAO,EAAP;AA7BR;;AAgCA,mBAAO,SAAS,QAAT,GAAoB,WAApB,GAAkC,gBAAgB,IAAhB,GAAuB,aAAvB,GAAuC,IAAvC,GAA8C,SAAvF;AACA,gBAAI,CAAC,GAAG,OAAH,CAAW,KAAX,CAAL,EAAwB;AACpB,wBAAQ,mBAAmB,KAAK,gBAAxB,GAA2C,IAA3C,GAAkD,KAAlD,GAA0D,SAAlE;AACH;AACD,mBAAO,MAAM,SAAN,CAAgB;AACnB,wBAAQ,OADW,EACF,OAAO,GADL,EACU,SAAS,KADnB,EAC0B,UAAU,MADpC,EAC4C,QAAQ,IADpD,EAC0D,SAAS;AADnE,aAAhB,CAAP;AAGH,SA5wFiB;AA6wFlB,8BAAsB,gCAAY;AAC9B,gBAAI,OAAO,IAAX;AACA,mBAAO,gDACH,KAAK,gBAAL,CAAsB,SAAtB,CAAgC,EAAC,WAAW,GAAZ,EAAiB,UAAU,KAAK,cAAhC,EAAhC,CADG,GAEH,QAFJ;AAGH,SAlxFiB;AAmxFlB,2BAAmB,2BAAU,OAAV,EAAmB,IAAnB,EAAyB,KAAzB,EAAgC,OAAhC,EAAyC;AACxD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,kBAA/B;AAAA,gBAAmD,MAAM,OAAO,UAAhE;AAAA,gBAA4E,MAAM,OAAO,QAAzF;AAAA,gBACI,MAAM,OAAO,UADjB;AAAA,gBAC6B,OAAO,OAAO,QAD3C;AAAA,gBACqD,GADrD;AAAA,gBAEI,WAAW,KAAK,kBAAL,CAAwB,QAAxB,CAFf;AAAA,gBAEkD,OAAO,KAAK,kBAAL,CAAwB,WAAxB,CAFzD;AAAA,gBAGI,MAAM,UAAU,OAAO,cAAjB,GAAkC,OAAO,YAHnD;AAAA,gBAII,QAAQ,UAAU,OAAO,mBAAjB,GAAuC,OAAO,iBAJ1D;AAAA,gBAKI,YAAY,KAAK,SAAL,CAAe,EAAC,aAAa,GAAd,EAAmB,kBAAkB,KAArC,EAAf,CALhB;AAMA,mBAAO,KAAK,QAAL,CAAc,IAAd,CAAP;AACA,gBAAI,KAAK,YAAT,EAAuB;AACnB,sBAAM,SAAS,SAAT,CAAmB;AACrB,+BAAW,KAAK,kBAAL,CAAwB,GAAxB,EAA6B,KAA7B,EAAoC,GAApC,EAAyC,IAAzC,EAA+C,GAA/C,EAAoD,KAApD,EAA2D,KAA3D,EAAkE,KAAlE,CADU;AAErB,+BAAW,OAFU;AAGrB,4BAAQ,IAHa;AAIrB,6BAAS,KAJY;AAKrB,gCAAY,KAAK,oBAAL,EALS;AAMrB,iCAAa;AANQ,iBAAnB,CAAN;AAQH,aATD,MASO;AACH,sBAAM,SAAS,SAAT,CAAmB;AACrB,+BAAW,KAAK,kBAAL,CAAwB,KAAxB,EAA+B,KAA/B,EAAsC,KAAtC,EAA6C,IAA7C,EAAmD,GAAnD,EAAwD,KAAxD,EAA+D,KAA/D,EAAsE,KAAtE,CADU;AAErB,+BAAW,OAFU;AAGrB,4BAAQ,IAHa;AAIrB,6BAAS,KAJY;AAKrB,gCAAY,EALS;AAMrB,iCAAa;AANQ,iBAAnB,CAAN;AAQH;AACD,kBAAM,GAAG,WAAH,CAAe,GAAf,EAAoB,KAAK,gBAAzB,CAAN;AACA,mBAAO,GAAP;AACH,SAhzFiB;AAizFlB,4BAAoB,4BAAU,OAAV,EAAmB,OAAnB,EAA4B,OAA5B,EAAqC,QAArC,EAA+C,QAA/C,EAAyD,QAAzD,EAAmE,GAAnE,EAAwE,GAAxE,EAA6E,MAA7E,EAAqF,IAArF,EAA2F,KAA3F,EAAkG;AAClH,gBAAI,CAAC,OAAD,IAAY,CAAC,OAAb,IAAwB,CAAC,OAAzB,IAAoC,CAAC,QAArC,IAAiD,CAAC,QAAtD,EAAgE;AAC5D,uBAAO,EAAP;AACH;AACD,gBAAI,OAAO,IAAX;AAAA,gBAAiB,OAAO,QAAQ,KAAR,GAAgB,EAAhB,GAAqB,gBAAgB,GAAhB,GAAsB,GAAnE;AAAA,gBACI,OAAO,QAAQ,KAAR,GAAgB,EAAhB,GAAqB,gBAAgB,GAAhB,GAAsB,GADtD;AAAA,gBAC2D,YAAY,EADvE;AAAA,gBAC2E,YAAY,EADvF;AAAA,gBAC2F,cAAc,EADzG;AAAA,gBAEI,UAAU,EAFd;AAAA,gBAEkB,UAAU,EAF5B;AAAA,gBAEgC,GAFhC;AAAA,gBAEqC,WAAW,KAAK,kBAAL,CAAwB,SAAxB,CAFhD;AAAA,gBAGI,SAAS,KAAK,kBAHlB;AAAA,gBAII,eAAe,KAAK,kBAAL,CAAwB,SAAxB,CAAkC,EAAC,WAAW,IAAZ,EAAkB,OAAO,GAAzB,EAAlC,CAJnB;AAAA,gBAKI,cAAc,WAAW,OAAO,WAAP,GAAqB,WAAhC,GAA8C,OAAO,WALvE;AAMA,gBAAI,OAAJ,EAAa;AACT,4BAAY,KAAK,kBAAL,CAAwB,cAAxB,EAAwC,SAAxC,CAAkD;AAC1D,mCAAe,WAD2C;AAE1D,kCAAc,OAAO,UAFqC;AAG1D,mCAAe,OAAO,WAHoC;AAI1D,+BAAW,IAJ+C;AAK1D,+BAAW,IAL+C;AAM1D,2BAAO;AANmD,iBAAlD,CAAZ;AAQH;AACD,gBAAI,OAAJ,EAAa;AACT,4BAAY,KAAK,kBAAL,CAAwB,cAAxB,EAAwC,SAAxC,CAAkD;AAC1D,mCAAe,OAAO,WADoC;AAE1D,kCAAc,OAAO,UAFqC;AAG1D,mCAAe,OAAO;AAHoC,iBAAlD,CAAZ;AAKH;AACD,gBAAI,OAAJ,EAAa;AACT,8BAAc,KAAK,kBAAL,CAAwB,gBAAxB,EAA0C,SAA1C,CAAoD;AAC9D,qCAAiB,OAAO,aADsC;AAE9D,oCAAgB,OAAO,YAFuC;AAG9D,qCAAiB,OAAO,aAHsC;AAI9D,mCAAe,QAAQ,KAAK;AAJkC,iBAApD,CAAd;AAMA,8BAAc,YAAY,SAAZ,CAAsB,EAAC,YAAY,KAAb,EAAoB,OAAO,GAA3B,EAAtB,CAAd;AACH;AACD,gBAAI,QAAJ,EAAc;AACV,0BAAU,KAAK,kBAAL,CAAwB,YAAxB,EAAsC,SAAtC,CAAgD;AACtD,iCAAa,OAAO,SADkC;AAEtD,gCAAY,OAAO,QAFmC;AAGtD,iCAAa,OAAO;AAHkC,iBAAhD,CAAV;AAKH;AACD,gBAAI,YAAY,MAAhB,EAAwB;AACpB,sBAAM,sBAAsB,OAAO,SAAnC;AACA,0BAAU,KAAK,kBAAL,CAAwB,YAAxB,EAAsC,SAAtC,CAAgD;AACtD,iCAAa,GADyC;AAEtD,iCAAa,OAAO,SAFkC;AAGtD,gCAAY,OAAO;AAHmC,iBAAhD,CAAV;AAKH;AACD,mBAAO,SAAS,SAAT,CAAmB;AACtB,0BAAU,SADY;AAEtB,0BAAU,SAFY;AAGtB,4BAAY,WAHU;AAItB,wBAAQ,OAJc;AAKtB,wBAAQ,OALc;AAMtB,yBAAS;AANa,aAAnB,CAAP;AAQH,SA52FiB;AA62FlB,iBAAS,iBAAU,CAAV,EAAa;AAClB,gBAAI,OAAO,IAAX;AACA,iBAAK,MAAL,CAAY,YAAZ;AACA,gBAAI,KAAK,EAAE,kBAAF,EAAT,EAAiC;AAC7B;AACH;AACD,gBAAI,KAAK,OAAL,IAAgB,CAAC,KAAK,YAA1B,EAAwC;AACpC,qBAAK,KAAL;AACH;AACD,iBAAK,iBAAL,CAAuB,KAAvB;AACH,SAv3FiB;AAw3FlB,0BAAkB,0BAAU,IAAV,EAAgB,KAAhB,EAAuB,OAAvB,EAAgC;AAC9C,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,UAAL,CAAgB,IAAhB,CAA1B;AACA,gBAAI,UAAU,OAAV,IAAqB,QAAQ,OAAR,CAAgB,MAAhB,IAA0B,CAAC,CAApD,EAAuD;AACnD;AACH;AACD,gBAAI,CAAC,OAAL,EAAc;AACV,0BAAU,EAAV;AACH;AACD,kBAAM,IAAN,CAAW,IAAX;AACA,oBAAQ,IAAR,CAAa,MAAb;AACH,SAl4FiB;AAm4FlB,iBAAS,iBAAU,CAAV,EAAa;AAClB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AACA,gBAAI,CAAC,KAAK,YAAN,IAAsB,GAAG,OAAH,CAAW,IAAI,GAAJ,EAAX,CAAtB,IAA+C,KAAK,gBAAxD,EAA0E;AAAE;AACxE,qBAAK,gBAAL,GAAwB,KAAxB;AACA;AACH;AACD,iBAAK,gBAAL,GAAwB,KAAxB;AACA,gBAAI,SAAS,EAAb;AAAA,gBAAiB,GAAjB;AAAA,gBAAsB,KAAtB;AAAA,gBAA6B,aAAa,UAAU,MAAV,GAAmB,CAA7D;AAAA,gBAAgE,eAAe,KAAK,YAApF;AAAA,gBAAkG,CAAlG;AAAA,gBAAqG,GAArG;AAAA,gBACI,QAAQ,aAAa,EAAE,aAAF,CAAgB,YAAhB,CAA6B,KAA1C,GAAkD,IAAI,GAAJ,CAAQ,CAAR,EAAW,KADzE;AAAA,gBACgF,MAAM,KAAK,SAAL,CAAe,MADrG;AAAA,gBAEI,iBAAiB,GAAG,OAAH,CAAW,IAAI,IAAJ,CAAS,UAAT,CAAX,CAFrB;AAAA,gBAEuD,aAAc,kBAAkB,MAAM,CAF7F;AAAA,gBAGI,UAAU,CAHd;AAAA,gBAGiB,UAAU,KAAK,WAAL,EAH3B;AAAA,gBAG+C,aAAa,SAAb,UAAa,CAAU,IAAV,EAAgB,IAAhB,EAAsB,SAAtB,EAAiC,KAAjC,EAAwC;AAC5F,oBAAI,KAAK,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,KAAK,WAAL,CAAiB,EAAjB,EAAqB,EAArB,EAAyB,KAAzB,CAAnB,EAAoD,EAAC,IAAI,SAAL,EAAgB,OAAO,KAAvB,EAApD,CAAT;AAAA,oBACI,KAAK,EAAC,IAAI,SAAL,EAAgB,OAAO,KAAvB,EAA8B,MAAM,IAApC,EAA0C,OAAO,KAAjD,EADT;AAEA,uBAAO,KAAK,YAAL,GAAoB,KAAK,gBAAL,CAAsB,IAAtB,EAA4B,EAA5B,CAApB,GAAsD,KAAK,UAAL,CAAgB,IAAhB,EAAsB,EAAtB,CAA7D;AACH,aAPL;AAQA,iBAAK,MAAL,GAAc,IAAd;AACA,iBAAK,YAAL;AACA,iBAAK,aAAL;AACA,gBAAI,KAAK,YAAT,EAAuB;AACnB,qBAAK,UAAL,CAAgB,IAAhB,CAAqB,sBAAsB,KAAK,kBAAhD,EAAoE,MAApE;AACH;AACD,gBAAI,UAAJ,EAAgB;AACZ,kBAAE,IAAF,CAAO,KAAP,EAAc,UAAU,CAAV,EAAa,CAAb,EAAgB;AAC1B,wBAAI,KAAK,CAAC,EAAE,IAAR,IAAgB,EAAE,IAAF,KAAW,SAA3B,IAAwC,EAAE,IAAF,GAAS,IAAT,KAAkB,CAA9D,EAAiE;AAC7D;AACH,qBAFD,MAEO;AACH,6BAAK,gBAAL,CAAsB,CAAtB,EAAyB,MAAzB,EAAiC,OAAjC;AACH;AACJ,iBAND;AAOH,aARD,MAQO;AACH,oBAAI,EAAE,MAAF,IAAY,EAAE,MAAF,CAAS,KAAT,KAAmB,SAAnC,EAA8C;AAC1C,4BAAQ,EAAE,MAAF,CAAS,KAAT,GAAiB,CAAC,EAAC,MAAM,EAAE,MAAF,CAAS,KAAT,CAAe,OAAf,CAAuB,OAAvB,EAAgC,EAAhC,CAAP,EAAD,CAAjB,GAAiE,EAAzE;AACH,iBAFD,MAEO;AACH,4BAAQ,EAAE,MAAF,CAAS,KAAT,IAAkB,EAA1B;AACH;AACD,oBAAI,YAAJ,EAAkB;AACd,sBAAE,IAAF,CAAO,KAAP,EAAc,UAAU,CAAV,EAAa,CAAb,EAAgB;AAC1B,6BAAK,gBAAL,CAAsB,CAAtB,EAAyB,MAAzB,EAAiC,OAAjC;AACH,qBAFD;AAGH,iBAJD,MAIO;AACH,6BAAS,KAAT;AACH;AACJ;AACD,gBAAI,GAAG,OAAH,CAAW,MAAX,KAAsB,OAAO,MAAP,KAAkB,CAA5C,EAA+C;AAC3C,oBAAI,CAAC,YAAL,EAAmB;AACf,yBAAK,KAAL;AACH;AACD,qBAAK,gBAAL,CAAsB,OAAtB;AACA,qBAAK,MAAL,CAAY,gBAAZ;AACA;AACH;AACD,iBAAK,YAAL;AACA,kBAAM,OAAO,MAAb;AACA,oBAAQ,KAAK,aAAL,CAAmB,KAAK,YAAL,GAAqB,KAAK,YAAL,GAAoB,MAApB,GAA6B,GAAlD,GAAyD,GAA5E,CAAR;AACA,gBAAI,KAAK,YAAL,GAAoB,CAApB,IAAyB,QAAQ,KAAK,YAA1C,EAAwD;AACpD,oBAAI,CAAC,KAAK,WAAN,IAAqB,MAAM,KAAK,YAApC,EAAkD;AAC9C,wBAAK,KAAK,WAAL,IAAoB,MAAM,KAAK,YAAhC,GAAgD,GAAhD,GAAsD,KAA1D;AACA,0BAAM,KAAK,eAAL,CAAqB,OAArB,CAA6B,KAA7B,EAAoC,KAAK,YAAzC,EAAuD,OAAvD,CAA+D,KAA/D,EAAsE,CAAtE,CAAN;AACA,yBAAK,OAAL,GAAe,WAAW,GAAX,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,CAAf;AACA,yBAAK,iBAAL,CAAuB,WAAvB,CAAmC,cAAnC;AACA,yBAAK,WAAL,CAAiB,EAAjB,EAAqB,IAArB;AACA,yBAAK,UAAL,CAAgB,WAAhB,CAA4B,oCAA5B;AACA;AACH;AACD,oBAAI,QAAQ,KAAK,YAAjB,EAA+B;AAC3B,yBAAK,mBAAL,CAAyB,YAAzB;AACH;AACJ,aAbD,MAaO;AACH,oBAAI,CAAC,YAAD,IAAiB,UAArB,EAAiC;AAC7B,yBAAK,mBAAL,CAAyB,KAAzB;AACA,wBAAI,UAAJ,EAAgB;AACZ,6BAAK,UAAL;AACH;AACJ,iBALD,MAKO;AACH,wBAAI,gBAAgB,QAAQ,CAAxB,KAA8B,CAAC,KAAK,YAAL,CAAkB,KAAlB,EAAD,IAA8B,KAAK,gBAAjE,CAAJ,EAAwF;AACpF,6BAAK,mBAAL,CAAyB,IAAzB;AACH;AACJ;AACJ;AACD,gBAAI,KAAK,aAAT,EAAwB;AACpB,qBAAK,SAAL,CAAe,MAAf;AACH,aAFD,MAEO;AACH,qBAAK,kBAAL,CAAwB,CAAxB;AACH;AACD,iBAAK,gBAAL,CAAsB,OAAtB;AACH,SAx9FiB;AAy9FlB,gBAAQ,gBAAU,MAAV,EAAkB;AACtB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,IAAjB;AACA,gBAAI,KAAK,WAAL,IAAoB,QAAO,KAAK,WAAZ,MAA4B,QAAhD,IAA4D,KAAK,WAAL,CAAiB,OAAjB,KAA6B,SAA7F,EAAwG;AACpG,uBAAO,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,KAAK,WAAL,EAAnB,EAAuC,MAAvC,CAAP;AACA,qBAAK,SAAL,GAAiB,KAAK,WAAL,CAAiB,IAAjB,IAAyB,EAA1C;AACA,qBAAK,YAAL,GAAoB,KAAK,WAAL,CAAiB,OAArC;AACA,qBAAK,YAAL,CAAkB,GAAlB,EAAuB,KAAK,SAA5B,EAAuC,KAAK,YAA5C;AACA,qBAAK,gBAAL,CAAsB,KAAK,WAAL,CAAiB,OAAvC,EAAgD,IAAhD,EAAsD,iBAAtD;AACA,qBAAK,MAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,CAAC,CAAC,KAAK,WAAd;AACH,SAr+FiB;AAs+FlB,yBAAiB,2BAAY;AACzB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,IAAI,CAArB;AAAA,gBAAwB,WAAW,EAAnC;AAAA,gBAAuC,WAAW,EAAlD;AAAA,gBAAsD,SAAS,EAA/D;AACA,iBAAK,UAAL,GAAkB,IAAlB,CAAuB,YAAY;AAC/B,oBAAI,SAAS,EAAE,IAAF,CAAb;AAAA,oBAAsB,MAAM,OAAO,IAAP,CAAY,gBAAZ,CAA5B;AAAA,oBAA2D,OAAO,KAAK,SAAL,CAAe,GAAf,CAAlE;AAAA,oBACI,MAAM,OAAO,IAAP,CAAY,IAAZ,CADV;AAAA,oBAC6B,KAD7B;AAEA,oBAAI,QAAQ,IAAR,IAAgB,QAAQ,CAAC,CAA7B,EAAgC;AAC5B;AACH;AACD,oBAAI,SAAS,SAAb,EAAwB;AACpB,6BAAS,CAAT,IAAc,IAAd;AACA,6BAAS,CAAT,IAAc,KAAK,YAAL,CAAkB,IAAlB,CAAd;AACA,2BAAO,CAAP,IAAY,KAAK,UAAL,CAAgB,IAAhB,CAAZ;AACA,2BAAO,IAAP,CAAY,EAAC,MAAM,KAAK,aAAL,GAAqB,GAArB,GAA2B,CAAlC,EAAqC,kBAAkB,CAAvD,EAAZ;AACA;AACH,iBAND,MAMO;AACH,4BAAQ,cAAc,GAAG,MAAH,EAAtB;AACA,2BAAO,IAAP,CAAY,EAAC,MAAM,KAAP,EAAc,kBAAkB,IAAhC,EAAZ;AACA,yBAAK,QAAL,CAAc,IAAd,CAAmB,WAAW,GAA9B,EAAmC,IAAnC,CAAwC,IAAxC,EAA8C,UAAU,KAAxD;AACH;AACJ,aAjBD;AAkBA,iBAAK,SAAL,GAAiB,QAAjB;AACA,iBAAK,SAAL,GAAiB,QAAjB;AACA,iBAAK,OAAL,GAAe,MAAf;AACH,SA7/FiB;AA8/FlB,+BAAuB,+BAAU,GAAV,EAAe;AAClC,gBAAI,OAAO,IAAX;AACA,kBAAM,OAAO,CAAb;AACA,gBAAI,KAAK,QAAL,IAAiB,CAAC,KAAK,aAAL,EAAtB,EAA4C;AACxC,qBAAK,eAAL,CAAqB,IAArB,CAA0B,EAA1B;AACA,qBAAK,gBAAL,CAAsB,KAAK,eAA3B;AACA,uBAAO,KAAP;AACH;AACD,gBAAI,KAAK,YAAL,GAAoB,CAApB,IAAyB,KAAK,aAAL,CAAmB,GAAnB,IAA0B,KAAK,YAA5D,EAA0E;AACtE,qBAAK,aAAL,CAAmB,EAAnB;AACA,uBAAO,KAAP;AACH;AACD,mBAAO,IAAP;AACH,SA3gGiB;AA4gGlB,oBAAY,sBAAY;AACpB,gBAAI,OAAO,IAAX;AACA,iBAAK,SAAL,GAAiB,EAAjB;AACA,iBAAK,SAAL,GAAiB,EAAjB;AACA,iBAAK,OAAL,GAAe,EAAf;AACA,mBAAO,KAAK,QAAZ;AACH,SAlhGiB;AAmhGlB,qBAAa,qBAAU,CAAV,EAAa,IAAb,EAAmB;AAC5B,gBAAI,OAAO,IAAX;AACA,iBAAK,SAAL,CAAe,CAAf,IAAoB,IAApB;AACA,iBAAK,SAAL,CAAe,CAAf,IAAoB,KAAK,YAAL,CAAkB,IAAlB,CAApB;AACA,iBAAK,OAAL,CAAa,CAAb,IAAkB,QAAQ,KAAK,UAAL,CAAgB,IAAhB,CAAR,IAAiC,IAAnD;AACA,mBAAO,KAAK,QAAZ;AACH,SAzhGiB;AA0hGlB,oBAAY,oBAAU,IAAV,EAAgB;AACxB,gBAAI,OAAO,IAAX;AACA,iBAAK,SAAL,CAAe,IAAf,CAAoB,IAApB;AACA,iBAAK,SAAL,CAAe,IAAf,CAAoB,KAAK,YAAL,CAAkB,IAAlB,CAApB;AACA,iBAAK,OAAL,CAAa,IAAb,CAAkB,KAAK,UAAL,CAAgB,IAAhB,CAAlB;AACA,mBAAO,KAAK,QAAZ;AACH,SAhiGiB;AAiiGlB,sBAAc,sBAAU,QAAV,EAAoB;AAC9B,gBAAI,OAAO,IAAX;AACA,mBAAO,KAAK,SAAL,CAAe,MAAf,CAAsB,UAAU,CAAV,EAAa;AACtC,uBAAQ,WAAW,MAAM,SAAjB,GAA6B,MAAM,SAAN,IAAmB,MAAM,IAA9D;AACH,aAFM,CAAP;AAGH,SAtiGiB;AAuiGlB,uBAAe,yBAAY;AACvB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,YAAL,GAAoB,KAAK,YAAL,GAAoB,MAAxC,GAAiD,KAAK,QAAL,CAAc,GAAd,CAAkB,CAAlB,EAAqB,KAArB,CAA2B,MAAnG;AACA,mBAAO,KAAK,aAAL,CAAmB,GAAnB,CAAP;AACH,SA1iGiB;AA2iGlB,mBAAW,mBAAU,KAAV,EAAiB;AACxB,iBAAK,MAAL,GAAc,IAAI,UAAJ,EAAd;AACA,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AAAA,gBAAsC,WAAW,KAAK,QAAtD;AAAA,gBAAgE,SAAS,KAAK,MAA9E;AAAA,gBACI,aAAa,KAAK,iBADtB;AAAA,gBACyC,UAAU,KAAK,cADxD;AAAA,gBACwE,aAAa,KAAK,UAD1F;AAAA,gBAEI,cAAc,KAAK,WAFvB;AAAA,gBAEoC,gBAAgB,KAAK,aAFzD;AAAA,gBAEwE,WAAW,MAAM,MAFzF;AAAA,gBAGI,WAAW,KAAK,gBAHpB;AAAA,gBAGsC,MAAM,KAAK,SAAL,CAAe,MAH3D;AAAA,gBAGmE,SAHnE;AAAA,gBAII,YAAY,KAAK,gBAJrB;AAAA,gBAIuC,SAAS,YAAY,UAAU,MAAtB,GAA+B,CAJ/E;AAAA,gBAKI,UAAU,KAAK,qBALnB;AAAA,gBAK0C,SAAS,GAAG,OAAH,CAAW,OAAX,IAAsB,EAAtB,GAA2B,QAAQ,IAAR,CAAa,IAAb,CAL9E;AAAA,gBAMI,iBAAiB,KAAK,kBAAL,IAA2B,WAAW,KAAK,kBAAhB,CANhD;AAAA,gBAOI,aAAa,SAAS,MAAT,KAAoB,CAAC,cAAD,IAAmB,MAAM,cAAN,CAAvC,CAPjB;AAAA,gBAQI,aAAa,SAAb,UAAa,CAAU,GAAV,EAAe,IAAf,EAAqB,SAArB,EAAgC,KAAhC,EAAuC;AAChD,oBAAI,KAAK,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,KAAK,WAAL,CAAiB,EAAjB,EAAqB,EAArB,EAAyB,KAAzB,CAAnB,EAAoD,EAAC,IAAI,SAAL,EAAgB,OAAO,KAAvB,EAApD,CAAT;AAAA,oBACI,KAAK,EAAC,IAAI,SAAL,EAAgB,OAAO,KAAvB,EAA8B,MAAM,IAApC,EAA0C,OAAO,KAAjD,EADT;AAAA,oBACkE,MADlE;AAEA,qBAAK,eAAL,CAAqB,IAArB,EAA2B,SAA3B,EAAsC,IAAtC;AACA,oBAAI,KAAK,YAAT,EAAuB;AACnB,yBAAK,UAAL,CAAgB,SAAhB;AACA,+BAAW,YAAY;AACnB,kCAAS,QAAQ,CAAjB;AACH,qBAFD,EAEG,GAFH;AAGH,iBALD,MAKO;AACH,+BAAW,CAAX;AACH;AACD,qBAAK,gBAAL;AACA,yBAAS,EAAE,MAAM,SAAR,CAAT;AACA,uBAAO,IAAP,CAAY,iBAAZ,EAA+B,IAA/B;AACA,oBAAI,KAAK,wBAAT,EAAmC;AAC/B,2BAAO,MAAP;AACH;AACD,qBAAK,OAAL,GAAe,KAAK,YAAL,GAAoB,KAAK,gBAAL,CAAsB,GAAtB,EAA2B,EAA3B,CAApB,GAAqD,KAAK,UAAL,CAAgB,GAAhB,EAAqB,EAArB,CAApE;AACA,qBAAK,kBAAL,CAAwB,QAAxB;AACH,aA5BL;;AA8BA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,gBAAL,GAAwB,CAAxB;;AAEA,cAAE,IAAF,CAAO,KAAP,EAAc,UAAU,GAAV,EAAe,IAAf,EAAqB;AAC/B,oBAAI,OAAO,KAAK,gBAAL,CAAsB,KAAjC;AACA,oBAAI,QAAQ,KAAK,KAAK,IAAV,CAAZ,EAA6B;AACzB,yBAAK,gBAAL;AACH;AACJ,aALD;AAMA,wBAAW,kBAAU,CAAV,EAAa;AACpB,oBAAI,GAAG,OAAH,CAAW,IAAI,IAAJ,CAAS,UAAT,CAAX,CAAJ,EAAsC;AAClC,+BAAW,CAAX;AACH;AACD,oBAAI,KAAK,QAAT,EAAmB;AACf,wBAAI,KAAK,YAAL,IAAqB,KAAK,SAAL,CAAe,MAAf,GAAwB,CAAjD,EAAoD;AAChD,6BAAK,MAAL,CAAY,mBAAZ,EAAiC,CAAC,KAAK,YAAL,EAAD,CAAjC;AACH,qBAFD,MAEO;AACH,6BAAK,MAAL,CAAY,mBAAZ,EAAiC,CAAC,KAAD,CAAjC;AACH;AACD,+BAAW,WAAX,CAAuB,oBAAvB;AACA,4BAAQ,IAAR,CAAa,EAAb;AACA;AACH;AACD,oBAAI,OAAO,MAAM,CAAjB;AAAA,oBAAoB,YAAY,gBAAgB,GAAhB,GAAsB,IAAtD;AAAA,oBAA4D,OAAO,MAAM,CAAN,CAAnE;AAAA,oBAA6E,OAA7E;AAAA,oBAAsF,CAAtF;AAAA,oBAAyF,GAAzF;AAAA,oBACI,SAAS,SAAS,IADtB;AAAA,oBAC4B,UAAU,SAAS,KAD/C;AAAA,oBACsD,SAAS,SAAS,IADxE;AAAA,oBAC8E,GAD9E;AAAA,oBACmF,GADnF;AAAA,oBACwF,IADxF;AAAA,oBAC8F,IAD9F;AAAA,oBAEI,UAAU,KAAK,IAAL,GAAY,KAAK,IAAL,CAAU,KAAK,IAAf,CAAZ,GAAmC,EAFjD;AAAA,oBAEqD,WAAW,CAAC,KAAK,IAAL,IAAa,CAAd,IAAmB,IAFnF;AAAA,oBAGI,cAAc,EAHlB;AAAA,oBAGsB,cAAc,GAAG,MAAH,CAAU,eAAV,CAA0B,IAA1B,CAHpC;AAAA,oBAGqE,YAAY,CAHjF;AAAA,oBAGoF,WAAW,EAH/F;AAAA,oBAII,IAJJ;AAAA,oBAIU,aAAa,CAJvB;AAAA,oBAI0B,MAJ1B;AAAA,oBAIkC,MAJlC;AAAA,oBAI0C,OAJ1C;AAAA,oBAImD,OAJnD;AAAA,oBAI4D,oBAAoB,SAApB,iBAAoB,GAAY;AACpF,wBAAI,MAAM,YAAY,SAAZ,CAAsB;AAC5B,iCAAS,IAAI,CADe;AAE5B,iCAAS,QAFmB;AAG5B,mCAAW,EAHiB;AAI5B,gCAAQ;AAJoB,qBAAtB,CAAV;AAMA,+BAAW,YAAY;AACnB,gCAAQ,IAAR,CAAa,GAAb;AACA,6BAAK,kBAAL,CAAwB,QAAxB;AACA,kCAAS,IAAI,CAAb;AACH,qBAJD,EAIG,GAJH;AAKA,yBAAK,MAAL,CAAY,YAAZ,EAA0B,CAAC,IAAD,EAAO,SAAP,EAAkB,CAAlB,EAAqB,MAArB,CAA1B;AACH,iBAjBL;AAkBA,oBAAI,SAAS,CAAb,EAAgB;AACZ,yBAAK,IAAI,CAAT,EAAY,IAAI,MAAhB,EAAwB,GAAxB,EAA6B;AACzB,+BAAO,UAAU,CAAV,CAAP;AACA,+BAAO,KAAK,YAAL,CAAkB,IAAlB,KAA2B,IAAlC;AACA,oCAAY,MAAM,CAAN,GAAU,IAAV,GAAiB,OAAO,IAApC;AACH;AACJ;AACD,oBAAI,YAAY,KAAhB,EAAuB;AACnB,8BAAS,IAAI,CAAb;AACA;AACH;AACD,oBAAI,QAAQ,MAAR,KAAmB,CAAvB,EAA0B;AACtB,0BAAM,KAAK,kBAAL,CAAwB,OAAxB,CAAgC,QAAhC,EAA0C,GAAG,UAAH,CAAc,KAAK,IAAnB,CAA1C,CAAN;AACA,+BAAW,GAAX,EAAgB,IAAhB,EAAsB,SAAtB,EAAiC,CAAjC;AACA;AACH;AACD,oBAAI,CAAC,GAAG,OAAH,CAAW,OAAX,CAAL,EAA0B;AACtB,kCAAc,IAAI,MAAJ,CAAW,SAAS,QAAQ,IAAR,CAAa,GAAb,CAAT,GAA6B,IAAxC,EAA8C,GAA9C,CAAd;AACH;AACD,0BAAU,SAAS,OAAT,CAAiB,CAAjB,CAAV;AACA,oBAAI,KAAK,WAAL,GAAmB,CAAnB,IAAwB,WAAW,KAAK,WAA5C,EAAyD;AACrD,0BAAM,KAAK,eAAL,CAAqB,SAArB,CAA+B;AACjC,gCAAQ,OADyB;AAEjC,gCAAQ,OAFyB;AAGjC,mCAAW,KAAK;AAHiB,qBAA/B,CAAN;AAKA,+BAAW,GAAX,EAAgB,IAAhB,EAAsB,SAAtB,EAAiC,CAAjC;AACA;AACH;AACD,oBAAI,KAAK,WAAL,KAAqB,IAArB,IAA6B,YAAY,GAAG,MAAH,CAAU,KAAK,WAAf,CAA7C,EAA0E;AACtE,0BAAM,KAAK,eAAL,CAAqB,SAArB,CAA+B;AACjC,gCAAQ,OADyB;AAEjC,gCAAQ,OAFyB;AAGjC,mCAAW,KAAK;AAHiB,qBAA/B,CAAN;AAKA,+BAAW,GAAX,EAAgB,IAAhB,EAAsB,SAAtB,EAAiC,CAAjC;AACA;AACH;AACD,oBAAI,CAAC,GAAG,OAAH,CAAW,SAAX,CAAD,IAA0B,GAAG,OAAH,CAAW,SAAX,CAA9B,EAAqD;AACjD,yBAAK,IAAI,CAAT,EAAY,IAAI,UAAU,MAA1B,EAAkC,KAAK,CAAvC,EAA0C;AACtC,8BAAM,UAAU,CAAV,CAAN;AACA,+BAAO,SAAS,GAAT,CAAP;AACA,qCAAa,CAAC,IAAD,IAAU,OAAO,IAAP,KAAgB,UAA1B,GAAwC,CAAxC,GAA6C,KAAK,KAAK,IAAV,EAAgB,KAAK,IAArB,IAA6B,CAA7B,GAAiC,CAA3F;AACH;AACD,wBAAI,cAAc,CAAlB,EAAqB;AACjB,8BAAM,KAAK,kBAAL,CAAwB,SAAxB,CAAkC,EAAC,QAAQ,OAAT,EAAkB,SAAS,QAA3B,EAAlC,CAAN;AACA,mCAAW,GAAX,EAAgB,IAAhB,EAAsB,SAAtB,EAAiC,CAAjC;AACA;AACH;AACJ;AACD,oBAAI,cAAc,CAAd,IAAmB,CAAC,GAAG,OAAH,CAAW,OAAX,CAApB,IAA2C,GAAG,OAAH,CAAW,OAAX,CAA3C,IAAkE,CAAC,GAAG,OAAH,CAAW,WAAX,CAAvE,EAAgG;AAC5F,0BAAM,GAAG,OAAH,CAAW,OAAX,EAAoB,WAApB,CAAN;AACA,iCAAa,GAAG,OAAH,CAAW,GAAX,IAAkB,CAAlB,GAAsB,IAAI,MAAvC;AACA,wBAAI,cAAc,CAAlB,EAAqB;AACjB,8BAAM,KAAK,uBAAL,CAA6B,SAA7B,CAAuC,EAAC,QAAQ,OAAT,EAAkB,cAAc,MAAhC,EAAvC,CAAN;AACA,mCAAW,GAAX,EAAgB,IAAhB,EAAsB,SAAtB,EAAiC,CAAjC;AACA;AACH;AACJ;AACD,oBAAI,CAAC,KAAK,WAAV,EAAuB;AACnB,wBAAI,KAAK,YAAT,EAAuB;AACnB,6BAAK,UAAL,CAAgB,IAAhB;AACH;AACD,+BAAW,YAAY;AACnB,kCAAS,IAAI,CAAb;AACA,6BAAK,kBAAL,CAAwB,QAAxB;AACH,qBAHD,EAGG,GAHH;AAIA,yBAAK,MAAL,CAAY,YAAZ,EAA0B,CAAC,IAAD,EAAO,SAAP,EAAkB,CAAlB,EAAqB,MAArB,CAA1B;AACA;AACH;AACD,oBAAI,CAAC,UAAD,IAAe,WAAW,cAA9B,EAA8C;AAC1C,yBAAK,UAAL,CAAgB,IAAhB;AACA,+BAAW,QAAX,CAAoB,oBAApB;AACA,yBAAK,eAAL,CAAqB,IAArB,EAA2B,SAA3B;AACA,yBAAK,gBAAL;AACA,yBAAK,kBAAL,CAAwB,QAAxB;AACA,8BAAS,IAAI,CAAb;AACA;AACH;AACD,oBAAI,SAAS,MAAT,IAAmB,eAAe,SAAtC,EAAiD;AAC7C,6BAAS,OAAO,KAAK,IAAZ,EAAkB,OAAlB,CAAT;AACA,6BAAS,OAAO,KAAK,IAAZ,EAAkB,OAAlB,CAAT;AACA,8BAAU,QAAQ,KAAK,IAAb,EAAmB,OAAnB,CAAV;AACA,4BAAQ,IAAR,CAAa,WAAW,OAAX,CAAmB,SAAnB,EAA8B,IAAI,CAAlC,EAAqC,OAArC,CAA6C,SAA7C,EAAwD,QAAxD,CAAb;AACA,+BAAW,QAAX,CAAoB,oBAApB;AACA,2BAAO,OAAP,GAAiB,UAAU,GAAV,EAAe;AAC5B,6BAAK,aAAL,CAAmB,GAAnB,EAAwB,OAAxB;AACH,qBAFD;AAGA,2BAAO,MAAP,GAAgB,UAAU,OAAV,EAAmB;AAC/B,4BAAI,GAAJ;AAAA,4BAAS,QAAT;AAAA,4BAAmB,IAAnB;AAAA,4BAAyB,IAAzB;AAAA,4BAA+B,QAAQ,EAAvC;AAAA,4BAA2C,QAA3C;AAAA,4BAAqD,IAArD;AAAA,4BAA2D,gBAAgB,SAAhB,aAAgB,CAAU,QAAV,EAAoB;AAC3F,gCAAI,YAAY,IAAI,UAAJ,EAAhB;AACA,sCAAU,OAAV,GAAoB,UAAU,UAAV,EAAsB;AACtC,qCAAK,aAAL,CAAmB,UAAnB,EAA+B,OAA/B;AACH,6BAFD;AAGA,sCAAU,MAAV,GAAmB,UAAU,UAAV,EAAsB;AACrC,qCAAK,YAAL,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,UAA3B,EAAuC,SAAvC,EAAkD,WAAlD,EAA+D,QAA/D;AACA,qCAAK,gBAAL;AACA;AACH,6BAJD;AAKA,gCAAI,QAAJ,EAAc;AACV,0CAAU,UAAV,CAAqB,IAArB,EAA2B,KAAK,YAAhC;AACH,6BAFD,MAEO;AACH,0CAAU,aAAV,CAAwB,IAAxB;AACH;AACJ,yBAfD;AAgBA,mCAAW,EAAC,QAAQ,OAAT,EAAkB,QAAQ,KAAK,IAA/B,EAAX;AACA,0BAAE,IAAF,CAAO,QAAP,EAAiB,UAAU,GAAV,EAAe,IAAf,EAAqB;AAClC,gCAAI,QAAQ,QAAR,IAAoB,QAAQ,OAA5B,IAAuC,KAAK,KAAK,IAAV,EAAgB,OAAhB,CAA3C,EAAqE;AACjE;AACH;AACJ,yBAJD;AAKA,4BAAI,eAAe,CAAnB,EAAsB;AAAC;AACnB,mCAAO,IAAI,UAAJ,CAAe,QAAQ,MAAR,CAAe,MAA9B,CAAP;AACA,iCAAK,IAAI,CAAT,EAAY,IAAI,KAAK,MAArB,EAA6B,GAA7B,EAAkC;AAC9B,uCAAO,KAAK,CAAL,EAAQ,QAAR,CAAiB,EAAjB,CAAP;AACA,sCAAM,IAAN,CAAW,IAAX;AACH;AACD,kCAAM,MAAM,IAAN,CAAW,EAAX,EAAe,WAAf,GAA6B,SAA7B,CAAuC,CAAvC,EAA0C,CAA1C,CAAN;AACA,mCAAO,GAAG,WAAH,CAAe,GAAf,EAAoB,EAApB,EAAwB,EAAxB,CAAP;AACA,gCAAI,GAAG,OAAH,CAAW,IAAX,CAAJ,EAAsB;AAAE;AACpB,2CAAW,GAAG,kBAAH,CAAsB,OAAO,MAA7B,CAAX;AACA,uCAAO,GAAG,KAAH,CAAS,QAAT,IAAqB,eAArB,GAAuC,GAAG,WAAH,CAAe,GAAf,EAAoB,QAApB,EAA8B,KAAK,IAAnC,CAA9C;AACH;AACD,uCAAW,EAAC,QAAQ,OAAT,EAAkB,QAAQ,IAA1B,EAAX;AACA,qCAAS,OAAO,IAAP,EAAa,EAAb,CAAT;AACA,qCAAS,OAAO,IAAP,EAAa,EAAb,CAAT;AACA,sCAAU,QAAQ,IAAR,EAAc,EAAd,CAAV;AACA,sCAAU,UAAU,MAApB;AACA,gCAAI,WAAW,OAAf,EAAwB;AACpB,8CAAc,OAAd;AACA;AACH;AACJ;AACD,6BAAK,YAAL,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,OAA3B,EAAoC,SAApC,EAA+C,WAA/C,EAA4D,QAA5D;AACA,6BAAK,gBAAL;AACA;AACH,qBAhDD;AAiDA,2BAAO,UAAP,GAAoB,UAAU,IAAV,EAAgB;AAChC,4BAAI,KAAK,gBAAT,EAA2B;AACvB,gCAAI,OAAQ,KAAK,MAAL,GAAc,KAAK,KAApB,GAA6B,GAAxC;AAAA,gCAA6C,WAAW,KAAK,IAAL,CAAU,IAAV,CAAxD;AACA,kCAAM,YAAY,SAAZ,CAAsB;AACxB,yCAAS,IAAI,CADW;AAExB,yCAAS,QAFe;AAGxB,2CAAW,QAHa;AAIxB,wCAAQ;AAJgB,6BAAtB,CAAN;AAMA,uCAAW,YAAY;AACnB,wCAAQ,IAAR,CAAa,GAAb;AACH,6BAFD,EAEG,GAFH;AAGH;AACJ,qBAbD;;AAeA,wBAAI,UAAU,MAAd,EAAsB;AAClB,+BAAO,UAAP,CAAkB,IAAlB,EAAwB,KAAK,YAA7B;AACH,qBAFD,MAEO;AACH,4BAAI,OAAJ,EAAa;AACT,mCAAO,aAAP,CAAqB,IAArB;AACH,yBAFD,MAEO;AACH,mCAAO,iBAAP,CAAyB,IAAzB;AACH;AACJ;AACJ,iBAlFD,MAkFO;AACH,yBAAK,eAAL,CAAqB,IAArB,EAA2B,SAA3B;AACA,+BAAW,YAAY;AACnB,kCAAS,IAAI,CAAb;AACA,6BAAK,kBAAL,CAAwB,QAAxB;AACH,qBAHD,EAGG,GAHH;AAIA,yBAAK,MAAL,CAAY,YAAZ,EAA0B,CAAC,IAAD,EAAO,SAAP,EAAkB,CAAlB,EAAqB,MAArB,CAA1B;AACH;AACD,qBAAK,UAAL,CAAgB,IAAhB;AACH,aA1MD;;AA4MA,sBAAS,CAAT;AACA,iBAAK,kBAAL,CAAwB,QAAxB,EAAkC,KAAlC;AACH,SAlyGiB;AAmyGlB,cAAM,gBAAY;AACd,gBAAI,OAAO,IAAX;AACA,iBAAK,YAAL;AACA,iBAAK,OAAL;AACA,gBAAI,KAAK,UAAT,EAAqB;AACjB,qBAAK,UAAL,CAAgB,IAAhB,CAAqB,mBAArB,EAA0C,IAA1C;AACH;AACD,gBAAI,KAAK,UAAT,EAAqB;AACjB,qBAAK,UAAL,CAAgB,IAAhB,CAAqB,mBAArB,EAA0C,IAA1C;AACH;AACD,iBAAK,MAAL,CAAY,UAAZ,EAAwB,CAAC,KAAK,SAAN,EAAiB,KAAK,aAAL,EAAjB,CAAxB;AACA,mBAAO,KAAK,QAAZ;AACH,SA/yGiB;AAgzGlB,gBAAQ,gBAAU,KAAV,EAAiB;AACrB,gBAAI,OAAO,IAAX;AACA,gBAAI,UAAU,SAAd,EAAyB;AACrB,wBAAQ,IAAR;AACH;AACD,iBAAK,MAAL;AACA,gBAAI,KAAK,UAAT,EAAqB;AACjB,qBAAK,UAAL,CAAgB,IAAhB,CAAqB,mBAArB,EAA0C,IAA1C;AACH;AACD,gBAAI,KAAK,UAAT,EAAqB;AACjB,qBAAK,UAAL,CAAgB,IAAhB,CAAqB,mBAArB,EAA0C,IAA1C;AACH;AACD,gBAAI,KAAJ,EAAW;AACP,qBAAK,eAAL;AACH;AACD,iBAAK,MAAL,CAAY,YAAZ,EAA0B,CAAC,KAAK,SAAN,EAAiB,KAAK,aAAL,EAAjB,CAA1B;AACA,mBAAO,KAAK,QAAZ;AACH,SAj0GiB;AAk0GlB,gBAAQ,kBAAY;AAChB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,YAA5B;AAAA,gBAA0C,MAAM,IAAI,MAApD;AAAA,gBAA4D,CAA5D;AACA,gBAAI,MAAM,CAAV,EAAa;AACT,qBAAK,IAAI,CAAT,EAAY,IAAI,GAAhB,EAAqB,KAAK,CAA1B,EAA6B;AACzB,yBAAK,UAAL,GAAkB,IAAlB;AACA,wBAAI,CAAJ,EAAO,KAAP;AACH;AACJ;AACD,iBAAK,qBAAL;AACA,iBAAK,UAAL,GAAkB,IAAlB,CAAuB,YAAY;AAC/B,oBAAI,SAAS,EAAE,IAAF,CAAb;AAAA,oBAAsB,MAAM,OAAO,IAAP,CAAY,gBAAZ,CAA5B;AACA,uBAAO,WAAP,CAAmB,gBAAnB;AACA,oBAAI,KAAK,SAAL,CAAe,GAAf,MAAwB,SAA5B,EAAuC;AACnC,2BAAO,IAAP,CAAY,iBAAZ,EAA+B,WAA/B,CAA2C,UAA3C,EAAuD,UAAvD,CAAkE,UAAlE;AACA,2BAAO,IAAP,CAAY,iBAAZ,EAA+B,WAA/B,CAA2C,UAA3C,EAAuD,UAAvD,CAAkE,UAAlE;AACH;AACD,qBAAK,MAAL;AACH,aARD;AASA,mBAAO,KAAK,QAAZ;AACH,SAr1GiB;AAs1GlB,eAAO,iBAAY;AACf,gBAAI,OAAO,IAAX;AAAA,gBAAiB,GAAjB;AACA,gBAAI,CAAC,KAAK,MAAL,CAAY,WAAZ,CAAL,EAA+B;AAC3B;AACH;AACD,iBAAK,UAAL,CAAgB,UAAhB,CAA2B,UAA3B;AACA,iBAAK,UAAL,GAAkB,IAAlB,CAAuB,iBAAvB,EAA0C,IAA1C,CAA+C,YAAY;AACvD,mBAAG,WAAH,CAAe,EAAE,IAAF,CAAf;AACH,aAFD;AAGA,iBAAK,YAAL;AACA,iBAAK,UAAL;AACA,iBAAK,eAAL;AACA,iBAAK,YAAL,CAAkB,IAAlB;AACA,gBAAI,KAAK,kBAAL,EAAJ,EAA+B;AAC3B,qBAAK,aAAL;AACA,qBAAK,aAAL;AACA,qBAAK,mBAAL;AACA,qBAAK,UAAL,CAAgB,WAAhB,CAA4B,gBAA5B;AACH,aALD,MAKO;AACH,qBAAK,UAAL,GAAkB,IAAlB,CAAuB,YAAY;AAC/B,yBAAK,aAAL,CAAmB,EAAE,IAAF,CAAnB;AACH,iBAFD;AAGA,oBAAI,KAAK,YAAT,EAAuB;AACnB,yBAAK,YAAL,CAAkB,IAAlB,GAAyB,EAAzB;AACH;AACD,qBAAK,QAAL,CAAc,IAAd,CAAmB,EAAnB;AACA,sBAAO,CAAC,KAAK,gBAAN,IAA0B,KAAK,cAAL,CAAoB,MAApB,GAA6B,CAAxD,GAA6D,KAAK,cAAlE,GAAmF,EAAzF;AACA,qBAAK,QAAL,CAAc,IAAd,CAAmB,OAAnB,EAA4B,EAA5B,EAAgC,GAAhC,CAAoC,GAApC;AACA,mBAAG,MAAH,CAAU,KAAK,UAAf,EAA2B,gBAA3B;AACA,qBAAK,uBAAL;AACH;AACD,gBAAI,KAAK,UAAL,CAAgB,IAAhB,CAAqB,GAAG,MAAxB,EAAgC,MAAhC,KAA2C,CAA/C,EAAkD;AAC9C,oBAAI,CAAC,KAAK,YAAL,EAAL,EAA0B;AACtB,yBAAK,iBAAL,CAAuB,WAAvB,CAAmC,cAAnC;AACH;AACJ;AACD,iBAAK,aAAL;AACA,iBAAK,MAAL,CAAY,aAAZ;AACA,iBAAK,iBAAL,CAAuB,KAAvB;AACA,iBAAK,qBAAL;AACA,mBAAO,KAAK,QAAZ;AACH,SA/3GiB;AAg4GlB,eAAO,iBAAY;AACf,gBAAI,OAAO,IAAX;AACA,gBAAI,CAAC,KAAK,MAAL,CAAY,WAAZ,CAAL,EAA+B;AAC3B;AACH;AACD,iBAAK,aAAL;AACA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,qBAArB,EAA4C,IAA5C,CAAiD,EAAjD;AACA,eAAG,MAAH,CAAU,KAAK,UAAf,EAA2B,gBAA3B;AACA,gBAAI,KAAK,SAAL,GAAiB,MAAjB,IAA2B,KAAK,YAAL,IAAqB,KAAK,eAAzD,EAA0E;AACtE,qBAAK,UAAL,CAAgB,WAAhB,CAA4B,gBAA5B;AACH;AACD,iBAAK,UAAL;AACA,iBAAK,QAAL,GAAgB,EAAhB;AACA,iBAAK,qBAAL;AACA,mBAAO,KAAK,QAAZ;AACH,SA/4GiB;AAg5GlB,iBAAS,mBAAY;AACjB,gBAAI,OAAO,IAAX;AACA,iBAAK,UAAL,GAAkB,IAAlB;AACA,iBAAK,MAAL,CAAY,cAAZ;AACA,iBAAK,QAAL,CAAc,IAAd,CAAmB,UAAnB,EAA+B,UAA/B;AACA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,uBAArB,EAA8C,QAA9C,CAAuD,uBAAvD;AACA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,kEAArB,EACK,IADL,CACU,UADV,EACsB,IADtB;AAEA,eAAG,MAAH,CAAU,KAAK,UAAL,CAAgB,IAAhB,CAAqB,WAArB,CAAV,EAA6C,UAA7C;AACA,iBAAK,aAAL;AACA,mBAAO,KAAK,QAAZ;AACH,SA35GiB;AA45GlB,gBAAQ,kBAAY;AAChB,gBAAI,OAAO,IAAX;AACA,iBAAK,UAAL,GAAkB,KAAlB;AACA,iBAAK,MAAL,CAAY,aAAZ;AACA,iBAAK,QAAL,CAAc,UAAd,CAAyB,UAAzB;AACA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,uBAArB,EAA8C,WAA9C,CAA0D,uBAA1D;AACA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,kEAArB,EACK,UADL,CACgB,UADhB;AAEA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,WAArB,EAAkC,WAAlC,CAA8C,UAA9C;AACA,iBAAK,aAAL;AACA,mBAAO,KAAK,QAAZ;AACH,SAv6GiB;AAw6GlB,gBAAQ,kBAAY;AAChB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,YAAL,GAAoB,MAA9C;AAAA,gBAAsD,CAAtD;AAAA,gBAAyD,OAAzD;AAAA,gBAAkE,GAAlE;AAAA,gBACI,eAAe,CAAC,EAAE,aAAF,CAAgB,KAAK,aAAL,EAAhB,CADpB;AAEA,gBAAI,CAAC,KAAK,YAAN,IAAsB,KAAK,UAA3B,IAAyC,CAAC,KAAK,qBAAL,CAA2B,MAA3B,CAA9C,EAAkF;AAC9E;AACH;AACD,iBAAK,YAAL;AACA,gBAAI,WAAW,CAAX,IAAgB,CAAC,YAArB,EAAmC;AAC/B,qBAAK,gBAAL,CAAsB,KAAK,cAA3B;AACA;AACH;AACD,iBAAK,SAAL,CAAe,IAAf;AACA,iBAAK,WAAL,GAAmB,CAAnB;AACA,iBAAK,YAAL,GAAoB,EAApB;AACA,iBAAK,SAAL,GAAiB,EAAjB;AACA,iBAAK,IAAL;AACA,iBAAK,YAAL,CAAkB,CAAlB;AACA,gBAAI,WAAW,CAAX,IAAgB,YAApB,EAAkC;AAC9B,qBAAK,gBAAL;AACA;AACH;AACD,kBAAM,KAAK,SAAL,CAAe,MAArB;AACA,iBAAK,WAAL,GAAmB,KAAnB;AACA,gBAAI,KAAK,WAAT,EAAsB;AAClB,0BAAU,KAAK,WAAL,EAAV;AACA,qBAAK,MAAL,CAAY,oBAAZ,EAAkC,CAAC,OAAD,CAAlC;AACA,qBAAK,kBAAL,GAA0B,KAA1B;AACA,qBAAK,WAAL,GAAmB,EAAC,SAAS,EAAV,EAAc,QAAQ,EAAtB,EAA0B,MAAM,EAAhC,EAAoC,QAAQ,IAA5C,EAAnB;AACA,qBAAK,gBAAL,GAAwB,KAAK,YAAL,GAAoB,MAA5C;AACA,qBAAK,IAAI,CAAT,EAAY,IAAI,GAAhB,EAAqB,GAArB,EAA0B;AACtB,yBAAK,WAAL,CAAiB,OAAjB,CAAyB,CAAzB,IAA8B,IAA9B;AACA,yBAAK,WAAL,CAAiB,MAAjB,CAAwB,CAAxB,IAA6B,IAA7B;AACA,yBAAK,WAAL,CAAiB,IAAjB,CAAsB,CAAtB,IAA2B,IAA3B;AACH;AACD,qBAAK,QAAL,CAAc,IAAd,CAAmB,uBAAnB,EAA4C,WAA5C,CAAwD,GAAG,QAA3D;AACA,qBAAK,aAAL;AACA,qBAAK,mBAAL,GAA2B,KAAK,UAAL,EAA3B;;AAEA,qBAAK,IAAI,CAAT,EAAY,IAAI,GAAhB,EAAqB,GAArB,EAA0B;AACtB,wBAAI,KAAK,SAAL,CAAe,CAAf,CAAJ,EAAuB;AACnB,6BAAK,aAAL,CAAmB,CAAnB,EAAsB,IAAtB;AACH;AACJ;AACD;AACH;AACD,iBAAK,YAAL;AACA,mBAAO,KAAK,QAAZ;AACH,SAv9GiB;AAw9GlB,iBAAS,mBAAY;AACjB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,QAAQ,KAAK,KAA9B;AAAA,gBAAqC,QAAQ,KAAK,UAAlD;AAAA,gBAA8D,MAAM,KAAK,QAAzE;AAAA,gBAAmF,KAAK,KAAK,SAA7F;AACA,cAAE,QAAF,EAAY,GAAZ,CAAgB,EAAhB;AACA,cAAE,MAAF,EAAU,GAAV,CAAc,EAAd;AACA,gBAAI,SAAS,MAAM,MAAnB,EAA2B;AACvB,sBAAM,GAAN,CAAU,EAAV;AACH;AACD,gBAAI,KAAK,YAAT,EAAuB;AACnB,qBAAK,eAAL;AACH;AACD,iBAAK,QAAL;AACA,iBAAK,iBAAL;AACA,gBAAI,YAAJ,CAAiB,KAAjB,EAAwB,GAAxB,CAA4B,EAA5B,EAAgC,UAAhC;AACA,kBAAM,GAAN,GAAY,MAAZ;AACA,mBAAO,GAAP;AACH,SAv+GiB;AAw+GlB,iBAAS,iBAAU,OAAV,EAAmB,aAAnB,EAAkC;AACvC,gBAAI,OAAO,IAAX;AAAA,gBAAiB,MAAM,KAAK,QAA5B;AACA,gBAAI,QAAO,OAAP,yCAAO,OAAP,OAAmB,QAAnB,IAA+B,GAAG,OAAH,CAAW,OAAX,CAAnC,EAAwD;AACpD,0BAAU,KAAK,OAAf;AACH,aAFD,MAEO;AACH,0BAAU,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,KAAK,OAAxB,EAAiC,OAAjC,CAAV;AACH;AACD,iBAAK,KAAL,CAAW,OAAX,EAAoB,IAApB;AACA,iBAAK,OAAL;AACA,gBAAI,aAAJ,EAAmB;AACf,oBAAI,OAAJ,CAAY,WAAW,KAAK,SAA5B;AACH;AACD,mBAAO,GAAP;AACH,SAr/GiB;AAs/GlB,cAAM,cAAU,OAAV,EAAmB;AACrB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,SAAL,CAAe,OAAf,CAA1B;AAAA,gBAAmD,SAAS,KAAK,MAAjE;AACA,gBAAI,CAAC,MAAL,EAAa;AACT;AACH;AACD,eAAG,SAAH,CAAa,MAAb;AACA,mBAAO,IAAP,CAAY,KAAK,gBAAL,EAAZ;AACA,iBAAK,eAAL,CAAqB,MAArB;AACA,mBAAO,KAAP,CAAa,MAAb;AACA,iBAAK,gBAAL;AACH,SAhgHiB;AAigHlB,iBAAS,iBAAU,OAAV,EAAmB;AACxB,gBAAI,OAAO,IAAX;AAAA,gBAAiB,SAAS,KAAK,SAAL,CAAe,OAAf,CAA1B;AACA,mBAAO,UAAU,OAAO,IAAP,CAAY,MAAZ,CAAV,IAAiC,IAAxC;AACH,SApgHiB;AAqgHlB,mBAAW,mBAAU,SAAV,EAAqB;AAC5B,gBAAI,OAAO,IAAX;AACA,wBAAY,aAAa,EAAzB;AACA,mBAAO,KAAK,QAAL,CAAc,IAAd,CAAmB,GAAG,MAAH,GAAY,SAA/B,CAAP;AACH,SAzgHiB;AA0gHlB,oBAAY,sBAAY;AACpB,gBAAI,OAAO,IAAX;AACA,mBAAO;AACH,yBAAS,KAAK,cADX;AAEH,wBAAQ,KAAK,oBAFV;AAGH,sBAAM,KAAK;AAHR,aAAP;AAKH;AAjhHiB,KAAtB;;AAohHA,MAAE,EAAF,CAAK,SAAL,GAAiB,UAAU,MAAV,EAAkB;AAC/B,YAAI,CAAC,GAAG,iBAAH,EAAD,IAA2B,CAAC,GAAG,IAAH,CAAQ,CAAR,CAAhC,EAA4C;AACxC;AACH;AACD,YAAI,OAAO,MAAM,KAAN,CAAY,IAAZ,EAAkB,SAAlB,CAAX;AAAA,YAAyC,UAAU,EAAnD;AACA,aAAK,KAAL;AACA,aAAK,IAAL,CAAU,YAAY;AAClB,gBAAI,OAAO,EAAE,IAAF,CAAX;AAAA,gBAAoB,OAAO,KAAK,IAAL,CAAU,WAAV,CAA3B;AAAA,gBAAmD,UAAU,QAAO,MAAP,yCAAO,MAAP,OAAkB,QAAlB,IAA8B,MAA3F;AAAA,gBACI,QAAQ,QAAQ,KAAR,IAAiB,KAAK,IAAL,CAAU,OAAV,CAD7B;AAAA,gBACiD,IAAI,EADrD;AAAA,gBACyD,IAAI,EAD7D;AAAA,gBAEI,OAAO,QAAQ,QAAR,IAAoB,KAAK,IAAL,CAAU,UAAV,CAApB,IAA6C,EAAE,EAAF,CAAK,SAAL,CAAe,QAAf,CAAwB,QAArE,IAAiF,IAF5F;AAAA,gBAEkG,GAFlG;AAGA,gBAAI,CAAC,IAAL,EAAW;AACP,oBAAI,KAAJ,EAAW;AACP,wBAAI,EAAE,EAAF,CAAK,eAAL,CAAqB,KAArB,KAA+B,EAAnC;AACH;AACD,oBAAI,SAAS,IAAT,IAAiB,CAAC,GAAG,OAAH,CAAW,EAAE,EAAF,CAAK,gBAAL,CAAsB,IAAtB,CAAX,CAAtB,EAA+D;AAC3D,wBAAI,EAAE,EAAF,CAAK,gBAAL,CAAsB,IAAtB,KAA+B,EAAnC;AACH;AACD,sBAAM,EAAE,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmB,EAAE,EAAF,CAAK,SAAL,CAAe,QAAlC,EAA4C,CAA5C,EAA+C,EAAE,EAAF,CAAK,gBAAL,CAAsB,EAArE,EAAyE,CAAzE,EAA4E,OAA5E,EAAqF,KAAK,IAAL,EAArF,CAAN;AACA,uBAAO,IAAI,SAAJ,CAAc,IAAd,EAAoB,GAApB,CAAP;AACA,qBAAK,IAAL,CAAU,WAAV,EAAuB,IAAvB;AACH;;AAED,gBAAI,OAAO,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,wBAAQ,IAAR,CAAa,KAAK,MAAL,EAAa,KAAb,CAAmB,IAAnB,EAAyB,IAAzB,CAAb;AACH;AACJ,SAnBD;AAoBA,gBAAQ,QAAQ,MAAhB;AACI,iBAAK,CAAL;AACI,uBAAO,IAAP;AACJ,iBAAK,CAAL;AACI,uBAAO,QAAQ,CAAR,CAAP;AACJ;AACI,uBAAO,OAAP;AANR;AAQH,KAlCD;;AAoCA,MAAE,EAAF,CAAK,SAAL,CAAe,QAAf,GAA0B;AACtB,kBAAU,IADY;AAEtB,qBAAa,IAFS;AAGtB,oBAAY,IAHU;AAItB,qBAAa,IAJS;AAKtB,oBAAY,IALU;AAMtB,oBAAY,IANU;AAOtB,oBAAY,IAPU;AAQtB,mBAAW,IARW;AAStB,4BAAoB,IATE;AAUtB,2BAAmB,KAVG;AAWtB,qBAAa,KAXS;AAYtB,yBAAiB,IAZK,EAYC;AACvB,kBAAU,KAbY;AActB,aAAK,KAdiB;AAetB,8BAAsB,KAfA;AAgBtB,wBAAgB,IAhBM;AAiBtB,sBAAc,EAjBQ;AAkBtB,sBAAc,EAlBQ;AAmBtB,oBAAY,gBAnBU;AAoBtB,mBAAW,mBApBW;AAqBtB,sBAAc,IArBQ;AAsBtB,oBAAY,IAtBU;AAuBtB,wBAAgB,IAvBM;AAwBtB,wBAAgB,EAxBM;AAyBtB,wBAAgB,EAzBM;AA0BtB,iCAAyB,MA1BH;AA2BtB,8BAAsB,KA3BA;AA4BtB,gCAAwB,OA5BF;AA6BtB,8BAAsB,EA7BA;AA8BtB,iCAAyB,EA9BH;AA+BtB,0BAAkB,EA/BI;AAgCtB,kCAA0B,IAhCJ;AAiCtB,mCAA2B,EAjCL;AAkCtB,kCAA0B,KAlCJ;AAmCtB,mBAAW,EAnCW;AAoCtB,yBAAiB,EApCK;AAqCtB,0BAAkB,IArCI;AAsCtB,gCAAwB;AACpB,kBAAM,mDADc;AAEpB,kBAAM,oDAFc;AAGpB,0BAAc,qDAHM;AAIpB,wBAAY,gDAJQ;AAKpB,wBAAY,iDALQ;AAMpB,mBAAO;AANa,SAtCF;AA8CtB,kCAA0B;AACtB,kBAAM,kBADgB;AAEtB,kBAAM,kBAFgB;AAGtB,0BAAc,8CAHQ;AAItB,wBAAY,8CAJU;AAKtB,wBAAY,8CALU;AAMtB,mBAAO;AANe,SA9CJ;AAsDtB,6BAAqB,KAtDC;AAuDtB,iCAAyB,KAvDH;AAwDtB,6BAAqB,SAxDC;AAyDtB,iCAAyB,IAzDH;AA0DtB,0BAAkB,IA1DI;AA2DtB,+BAAuB,IA3DD;AA4DtB,+BAAuB,IA5DD;AA6DtB,0BAAkB,EA7DI;AA8DtB,2BAAmB,EA9DG;AA+DtB,yBAAiB,0CA/DK;AAgEtB,8BAAsB,iBAhEA;AAiEtB,iCAAyB,EAjEH;AAkEtB,gCAAwB,EAlEF;AAmEtB,0BAAkB,WAnEI;AAoEtB,oBAAY,uDApEU;AAqEtB,qBAAa,iBArES;AAsEtB,oBAAY,2CAtEU;AAuEtB,qBAAa,+BAvES;AAwEtB,oBAAY,gDAxEU;AAyEtB,qBAAa,+BAzES;AA0EtB,oBAAY,4CA1EU;AA2EtB,qBAAa,+BA3ES;AA4EtB,mBAAW,IA5EW;AA6EtB,wBAAgB,IA7EM;AA8EtB,qBAAa,IA9ES;AA+EtB,yBAAiB,EA/EK;AAgFtB,yBAAiB,GAhFK;AAiFtB,uBAAe,IAjFO;AAkFtB,wBAAgB,IAlFM;AAmFtB,uBAAe,IAnFO;AAoFtB,wBAAgB,IApFM;AAqFtB,qBAAa,KArFS;AAsFtB,0BAAkB,OAtFI;AAuFtB,uBAAe,IAvFO;AAwFtB,gCAAwB,YAxFF;AAyFtB,8BAAsB,CAzFA,EAyFG;AACzB,qBAAa,CA1FS;AA2FtB,qBAAa,CA3FS;AA4FtB,4BAAoB,KA5FE,EA4FK;AAC3B,sBAAc,CA7FQ;AA8FtB,sBAAc,CA9FQ;AA+FtB,8BAAsB,KA/FA;AAgGtB,iCAAyB,aAhGH;AAiGtB,gCAAwB,uDAjGF;AAkGtB,uBAAe,oBAlGO;AAmGtB,4BAAoB,0EAnGE;AAoGtB,uBAAe,0EApGO;AAqGtB,+BAAuB,8CArGD;AAsGtB,4BAAoB,4CAtGE;AAuGtB,iCAAyB,EAvGH;AAwGtB,yBAAiB,OAxGK;AAyGtB,4BAAoB,IAzGE;AA0GtB,uBAAe,IA1GO;AA2GtB,4BAAoB,IA3GE;AA4GtB,wBAAgB,IA5GM;AA6GtB,yBAAiB,IA7GK;AA8GtB,0BAAkB,IA9GI;AA+GtB,0BAAkB,GAAG,WAAH,CAAe,gBAAf,CA/GI;AAgHtB,sBAAc,IAhHQ;AAiHtB,yBAAiB,IAjHK;AAkHtB,4BAAoB,sBAlHE;AAmHtB,4BAAoB,EAnHE;AAoHtB,4BAAoB,EApHE;AAqHtB,sBAAc,OArHQ;AAsHtB,sBAAc,EAtHQ;AAuHtB,4BAAoB,EAvHE;AAwHtB,8BAAsB,IAxHA;AAyHtB,4BAAoB,KAzHE;AA0HtB,kCAA0B,KA1HJ;AA2HtB,2BAAmB;AA3HG,KAA1B;;AA8HA,MAAE,EAAF,CAAK,gBAAL,CAAsB,EAAtB,GAA2B;AACvB,oBAAY,MADW;AAEvB,oBAAY,OAFW;AAGvB,qBAAa,iBAHU;AAIvB,qBAAa,QAJU;AAKvB,qBAAa,sBALU;AAMvB,qBAAa,QANU;AAOvB,qBAAa,sBAPU;AAQvB,qBAAa,QARU;AASvB,qBAAa,uBATU;AAUvB,eAAO,IAVgB;AAWvB,4BAAoB,mBAXG;AAYvB,sBAAc,WAZS;AAavB,wBAAgB,mBAbO;AAcvB,6BAAqB,kBAdE;AAevB,yBAAiB,mCAfM;AAgBvB,yBAAiB,4FAhBM;AAiBvB,yBAAiB,8FAjBM;AAkBvB,yBAAiB,wDAlBM;AAmBvB,yBAAiB,+FAnBM;AAoBvB,yBAAiB,0BApBM;AAqBvB,wBAAgB,0DArBO;AAsBvB,4BAAoB,gCAtBG;AAuBvB,+BAAuB,oCAvBA;AAwBvB,6BAAqB,oDAxBE;AAyBvB,4BAAoB,0DAzBG;AA0BvB,4BAAoB,qEA1BG;AA2BvB,iCAAyB,+EA3BF;AA4BvB,sBAAc;AACV,qBAAS,OADC;AAEV,oBAAQ,MAFE;AAGV,oBAAQ,MAHE;AAIV,qBAAS,OAJC;AAKV,qBAAS,OALC;AAMV,qBAAS,OANC;AAOV,mBAAO,KAPG;AAQV,sBAAU;AARA,SA5BS;AAsCvB,0BAAkB,6BAtCK;AAuCvB,4BAAoB,eAvCG;AAwCvB,wBAAgB,iBAxCO;AAyCvB,sBAAc,MAzCS;AA0CvB,wBAAgB,qCA1CO;AA2CvB,wBAAgB,OA3CO;AA4CvB,4BAAoB,kBA5CG;AA6CvB,oBAAY,0CA7CW;AA8CvB,qBAAa,kEA9CU;AA+CvB,qBAAa,sBA/CU;AAgDvB,8BAAsB,6DAhDC;AAiDvB,4BAAoB,0DAjDG;AAkDvB,6BAAqB,2DAlDE;AAmDvB,4BAAoB,uDAnDG;AAoDvB,6BAAqB,wDApDE;AAqDvB,6BAAqB,+CArDE;AAsDvB,iCAAyB,oDAtDF;AAuDvB,sBAAc,8EAvDS;AAwDvB,8BAAsB,oBAxDC;AAyDvB,wBAAgB;AACZ,yBAAa,aADD;AAEZ,yBAAa,aAFD;AAGZ,yBAAa,mBAHD;AAIZ,yBAAa;AAJD,SAzDO;AA+DvB,uBAAe,iCA/DQ;AAgEvB,4BAAoB,kCAhEG;AAiEvB,iCAAyB;AACrB,kBAAM,oBADe;AAErB,kBAAM,gBAFe;AAGrB,0BAAc,eAHO;AAIrB,wBAAY,oBAJS;AAKrB,wBAAY,wBALS;AAMrB,mBAAO;AANc;AAjEF,KAA3B;;AA2EA,MAAE,EAAF,CAAK,SAAL,CAAe,WAAf,GAA6B,SAA7B;;AAEA;;;AAGA,MAAE,QAAF,EAAY,KAAZ,CAAkB,YAAY;AAC1B,YAAI,SAAS,EAAE,uBAAF,CAAb;AACA,YAAI,OAAO,MAAX,EAAmB;AACf,mBAAO,SAAP;AACH;AACJ,KALD;AAMH,CA/tIA,CAAD","file":"fileinput-compiled.js","sourcesContent":["/*!\n * bootstrap-fileinput v4.4.7\n * http://plugins.krajee.com/file-input\n *\n * Author: Kartik Visweswaran\n * Copyright: 2014 - 2017, Kartik Visweswaran, Krajee.com\n *\n * Licensed under the BSD 3-Clause\n * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md\n */\n(function (factory) {\n    \"use strict\";\n    //noinspection JSUnresolvedVariable\n    if (typeof define === 'function' && define.amd) { // jshint ignore:line\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory); // jshint ignore:line\n    } else { // noinspection JSUnresolvedVariable\n        if (typeof module === 'object' && module.exports) { // jshint ignore:line\n            // Node/CommonJS\n            // noinspection JSUnresolvedVariable\n            module.exports = factory(require('jquery')); // jshint ignore:line\n        } else {\n            // Browser globals\n            factory(window.jQuery);\n        }\n    }\n}(function ($) {\n    \"use strict\";\n\n    $.fn.fileinputLocales = {};\n    $.fn.fileinputThemes = {};\n\n    String.prototype.setTokens = function (replacePairs) {\n        var str = this.toString(), key, re;\n        for (key in replacePairs) {\n            if (replacePairs.hasOwnProperty(key)) {\n                re = new RegExp(\"\\{\" + key + \"\\}\", \"g\");\n                str = str.replace(re, replacePairs[key]);\n            }\n        }\n        return str;\n    };\n\n    var $h, FileInput;\n\n    // fileinput helper object for all global variables and internal helper methods\n    //noinspection JSUnresolvedVariable\n    $h = {\n        FRAMES: '.kv-preview-thumb',\n        SORT_CSS: 'file-sortable',\n        OBJECT_PARAMS: '<param name=\"controller\" value=\"true\" />\\n' +\n        '<param name=\"allowFullScreen\" value=\"true\" />\\n' +\n        '<param name=\"allowScriptAccess\" value=\"always\" />\\n' +\n        '<param name=\"autoPlay\" value=\"false\" />\\n' +\n        '<param name=\"autoStart\" value=\"false\" />\\n' +\n        '<param name=\"quality\" value=\"high\" />\\n',\n        DEFAULT_PREVIEW: '<div class=\"file-preview-other\">\\n' +\n        '<span class=\"{previewFileIconClass}\">{previewFileIcon}</span>\\n' +\n        '</div>',\n        MODAL_ID: 'kvFileinputModal',\n        MODAL_EVENTS: ['show', 'shown', 'hide', 'hidden', 'loaded'],\n        objUrl: window.URL || window.webkitURL,\n        compare: function (input, str, exact) {\n            return input !== undefined && (exact ? input === str : input.match(str));\n        },\n        isIE: function (ver) {\n            // check for IE versions < 11\n            if (navigator.appName !== 'Microsoft Internet Explorer') {\n                return false;\n            }\n            if (ver === 10) {\n                return new RegExp('msie\\\\s' + ver, 'i').test(navigator.userAgent);\n            }\n            var div = document.createElement(\"div\"), status;\n            div.innerHTML = \"<!--[if IE \" + ver + \"]> <i></i> <![endif]-->\";\n            status = div.getElementsByTagName(\"i\").length;\n            document.body.appendChild(div);\n            div.parentNode.removeChild(div);\n            return status;\n        },\n        initModal: function ($modal) {\n            var $body = $('body');\n            if ($body.length) {\n                $modal.appendTo($body);\n            }\n        },\n        isEmpty: function (value, trim) {\n            return value === undefined || value === null || value.length === 0 || (trim && $.trim(value) === '');\n        },\n        isArray: function (a) {\n            return Array.isArray(a) || Object.prototype.toString.call(a) === '[object Array]';\n        },\n        ifSet: function (needle, haystack, def) {\n            def = def || '';\n            return (haystack && typeof haystack === 'object' && needle in haystack) ? haystack[needle] : def;\n        },\n        cleanArray: function (arr) {\n            if (!(arr instanceof Array)) {\n                arr = [];\n            }\n            return arr.filter(function (e) {\n                return (e !== undefined && e !== null);\n            });\n        },\n        spliceArray: function (arr, index) {\n            var i, j = 0, out = [];\n            if (!(arr instanceof Array)) {\n                return [];\n            }\n            for (i = 0; i < arr.length; i++) {\n                if (i !== index) {\n                    out[j] = arr[i];\n                    j++;\n                }\n            }\n            return out;\n        },\n        getNum: function (num, def) {\n            def = def || 0;\n            if (typeof num === \"number\") {\n                return num;\n            }\n            if (typeof num === \"string\") {\n                num = parseFloat(num);\n            }\n            return isNaN(num) ? def : num;\n        },\n        hasFileAPISupport: function () {\n            return !!(window.File && window.FileReader);\n        },\n        hasDragDropSupport: function () {\n            var div = document.createElement('div');\n            /** @namespace div.draggable */\n            /** @namespace div.ondragstart */\n            /** @namespace div.ondrop */\n            return !$h.isIE(9) &&\n                (div.draggable !== undefined || (div.ondragstart !== undefined && div.ondrop !== undefined));\n        },\n        hasFileUploadSupport: function () {\n            return $h.hasFileAPISupport() && window.FormData;\n        },\n        hasBlobSupport: function () {\n            try {\n                return !!window.Blob && Boolean(new Blob());\n            } catch (e) {\n                return false;\n            }\n        },\n        hasArrayBufferViewSupport: function () {\n            try {\n                return new Blob([new Uint8Array(100)]).size === 100;\n            } catch (e) {\n                return false;\n            }\n        },\n        dataURI2Blob: function (dataURI) {\n            //noinspection JSUnresolvedVariable\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder ||\n                window.MSBlobBuilder, canBlob = $h.hasBlobSupport(), byteStr, arrayBuffer, intArray, i, mimeStr, bb,\n                canProceed = (canBlob || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array;\n            if (!canProceed) {\n                return null;\n            }\n            if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n                byteStr = atob(dataURI.split(',')[1]);\n            } else {\n                byteStr = decodeURIComponent(dataURI.split(',')[1]);\n            }\n            arrayBuffer = new ArrayBuffer(byteStr.length);\n            intArray = new Uint8Array(arrayBuffer);\n            for (i = 0; i < byteStr.length; i += 1) {\n                intArray[i] = byteStr.charCodeAt(i);\n            }\n            mimeStr = dataURI.split(',')[0].split(':')[1].split(';')[0];\n            if (canBlob) {\n                return new Blob([$h.hasArrayBufferViewSupport() ? intArray : arrayBuffer], {type: mimeStr});\n            }\n            bb = new BlobBuilder();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeStr);\n        },\n        arrayBuffer2String: function (buffer) {\n            //noinspection JSUnresolvedVariable\n            if (window.TextDecoder) {\n                // noinspection JSUnresolvedFunction\n                return new TextDecoder(\"utf-8\").decode(buffer);\n            }\n            var array = Array.prototype.slice.apply(new Uint8Array(buffer)), out = '', i = 0, len, c, char2, char3;\n            len = array.length;\n            while (i < len) {\n                c = array[i++];\n                switch (c >> 4) { // jshint ignore:line\n                    case 0:\n                    case 1:\n                    case 2:\n                    case 3:\n                    case 4:\n                    case 5:\n                    case 6:\n                    case 7:\n                        // 0xxxxxxx\n                        out += String.fromCharCode(c);\n                        break;\n                    case 12:\n                    case 13:\n                        // 110x xxxx   10xx xxxx\n                        char2 = array[i++];\n                        out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F)); // jshint ignore:line\n                        break;\n                    case 14:\n                        // 1110 xxxx  10xx xxxx  10xx xxxx\n                        char2 = array[i++];\n                        char3 = array[i++];\n                        out += String.fromCharCode(((c & 0x0F) << 12) | // jshint ignore:line\n                            ((char2 & 0x3F) << 6) |  // jshint ignore:line\n                            ((char3 & 0x3F) << 0)); // jshint ignore:line\n                        break;\n                }\n            }\n            return out;\n        },\n        isHtml: function (str) {\n            var a = document.createElement('div');\n            a.innerHTML = str;\n            for (var c = a.childNodes, i = c.length; i--;) {\n                if (c[i].nodeType === 1) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        isSvg: function (str) {\n            return str.match(/^\\s*<\\?xml/i) && (str.match(/<!DOCTYPE svg/i) || str.match(/<svg/i));\n        },\n        getMimeType: function (signature, contents, type) {\n            switch (signature) {\n                case \"ffd8ffe0\":\n                case \"ffd8ffe1\":\n                case \"ffd8ffe2\":\n                    return 'image/jpeg';\n                case '89504E47':\n                    return 'image/png';\n                case '47494638':\n                    return 'image/gif';\n                case '49492a00':\n                    return 'image/tiff';\n                case '52494646':\n                    return 'image/webp';\n                case '66747970':\n                    return 'video/3gp';\n                case '4f676753':\n                    return 'video/ogg';\n                case '1a45dfa3':\n                    return 'video/mkv';\n                case '000001ba':\n                case '000001b3':\n                    return 'video/mpeg';\n                case '3026b275':\n                    return 'video/wmv';\n                case '25504446':\n                    return 'application/pdf';\n                case '25215053':\n                    return 'application/ps';\n                case '504b0304':\n                case '504b0506':\n                case '504b0508':\n                    return 'application/zip';\n                case '377abcaf':\n                    return 'application/7z';\n                case '75737461':\n                    return 'application/tar';\n                case '7801730d':\n                    return 'application/dmg';\n                default:\n                    switch (signature.substring(0, 6)) {\n                        case '435753':\n                            return 'application/x-shockwave-flash';\n                        case '494433':\n                            return 'audio/mp3';\n                        case '425a68':\n                            return 'application/bzip';\n                        default:\n                            switch (signature.substring(0, 4)) {\n                                case '424d':\n                                    return 'image/bmp';\n                                case 'fffb':\n                                    return 'audio/mp3';\n                                case '4d5a':\n                                    return 'application/exe';\n                                case '1f9d':\n                                case '1fa0':\n                                    return 'application/zip';\n                                case '1f8b':\n                                    return 'application/gzip';\n                                default:\n                                    return contents && !contents.match(/[^\\u0000-\\u007f]/) ? 'application/text-plain' : type;\n                            }\n                    }\n            }\n        },\n        addCss: function ($el, css) {\n            $el.removeClass(css).addClass(css);\n        },\n        getElement: function (options, param, value) {\n            return ($h.isEmpty(options) || $h.isEmpty(options[param])) ? value : $(options[param]);\n        },\n        uniqId: function () {\n            return Math.round(new Date().getTime()) + '_' + Math.round(Math.random() * 100);\n        },\n        htmlEncode: function (str) {\n            return str.replace(/&/g, '&amp;')\n                .replace(/</g, '&lt;')\n                .replace(/>/g, '&gt;')\n                .replace(/\"/g, '&quot;')\n                .replace(/'/g, '&apos;');\n        },\n        replaceTags: function (str, tags) {\n            var out = str;\n            if (!tags) {\n                return out;\n            }\n            $.each(tags, function (key, value) {\n                if (typeof value === \"function\") {\n                    value = value();\n                }\n                out = out.split(key).join(value);\n            });\n            return out;\n        },\n        cleanMemory: function ($thumb) {\n            var data = $thumb.is('img') ? $thumb.attr('src') : $thumb.find('source').attr('src');\n            /** @namespace $h.objUrl.revokeObjectURL */\n            $h.objUrl.revokeObjectURL(data);\n        },\n        findFileName: function (filePath) {\n            var sepIndex = filePath.lastIndexOf('/');\n            if (sepIndex === -1) {\n                sepIndex = filePath.lastIndexOf('\\\\');\n            }\n            return filePath.split(filePath.substring(sepIndex, sepIndex + 1)).pop();\n        },\n        checkFullScreen: function () {\n            //noinspection JSUnresolvedVariable\n            return document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement ||\n                document.msFullscreenElement;\n        },\n        toggleFullScreen: function (maximize) {\n            var doc = document, de = doc.documentElement;\n            if (de && maximize && !$h.checkFullScreen()) {\n                /** @namespace document.requestFullscreen */\n                /** @namespace document.msRequestFullscreen */\n                /** @namespace document.mozRequestFullScreen */\n                /** @namespace document.webkitRequestFullscreen */\n                /** @namespace Element.ALLOW_KEYBOARD_INPUT */\n                if (de.requestFullscreen) {\n                    de.requestFullscreen();\n                } else if (de.msRequestFullscreen) {\n                    de.msRequestFullscreen();\n                } else if (de.mozRequestFullScreen) {\n                    de.mozRequestFullScreen();\n                } else if (de.webkitRequestFullscreen) {\n                    de.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n                }\n            } else {\n                /** @namespace document.exitFullscreen */\n                /** @namespace document.msExitFullscreen */\n                /** @namespace document.mozCancelFullScreen */\n                /** @namespace document.webkitExitFullscreen */\n                if (doc.exitFullscreen) {\n                    doc.exitFullscreen();\n                } else if (doc.msExitFullscreen) {\n                    doc.msExitFullscreen();\n                } else if (doc.mozCancelFullScreen) {\n                    doc.mozCancelFullScreen();\n                } else if (doc.webkitExitFullscreen) {\n                    doc.webkitExitFullscreen();\n                }\n            }\n        },\n        moveArray: function (arr, oldIndex, newIndex) {\n            if (newIndex >= arr.length) {\n                var k = newIndex - arr.length;\n                while ((k--) + 1) {\n                    arr.push(undefined);\n                }\n            }\n            arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);\n            return arr;\n        },\n        cleanZoomCache: function ($el) {\n            var $cache = $el.closest('.kv-zoom-cache-theme');\n            if (!$cache.length) {\n                $cache = $el.closest('.kv-zoom-cache');\n            }\n            $cache.remove();\n        },\n        setOrientation: function (buffer, callback) {\n            var scanner = new DataView(buffer), idx = 0, value = 1, // Non-rotated is the default\n                maxBytes, uInt16, exifLength;\n            if (scanner.getUint16(idx) !== 0xFFD8 || buffer.length < 2) { // not a proper JPEG\n                if (callback) {\n                    callback();\n                }\n                return;\n            }\n            idx += 2;\n            maxBytes = scanner.byteLength;\n            while (idx < maxBytes - 2) {\n                uInt16 = scanner.getUint16(idx);\n                idx += 2;\n                switch (uInt16) {\n                    case 0xFFE1: // Start of EXIF\n                        exifLength = scanner.getUint16(idx);\n                        maxBytes = exifLength - idx;\n                        idx += 2;\n                        break;\n                    case 0x0112: // Orientation tag\n                        value = scanner.getUint16(idx + 6, false);\n                        maxBytes = 0; // Stop scanning\n                        break;\n                }\n            }\n            if (callback) {\n                callback(value);\n            }\n        },\n        validateOrientation: function (file, callback) {\n            if (!window.FileReader || !window.DataView) {\n                return; // skip orientation if pre-requisite libraries not supported by browser\n            }\n            var reader = new FileReader(), buffer;\n            reader.onloadend = function () {\n                buffer = reader.result;\n                $h.setOrientation(buffer, callback);\n            };\n            reader.readAsArrayBuffer(file);\n        },\n        adjustOrientedImage: function ($img, isZoom) {\n            var offsetContTop, offsetTop, newTop;\n            if (!$img.hasClass('is-portrait-gt4')) {\n                return;\n            }\n            if (isZoom) {\n                $img.css({width: $img.parent().height()});\n                return;\n            } else {\n                $img.css({height: 'auto', width: $img.height()});\n            }\n            offsetContTop = $img.parent().offset().top;\n            offsetTop = $img.offset().top;\n            newTop = offsetContTop - offsetTop;\n            $img.css('margin-top', newTop);\n        },\n        closeButton: function (css) {\n            css = css ? 'close ' + css : 'close';\n            return '<button type=\"button\" class=\"' + css + '\" aria-label=\"Close\">\\n' +\n                '  <span aria-hidden=\"true\">&times;</span>\\n' +\n                '</button>';\n        }\n    };\n    FileInput = function (element, options) {\n        var self = this;\n        self.$element = $(element);\n        self.$parent = self.$element.parent();\n        if (!self._validate()) {\n            return;\n        }\n        self.isPreviewable = $h.hasFileAPISupport();\n        self.isIE9 = $h.isIE(9);\n        self.isIE10 = $h.isIE(10);\n        if (self.isPreviewable || self.isIE9) {\n            self._init(options);\n            self._listen();\n        }\n        self.$element.removeClass('file-loading');\n    };\n    //noinspection JSUnusedGlobalSymbols\n    FileInput.prototype = {\n        constructor: FileInput,\n        _cleanup: function () {\n            var self = this;\n            self.reader = null;\n            self.formdata = {};\n            self.uploadCount = 0;\n            self.uploadStatus = {};\n            self.uploadLog = [];\n            self.uploadAsyncCount = 0;\n            self.loadedImages = [];\n            self.totalImagesCount = 0;\n            self.ajaxRequests = [];\n            self.clearStack();\n            self.fileInputCleared = false;\n            self.fileBatchCompleted = true;\n            if (!self.isPreviewable) {\n                self.showPreview = false;\n            }\n            self.isError = false;\n            self.ajaxAborted = false;\n            self.cancelling = false;\n        },\n        _init: function (options, refreshMode) {\n            var self = this, f, $el = self.$element, $cont, t, tmp;\n            self.options = options;\n            $.each(options, function (key, value) {\n                switch (key) {\n                    case 'minFileCount':\n                    case 'maxFileCount':\n                    case 'minFileSize':\n                    case 'maxFileSize':\n                    case 'maxFilePreviewSize':\n                    case 'resizeImageQuality':\n                    case 'resizeIfSizeMoreThan':\n                    case 'progressUploadThreshold':\n                    case 'initialPreviewCount':\n                    case 'zoomModalHeight':\n                    case 'minImageHeight':\n                    case 'maxImageHeight':\n                    case 'minImageWidth':\n                    case 'maxImageWidth':\n                        self[key] = $h.getNum(value);\n                        break;\n                    default:\n                        self[key] = value;\n                        break;\n                }\n            });\n            if (self.rtl) { // swap buttons for rtl\n                tmp = self.previewZoomButtonIcons.prev;\n                self.previewZoomButtonIcons.prev = self.previewZoomButtonIcons.next;\n                self.previewZoomButtonIcons.next = tmp;\n            }\n            if (!refreshMode) {\n                self._cleanup();\n            }\n            self.$form = $el.closest('form');\n            self._initTemplateDefaults();\n            self.uploadFileAttr = !$h.isEmpty($el.attr('name')) ? $el.attr('name') : 'file_data';\n            t = self._getLayoutTemplate('progress');\n            self.progressTemplate = t.replace('{class}', self.progressClass);\n            self.progressCompleteTemplate = t.replace('{class}', self.progressCompleteClass);\n            self.progressErrorTemplate = t.replace('{class}', self.progressErrorClass);\n            self.dropZoneEnabled = $h.hasDragDropSupport() && self.dropZoneEnabled;\n            self.isDisabled = $el.attr('disabled') || $el.attr('readonly');\n            if (self.isDisabled) {\n                $el.attr('disabled', true);\n            }\n            self.isAjaxUpload = $h.hasFileUploadSupport() && !$h.isEmpty(self.uploadUrl);\n            self.isClickable = self.browseOnZoneClick && self.showPreview &&\n                (self.isAjaxUpload && self.dropZoneEnabled || !$h.isEmpty(self.defaultPreviewContent));\n            self.slug = typeof options.slugCallback === \"function\" ? options.slugCallback : self._slugDefault;\n            self.mainTemplate = self.showCaption ? self._getLayoutTemplate('main1') : self._getLayoutTemplate('main2');\n            self.captionTemplate = self._getLayoutTemplate('caption');\n            self.previewGenericTemplate = self._getPreviewTemplate('generic');\n            if (!self.imageCanvas && self.resizeImage && (self.maxImageWidth || self.maxImageHeight)) {\n                self.imageCanvas = document.createElement('canvas');\n                self.imageCanvasContext = self.imageCanvas.getContext('2d');\n            }\n            if ($h.isEmpty($el.attr('id'))) {\n                $el.attr('id', $h.uniqId());\n            }\n            self.namespace = '.fileinput_' + $el.attr('id').replace(/-/g, '_');\n            if (self.$container === undefined) {\n                self.$container = self._createContainer();\n            } else {\n                self._refreshContainer();\n            }\n            $cont = self.$container;\n            self.$dropZone = $cont.find('.file-drop-zone');\n            self.$progress = $cont.find('.kv-upload-progress');\n            self.$btnUpload = $cont.find('.fileinput-upload');\n            self.$captionContainer = $h.getElement(options, 'elCaptionContainer', $cont.find('.file-caption'));\n            self.$caption = $h.getElement(options, 'elCaptionText', $cont.find('.file-caption-name'));\n            if (!$h.isEmpty(self.msgPlaceholder)) {\n                f = $el.attr('multiple') ? self.filePlural : self.fileSingle;\n                self.$caption.attr('placeholder', self.msgPlaceholder.replace('{files}', f));\n            }\n            self.$captionIcon = self.$captionContainer.find('.file-caption-icon');\n            if (self.mainClass.indexOf('input-group-lg') > -1) {\n                $h.addCss(self.$captionIcon, 'icon-lg');\n            } else {\n                self.$captionIcon.removeClass('icon-lg');\n            }\n            self.$previewContainer = $h.getElement(options, 'elPreviewContainer', $cont.find('.file-preview'));\n            self.$preview = $h.getElement(options, 'elPreviewImage', $cont.find('.file-preview-thumbnails'));\n            self.$previewStatus = $h.getElement(options, 'elPreviewStatus', $cont.find('.file-preview-status'));\n            self.$errorContainer = $h.getElement(options, 'elErrorContainer', self.$previewContainer.find('.kv-fileinput-error'));\n            self._validateDisabled();\n            if (!$h.isEmpty(self.msgErrorClass)) {\n                $h.addCss(self.$errorContainer, self.msgErrorClass);\n            }\n            if (!refreshMode) {\n                self.$errorContainer.hide();\n                self.previewInitId = \"preview-\" + $h.uniqId();\n                self._initPreviewCache();\n                self._initPreview(true);\n                self._initPreviewActions();\n                self._setFileDropZoneTitle();\n                if (self.$parent.hasClass('file-loading')) {\n                    self.$container.insertBefore(self.$parent);\n                    self.$parent.remove();\n                }\n            }\n            if ($el.attr('disabled')) {\n                self.disable();\n            }\n            self._initZoom();\n            if (self.hideThumbnailContent) {\n                $h.addCss(self.$preview, 'hide-content');\n            }\n        },\n        _initTemplateDefaults: function () {\n            var self = this, tMain1, tMain2, tPreview, tFileIcon, tClose, tCaption, tBtnDefault, tBtnLink, tBtnBrowse,\n                tModalMain, tModal, tProgress, tSize, tFooter, tActions, tActionDelete, tActionUpload, tActionDownload,\n                tActionZoom, tActionDrag, tIndicator, tTagBef, tTagBef1, tTagBef2, tTagAft, tGeneric, tHtml, tImage,\n                tText, tOffice, tVideo, tAudio, tFlash, tObject, tPdf, tOther, tZoomCache, vDefaultDim;\n            tMain1 = '{preview}\\n' +\n                '<div class=\"kv-upload-progress kv-hidden\"></div><div class=\"clearfix\"></div>\\n' +\n                '<div class=\"input-group {class}\">\\n' +\n                '  {caption}\\n' +\n                '<div class=\"input-group-btn\">\\n' +\n                '      {remove}\\n' +\n                '      {cancel}\\n' +\n                '      {upload}\\n' +\n                '      {browse}\\n' +\n                '    </div>\\n' +\n                '</div>';\n            tMain2 = '{preview}\\n<div class=\"kv-upload-progress kv-hidden\"></div>\\n<div class=\"clearfix\"></div>\\n{remove}\\n{cancel}\\n{upload}\\n{browse}\\n';\n            tPreview = '<div class=\"file-preview {class}\">\\n' +\n                '    {close}' +\n                '    <div class=\"{dropClass}\">\\n' +\n                '    <div class=\"file-preview-thumbnails\">\\n' +\n                '    </div>\\n' +\n                '    <div class=\"clearfix\"></div>' +\n                '    <div class=\"file-preview-status text-center text-success\"></div>\\n' +\n                '    <div class=\"kv-fileinput-error\"></div>\\n' +\n                '    </div>\\n' +\n                '</div>';\n            tClose = $h.closeButton('fileinput-remove');\n            tFileIcon = '<i class=\"glyphicon glyphicon-file\"></i>';\n            tCaption = '<div class=\"file-caption form-control {class}\" tabindex=\"500\">\\n' +\n                '  <span class=\"file-caption-icon\"></span>\\n' +\n                '  <input class=\"file-caption-name\" onkeydown=\"return false;\" onpaste=\"return false;\">\\n' +\n                '</div>';\n            //noinspection HtmlUnknownAttribute\n            tBtnDefault = '<button type=\"{type}\" tabindex=\"500\" title=\"{title}\" class=\"{css}\" ' +\n                '{status}>{icon} {label}</button>';\n            //noinspection HtmlUnknownAttribute\n            tBtnLink = '<a href=\"{href}\" tabindex=\"500\" title=\"{title}\" class=\"{css}\" {status}>{icon} {label}</a>';\n            //noinspection HtmlUnknownAttribute\n            tBtnBrowse = '<div tabindex=\"500\" class=\"{css}\" {status}>{icon} {label}</div>';\n            tModalMain = '<div id=\"' + $h.MODAL_ID + '\" class=\"file-zoom-dialog modal fade\" ' +\n                'tabindex=\"-1\" aria-labelledby=\"' + $h.MODAL_ID + 'Label\"></div>';\n            tModal = '<div class=\"modal-dialog modal-lg{rtl}\" role=\"document\">\\n' +\n                '  <div class=\"modal-content\">\\n' +\n                '    <div class=\"modal-header\">\\n' +\n                '      <h5 class=\"modal-title\">{heading}</h5>\\n' +\n                '      <span class=\"kv-zoom-title\"></span>\\n' +\n                '      <div class=\"kv-zoom-actions\">{toggleheader}{fullscreen}{borderless}{close}</div>\\n' +\n                '    </div>\\n' +\n                '    <div class=\"modal-body\">\\n' +\n                '      <div class=\"floating-buttons\"></div>\\n' +\n                '      <div class=\"kv-zoom-body file-zoom-content {zoomFrameClass}\"></div>\\n' + '{prev} {next}\\n' +\n                '    </div>\\n' +\n                '  </div>\\n' +\n                '</div>\\n';\n            tProgress = '<div class=\"progress\">\\n' +\n                '    <div class=\"{class}\" role=\"progressbar\"' +\n                ' aria-valuenow=\"{percent}\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width:{percent}%;\">\\n' +\n                '        {status}\\n' +\n                '     </div>\\n' +\n                '</div>';\n            tSize = ' <samp>({sizeText})</samp>';\n            tFooter = '<div class=\"file-thumbnail-footer\">\\n' +\n                '    <div class=\"file-footer-caption\" title=\"{caption}\">\\n' +\n                '        <div class=\"file-caption-info\">{caption}</div>\\n' +\n                '        <div class=\"file-size-info\">{size}</div>\\n' +\n                '    </div>\\n' +\n                '    {progress}\\n{indicator}\\n{actions}\\n' +\n                '</div>';\n            tActions = '<div class=\"file-actions\">\\n' +\n                '    <div class=\"file-footer-buttons\">\\n' +\n                '        {download} {upload} {delete} {zoom} {other}' +\n                '    </div>\\n' +\n                '</div>\\n' +\n                '{drag}\\n' +\n                '<div class=\"clearfix\"></div>';\n            //noinspection HtmlUnknownAttribute\n            tActionDelete = '<button type=\"button\" class=\"kv-file-remove {removeClass}\" ' +\n                'title=\"{removeTitle}\" {dataUrl}{dataKey}>{removeIcon}</button>\\n';\n            tActionUpload = '<button type=\"button\" class=\"kv-file-upload {uploadClass}\" title=\"{uploadTitle}\">' +\n                '{uploadIcon}</button>';\n            tActionDownload = '<button type=\"button\" class=\"kv-file-download {downloadClass}\" title=\"{downloadTitle}\" ' +\n                'data-url=\"{downloadUrl}\" data-caption=\"{caption}\">{downloadIcon}</button>';\n            tActionZoom = '<button type=\"button\" class=\"kv-file-zoom {zoomClass}\" ' +\n                'title=\"{zoomTitle}\">{zoomIcon}</button>';\n            tActionDrag = '<span class=\"file-drag-handle {dragClass}\" title=\"{dragTitle}\">{dragIcon}</span>';\n            tIndicator = '<div class=\"file-upload-indicator\" title=\"{indicatorTitle}\">{indicator}</div>';\n            tTagBef = '<div class=\"file-preview-frame {frameClass}\" id=\"{previewId}\" data-fileindex=\"{fileindex}\"' +\n                ' data-template=\"{template}\"';\n            tTagBef1 = tTagBef + '><div class=\"kv-file-content\">\\n';\n            tTagBef2 = tTagBef + ' title=\"{caption}\"><div class=\"kv-file-content\">\\n';\n            tTagAft = '</div>{footer}\\n</div>\\n';\n            tGeneric = '{content}\\n';\n            tHtml = '<div class=\"kv-preview-data file-preview-html\" title=\"{caption}\" {style}>{data}</div>\\n';\n            tImage = '<img src=\"{data}\" class=\"file-preview-image kv-preview-data\" title=\"{caption}\" ' +\n                'alt=\"{caption}\" {style}>\\n';\n            tText = '<textarea class=\"kv-preview-data file-preview-text\" title=\"{caption}\" readonly {style}>' +\n                '{data}</textarea>\\n';\n            tOffice = '<iframe class=\"kv-preview-data file-preview-office\" ' +\n                'src=\"https://docs.google.com/gview?url={data}&embedded=true\" {style}></iframe>';\n            tVideo = '<video class=\"kv-preview-data file-preview-video\" controls {style}>\\n' +\n                '<source src=\"{data}\" type=\"{type}\">\\n' + $h.DEFAULT_PREVIEW + '\\n</video>\\n';\n            tAudio = '<audio class=\"kv-preview-data file-preview-audio\" controls {style}>\\n<source src=\"{data}\" ' +\n                'type=\"{type}\">\\n' + $h.DEFAULT_PREVIEW + '\\n</audio>\\n';\n            tFlash = '<embed class=\"kv-preview-data file-preview-flash\" src=\"{data}\" type=\"application/x-shockwave-flash\" {style}>\\n';\n            tPdf = '<embed class=\"kv-preview-data file-preview-pdf\" src=\"{data}\" type=\"application/pdf\" {style}>\\n';\n            tObject = '<object class=\"kv-preview-data file-preview-object file-object {typeCss}\" ' +\n                'data=\"{data}\" type=\"{type}\" {style}>\\n' + '<param name=\"movie\" value=\"{caption}\" />\\n' +\n                $h.OBJECT_PARAMS + ' ' + $h.DEFAULT_PREVIEW + '\\n</object>\\n';\n            tOther = '<div class=\"kv-preview-data file-preview-other-frame\" {style}>\\n' + $h.DEFAULT_PREVIEW + '\\n</div>\\n';\n            tZoomCache = '<div class=\"kv-zoom-cache\" style=\"display:none\">{zoomContent}</div>';\n            vDefaultDim = {width: \"100%\", height: \"100%\", 'min-height': \"480px\"};\n            self.defaults = {\n                layoutTemplates: {\n                    main1: tMain1,\n                    main2: tMain2,\n                    preview: tPreview,\n                    close: tClose,\n                    fileIcon: tFileIcon,\n                    caption: tCaption,\n                    modalMain: tModalMain,\n                    modal: tModal,\n                    progress: tProgress,\n                    size: tSize,\n                    footer: tFooter,\n                    indicator: tIndicator,\n                    actions: tActions,\n                    actionDelete: tActionDelete,\n                    actionUpload: tActionUpload,\n                    actionDownload: tActionDownload,\n                    actionZoom: tActionZoom,\n                    actionDrag: tActionDrag,\n                    btnDefault: tBtnDefault,\n                    btnLink: tBtnLink,\n                    btnBrowse: tBtnBrowse,\n                    zoomCache: tZoomCache\n                },\n                previewMarkupTags: {\n                    tagBefore1: tTagBef1,\n                    tagBefore2: tTagBef2,\n                    tagAfter: tTagAft\n                },\n                previewContentTemplates: {\n                    generic: tGeneric,\n                    html: tHtml,\n                    image: tImage,\n                    text: tText,\n                    office: tOffice,\n                    video: tVideo,\n                    audio: tAudio,\n                    flash: tFlash,\n                    object: tObject,\n                    pdf: tPdf,\n                    other: tOther\n                },\n                allowedPreviewTypes: ['image', 'html', 'text', 'video', 'audio', 'flash', 'pdf', 'object'],\n                previewTemplates: {},\n                previewSettings: {\n                    image: {width: \"auto\", height: \"auto\", 'max-width': \"100%\", 'max-height': \"100%\"},\n                    html: {width: \"213px\", height: \"160px\"},\n                    text: {width: \"213px\", height: \"160px\"},\n                    office: {width: \"213px\", height: \"160px\"},\n                    video: {width: \"213px\", height: \"160px\"},\n                    audio: {width: \"100%\", height: \"30px\"},\n                    flash: {width: \"213px\", height: \"160px\"},\n                    object: {width: \"213px\", height: \"160px\"},\n                    pdf: {width: \"213px\", height: \"160px\"},\n                    other: {width: \"213px\", height: \"160px\"}\n                },\n                previewSettingsSmall: {\n                    image: {width: \"auto\", height: \"auto\", 'max-width': \"100%\", 'max-height': \"100%\"},\n                    html: {width: \"100%\", height: \"160px\"},\n                    text: {width: \"100%\", height: \"160px\"},\n                    office: {width: \"100%\", height: \"160px\"},\n                    video: {width: \"100%\", height: \"auto\"},\n                    audio: {width: \"100%\", height: \"30px\"},\n                    flash: {width: \"100%\", height: \"auto\"},\n                    object: {width: \"100%\", height: \"auto\"},\n                    pdf: {width: \"100%\", height: \"160px\"},\n                    other: {width: \"100%\", height: \"160px\"}\n                },\n                previewZoomSettings: {\n                    image: {width: \"auto\", height: \"auto\", 'max-width': \"100%\", 'max-height': \"100%\"},\n                    html: vDefaultDim,\n                    text: vDefaultDim,\n                    office: {width: \"100%\", height: \"100%\", 'max-width': \"100%\", 'min-height': \"480px\"},\n                    video: {width: \"auto\", height: \"100%\", 'max-width': \"100%\"},\n                    audio: {width: \"100%\", height: \"30px\"},\n                    flash: {width: \"auto\", height: \"480px\"},\n                    object: {width: \"auto\", height: \"100%\", 'max-width': \"100%\", 'min-height': \"480px\"},\n                    pdf: vDefaultDim,\n                    other: {width: \"auto\", height: \"100%\", 'min-height': \"480px\"}\n                },\n                fileTypeSettings: {\n                    image: function (vType, vName) {\n                        return ($h.compare(vType, 'image.*') && !$h.compare(vType, /(tiff?|wmf)$/i) ||\n                            $h.compare(vName, /\\.(gif|png|jpe?g)$/i));\n                    },\n                    html: function (vType, vName) {\n                        return $h.compare(vType, 'text/html') || $h.compare(vName, /\\.(htm|html)$/i);\n                    },\n                    office: function (vType, vName) {\n                        return $h.compare(vType, /(word|excel|powerpoint|office|iwork-pages|tiff?)$/i) ||\n                            $h.compare(vName, /\\.(rtf|docx?|xlsx?|pptx?|pps|potx?|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i);\n                    },\n                    text: function (vType, vName) {\n                        return $h.compare(vType, 'text.*') || $h.compare(vName, /\\.(xml|javascript)$/i) ||\n                            $h.compare(vName, /\\.(txt|md|csv|nfo|ini|json|php|js|css)$/i);\n                    },\n                    video: function (vType, vName) {\n                        return $h.compare(vType, 'video.*') && ($h.compare(vType, /(ogg|mp4|mp?g|mov|webm|3gp)$/i) ||\n                            $h.compare(vName, /\\.(og?|mp4|webm|mp?g|mov|3gp)$/i));\n                    },\n                    audio: function (vType, vName) {\n                        return $h.compare(vType, 'audio.*') && ($h.compare(vName, /(ogg|mp3|mp?g|wav)$/i) ||\n                            $h.compare(vName, /\\.(og?|mp3|mp?g|wav)$/i));\n                    },\n                    flash: function (vType, vName) {\n                        return $h.compare(vType, 'application/x-shockwave-flash', true) || $h.compare(vName, /\\.(swf)$/i);\n                    },\n                    pdf: function (vType, vName) {\n                        return $h.compare(vType, 'application/pdf', true) || $h.compare(vName, /\\.(pdf)$/i);\n                    },\n                    object: function () {\n                        return true;\n                    },\n                    other: function () {\n                        return true;\n                    }\n                },\n                fileActionSettings: {\n                    showRemove: true,\n                    showUpload: true,\n                    showDownload: true,\n                    showZoom: true,\n                    showDrag: true,\n                    removeIcon: '<i class=\"glyphicon glyphicon-trash\"></i>',\n                    removeClass: 'btn btn-kv btn-default btn-outline-secondary',\n                    removeErrorClass: 'btn btn-kv btn-danger',\n                    removeTitle: 'Remove file',\n                    uploadIcon: '<i class=\"glyphicon glyphicon-upload\"></i>',\n                    uploadClass: 'btn btn-kv btn-default btn-outline-secondary',\n                    uploadTitle: 'Upload file',\n                    uploadRetryIcon: '<i class=\"glyphicon glyphicon-repeat\"></i>',\n                    uploadRetryTitle: 'Retry upload',\n                    downloadIcon: '<i class=\"glyphicon glyphicon-download\"></i>',\n                    downloadClass: 'btn btn-kv btn-default btn-outline-secondary',\n                    downloadTitle: 'Download file',\n                    zoomIcon: '<i class=\"glyphicon glyphicon-zoom-in\"></i>',\n                    zoomClass: 'btn btn-kv btn-default btn-outline-secondary',\n                    zoomTitle: 'View Details',\n                    dragIcon: '<i class=\"glyphicon glyphicon-move\"></i>',\n                    dragClass: 'text-info',\n                    dragTitle: 'Move / Rearrange',\n                    dragSettings: {},\n                    indicatorNew: '<i class=\"glyphicon glyphicon-plus-sign text-warning\"></i>',\n                    indicatorSuccess: '<i class=\"glyphicon glyphicon-ok-sign text-success\"></i>',\n                    indicatorError: '<i class=\"glyphicon glyphicon-exclamation-sign text-danger\"></i>',\n                    indicatorLoading: '<i class=\"glyphicon glyphicon-hourglass text-muted\"></i>',\n                    indicatorNewTitle: 'Not uploaded yet',\n                    indicatorSuccessTitle: 'Uploaded',\n                    indicatorErrorTitle: 'Upload Error',\n                    indicatorLoadingTitle: 'Uploading ...'\n                }\n            };\n            $.each(self.defaults, function (key, setting) {\n                if (key === 'allowedPreviewTypes') {\n                    if (self.allowedPreviewTypes === undefined) {\n                        self.allowedPreviewTypes = setting;\n                    }\n                    return;\n                }\n                self[key] = $.extend(true, {}, setting, self[key]);\n            });\n            self._initPreviewTemplates();\n        },\n        _initPreviewTemplates: function () {\n            var self = this, cfg = self.defaults, tags = self.previewMarkupTags, tagBef, tagAft = tags.tagAfter;\n            $.each(cfg.previewContentTemplates, function (key, value) {\n                if ($h.isEmpty(self.previewTemplates[key])) {\n                    tagBef = tags.tagBefore2;\n                    if (key === 'generic' || key === 'image' || key === 'html' || key === 'text') {\n                        tagBef = tags.tagBefore1;\n                    }\n                    self.previewTemplates[key] = tagBef + value + tagAft;\n                }\n            });\n        },\n        _initPreviewCache: function () {\n            var self = this;\n            self.previewCache = {\n                data: {},\n                init: function () {\n                    var content = self.initialPreview;\n                    if (content.length > 0 && !$h.isArray(content)) {\n                        content = content.split(self.initialPreviewDelimiter);\n                    }\n                    self.previewCache.data = {\n                        content: content,\n                        config: self.initialPreviewConfig,\n                        tags: self.initialPreviewThumbTags\n                    };\n                },\n                count: function () {\n                    return !!self.previewCache.data && !!self.previewCache.data.content ?\n                        self.previewCache.data.content.length : 0;\n                },\n                get: function (i, isDisabled) {\n                    var ind = 'init_' + i, data = self.previewCache.data, config = data.config[i],\n                        content = data.content[i], previewId = self.previewInitId + '-' + ind, out, $tmp, cat, ftr,\n                        fname, ftype, frameClass, asData = $h.ifSet('previewAsData', config, self.initialPreviewAsData),\n                        parseTemplate = function (cat, dat, fn, ft, id, ftr, ind, fc, t) {\n                            fc = ' file-preview-initial ' + $h.SORT_CSS + (fc ? ' ' + fc : '');\n                            return self._generatePreviewTemplate(cat, dat, fn, ft, id, false, null, fc, ftr, ind, t);\n                        };\n                    if (!content) {\n                        return '';\n                    }\n                    isDisabled = isDisabled === undefined ? true : isDisabled;\n                    cat = $h.ifSet('type', config, self.initialPreviewFileType || 'generic');\n                    fname = $h.ifSet('filename', config, $h.ifSet('caption', config));\n                    ftype = $h.ifSet('filetype', config, cat);\n                    ftr = self.previewCache.footer(i, isDisabled, (config && config.size || null));\n                    frameClass = $h.ifSet('frameClass', config);\n                    if (asData) {\n                        out = parseTemplate(cat, content, fname, ftype, previewId, ftr, ind, frameClass);\n                    } else {\n                        out = parseTemplate('generic', content, fname, ftype, previewId, ftr, ind, frameClass, cat)\n                            .setTokens({'content': data.content[i]});\n                    }\n                    if (data.tags.length && data.tags[i]) {\n                        out = $h.replaceTags(out, data.tags[i]);\n                    }\n                    /** @namespace config.frameAttr */\n                    if (!$h.isEmpty(config) && !$h.isEmpty(config.frameAttr)) {\n                        $tmp = $(document.createElement('div')).html(out);\n                        $tmp.find('.file-preview-initial').attr(config.frameAttr);\n                        out = $tmp.html();\n                        $tmp.remove();\n                    }\n                    return out;\n                },\n                add: function (content, config, tags, append) {\n                    var data = self.previewCache.data, index;\n                    if (!$h.isArray(content)) {\n                        content = content.split(self.initialPreviewDelimiter);\n                    }\n                    if (append) {\n                        index = data.content.push(content) - 1;\n                        data.config[index] = config;\n                        data.tags[index] = tags;\n                    } else {\n                        index = content.length - 1;\n                        data.content = content;\n                        data.config = config;\n                        data.tags = tags;\n                    }\n                    self.previewCache.data = data;\n                    return index;\n                },\n                set: function (content, config, tags, append) {\n                    var data = self.previewCache.data, i, chk;\n                    if (!content || !content.length) {\n                        return;\n                    }\n                    if (!$h.isArray(content)) {\n                        content = content.split(self.initialPreviewDelimiter);\n                    }\n                    chk = content.filter(function (n) {\n                        return n !== null;\n                    });\n                    if (!chk.length) {\n                        return;\n                    }\n                    if (data.content === undefined) {\n                        data.content = [];\n                    }\n                    if (data.config === undefined) {\n                        data.config = [];\n                    }\n                    if (data.tags === undefined) {\n                        data.tags = [];\n                    }\n                    if (append) {\n                        for (i = 0; i < content.length; i++) {\n                            if (content[i]) {\n                                data.content.push(content[i]);\n                            }\n                        }\n                        for (i = 0; i < config.length; i++) {\n                            if (config[i]) {\n                                data.config.push(config[i]);\n                            }\n                        }\n                        for (i = 0; i < tags.length; i++) {\n                            if (tags[i]) {\n                                data.tags.push(tags[i]);\n                            }\n                        }\n                    } else {\n                        data.content = content;\n                        data.config = config;\n                        data.tags = tags;\n                    }\n                    self.previewCache.data = data;\n                },\n                unset: function (index) {\n                    var chk = self.previewCache.count();\n                    if (!chk) {\n                        return;\n                    }\n                    if (chk === 1) {\n                        self.previewCache.data.content = [];\n                        self.previewCache.data.config = [];\n                        self.previewCache.data.tags = [];\n                        self.initialPreview = [];\n                        self.initialPreviewConfig = [];\n                        self.initialPreviewThumbTags = [];\n                        return;\n                    }\n                    self.previewCache.data.content.splice(index, 1);\n                    self.previewCache.data.config.splice(index, 1);\n                    self.previewCache.data.tags.splice(index, 1);\n                },\n                out: function () {\n                    var html = '', caption, len = self.previewCache.count(), i;\n                    if (len === 0) {\n                        return {content: '', caption: ''};\n                    }\n                    for (i = 0; i < len; i++) {\n                        html += self.previewCache.get(i);\n                    }\n                    caption = self._getMsgSelected(len);\n                    return {content: html, caption: caption};\n                },\n                footer: function (i, isDisabled, size) {\n                    var data = self.previewCache.data || {};\n                    if ($h.isEmpty(data.content)) {\n                        return '';\n                    }\n                    if ($h.isEmpty(data.config) || $h.isEmpty(data.config[i])) {\n                        data.config[i] = {};\n                    }\n                    isDisabled = isDisabled === undefined ? true : isDisabled;\n                    var config = data.config[i], caption = $h.ifSet('caption', config), a,\n                        width = $h.ifSet('width', config, 'auto'), url = $h.ifSet('url', config, false),\n                        key = $h.ifSet('key', config, null), fs = self.fileActionSettings,\n                        initPreviewShowDel = self.initialPreviewShowDelete || false,\n                        dUrl = config.downloadUrl || self.initialPreviewDownloadUrl || '',\n                        dFil = config.filename || config.caption || '',\n                        initPreviewShowDwl = !!(dUrl),\n                        sDel = $h.ifSet('showDelete', config, $h.ifSet('showDelete', fs, initPreviewShowDel)),\n                        sDwl = $h.ifSet('showDownload', config, $h.ifSet('showDownload', fs, initPreviewShowDwl)),\n                        sZm = $h.ifSet('showZoom', config, $h.ifSet('showZoom', fs, true)),\n                        sDrg = $h.ifSet('showDrag', config, $h.ifSet('showDrag', fs, true)),\n                        dis = (url === false) && isDisabled;\n                    sDwl = sDwl && config.downloadUrl !== false && !!dUrl;\n                    a = self._renderFileActions(false, sDwl, sDel, sZm, sDrg, dis, url, key, true, dUrl, dFil);\n                    return self._getLayoutTemplate('footer').setTokens({\n                        'progress': self._renderThumbProgress(),\n                        'actions': a,\n                        'caption': caption,\n                        'size': self._getSize(size),\n                        'width': width,\n                        'indicator': ''\n                    });\n                }\n            };\n            self.previewCache.init();\n        },\n        _handler: function ($el, event, callback) {\n            var self = this, ns = self.namespace, ev = event.split(' ').join(ns + ' ') + ns;\n            if (!$el || !$el.length) {\n                return;\n            }\n            $el.off(ev).on(ev, callback);\n        },\n        _log: function (msg) {\n            var self = this, id = self.$element.attr('id');\n            if (id) {\n                msg = '\"' + id + '\": ' + msg;\n            }\n            if (typeof window.console.log !== \"undefined\") {\n                window.console.log(msg);\n            } else {\n                window.alert(msg);\n            }\n        },\n        _validate: function () {\n            var self = this, status = self.$element.attr('type') === 'file';\n            if (!status) {\n                self._log('The input \"type\" must be set to \"file\" for initializing the \"bootstrap-fileinput\" plugin.');\n            }\n            return status;\n        },\n        _errorsExist: function () {\n            var self = this, $err, $errList = self.$errorContainer.find('li');\n            if ($errList.length) {\n                return true;\n            }\n            $err = $(document.createElement('div')).html(self.$errorContainer.html());\n            $err.find('.kv-error-close').remove();\n            $err.find('ul').remove();\n            return !!$.trim($err.text()).length;\n        },\n        _errorHandler: function (evt, caption) {\n            var self = this, err = evt.target.error, showError = function (msg) {\n                self._showError(msg.replace('{name}', caption));\n            };\n            /** @namespace err.NOT_FOUND_ERR */\n            /** @namespace err.SECURITY_ERR */\n            /** @namespace err.NOT_READABLE_ERR */\n            if (err.code === err.NOT_FOUND_ERR) {\n                showError(self.msgFileNotFound);\n            } else if (err.code === err.SECURITY_ERR) {\n                showError(self.msgFileSecured);\n            } else if (err.code === err.NOT_READABLE_ERR) {\n                showError(self.msgFileNotReadable);\n            } else if (err.code === err.ABORT_ERR) {\n                showError(self.msgFilePreviewAborted);\n            } else {\n                showError(self.msgFilePreviewError);\n            }\n        },\n        _addError: function (msg) {\n            var self = this, $error = self.$errorContainer;\n            if (msg && $error.length) {\n                $error.html(self.errorCloseButton + msg);\n                self._handler($error.find('.kv-error-close'), 'click', function () {\n                    setTimeout(function() {\n                        if (self.showPreview && !self.getFrames().length) {\n                            self.clear();\n                        }\n                        $error.fadeOut('slow');\n                    }, 10);\n                });\n            }\n        },\n        _setValidationError: function (css) {\n            var self = this;\n            css = (css ? css + ' ' : '') + 'has-error';\n            self.$container.removeClass(css).addClass('has-error');\n            $h.addCss(self.$captionContainer, 'is-invalid');\n        },\n        _resetErrors: function (fade) {\n            var self = this, $error = self.$errorContainer;\n            self.isError = false;\n            self.$container.removeClass('has-error');\n            self.$captionContainer.removeClass('is-invalid');\n            $error.html('');\n            if (fade) {\n                $error.fadeOut('slow');\n            } else {\n                $error.hide();\n            }\n        },\n        _showFolderError: function (folders) {\n            var self = this, $error = self.$errorContainer, msg;\n            if (!folders) {\n                return;\n            }\n            msg = self.msgFoldersNotAllowed.replace('{n}', folders);\n            self._addError(msg);\n            self._setValidationError();\n            $error.fadeIn(800);\n            self._raise('filefoldererror', [folders, msg]);\n        },\n        _showUploadError: function (msg, params, event) {\n            var self = this, $error = self.$errorContainer, ev = event || 'fileuploaderror', e = params && params.id ?\n                '<li data-file-id=\"' + params.id + '\">' + msg + '</li>' : '<li>' + msg + '</li>';\n            if ($error.find('ul').length === 0) {\n                self._addError('<ul>' + e + '</ul>');\n            } else {\n                $error.find('ul').append(e);\n            }\n            $error.fadeIn(800);\n            self._raise(ev, [params, msg]);\n            self._setValidationError('file-input-new');\n            return true;\n        },\n        _showError: function (msg, params, event) {\n            var self = this, $error = self.$errorContainer, ev = event || 'fileerror';\n            params = params || {};\n            params.reader = self.reader;\n            self._addError(msg);\n            $error.fadeIn(800);\n            self._raise(ev, [params, msg]);\n            if (!self.isAjaxUpload) {\n                self._clearFileInput();\n            }\n            self._setValidationError('file-input-new');\n            self.$btnUpload.attr('disabled', true);\n            return true;\n        },\n        _noFilesError: function (params) {\n            var self = this, label = self.minFileCount > 1 ? self.filePlural : self.fileSingle,\n                msg = self.msgFilesTooLess.replace('{n}', self.minFileCount).replace('{files}', label),\n                $error = self.$errorContainer;\n            self._addError(msg);\n            self.isError = true;\n            self._updateFileDetails(0);\n            $error.fadeIn(800);\n            self._raise('fileerror', [params, msg]);\n            self._clearFileInput();\n            self._setValidationError();\n        },\n        _parseError: function (operation, jqXHR, errorThrown, fileName) {\n            /** @namespace jqXHR.responseJSON */\n            var self = this, errMsg = $.trim(errorThrown + ''), textPre,\n                text = jqXHR.responseJSON !== undefined && jqXHR.responseJSON.error !== undefined ?\n                    jqXHR.responseJSON.error : jqXHR.responseText;\n            if (self.cancelling && self.msgUploadAborted) {\n                errMsg = self.msgUploadAborted;\n            }\n            if (self.showAjaxErrorDetails && text) {\n                text = $.trim(text.replace(/\\n\\s*\\n/g, '\\n'));\n                textPre = text.length ? '<pre>' + text + '</pre>' : '';\n                errMsg += errMsg ? textPre : text;\n            }\n            if (!errMsg) {\n                errMsg = self.msgAjaxError.replace('{operation}', operation);\n            }\n            self.cancelling = false;\n            return fileName ? '<b>' + fileName + ': </b>' + errMsg : errMsg;\n        },\n        _parseFileType: function (type, name) {\n            var self = this, isValid, vType, cat, i, types = self.allowedPreviewTypes || [];\n            if (type === 'application/text-plain') {\n                return 'text';\n            }\n            for (i = 0; i < types.length; i++) {\n                cat = types[i];\n                isValid = self.fileTypeSettings[cat];\n                vType = isValid(type, name) ? cat : '';\n                if (!$h.isEmpty(vType)) {\n                    return vType;\n                }\n            }\n            return 'other';\n        },\n        _getPreviewIcon: function (fname) {\n            var self = this, ext, out = null;\n            if (fname && fname.indexOf('.') > -1) {\n                ext = fname.split('.').pop();\n                if (self.previewFileIconSettings) {\n                    out = self.previewFileIconSettings[ext] || self.previewFileIconSettings[ext.toLowerCase()] || null;\n                }\n                if (self.previewFileExtSettings) {\n                    $.each(self.previewFileExtSettings, function (key, func) {\n                        if (self.previewFileIconSettings[key] && func(ext)) {\n                            out = self.previewFileIconSettings[key];\n                            //noinspection UnnecessaryReturnStatementJS\n                            return;\n                        }\n                    });\n                }\n            }\n            return out;\n        },\n        _parseFilePreviewIcon: function (content, fname) {\n            var self = this, icn = self._getPreviewIcon(fname) || self.previewFileIcon, out = content;\n            if (out.indexOf('{previewFileIcon}') > -1) {\n                out = out.setTokens({'previewFileIconClass': self.previewFileIconClass, 'previewFileIcon': icn});\n            }\n            return out;\n        },\n        _raise: function (event, params) {\n            var self = this, e = $.Event(event);\n            if (params !== undefined) {\n                self.$element.trigger(e, params);\n            } else {\n                self.$element.trigger(e);\n            }\n            if (e.isDefaultPrevented() || e.result === false) {\n                return false;\n            }\n            switch (event) {\n                // ignore these events\n                case 'filebatchuploadcomplete':\n                case 'filebatchuploadsuccess':\n                case 'fileuploaded':\n                case 'fileclear':\n                case 'filecleared':\n                case 'filereset':\n                case 'fileerror':\n                case 'filefoldererror':\n                case 'fileuploaderror':\n                case 'filebatchuploaderror':\n                case 'filedeleteerror':\n                case 'filecustomerror':\n                case 'filesuccessremove':\n                    break;\n                // receive data response via `filecustomerror` event`\n                default:\n                    if (!self.ajaxAborted) {\n                        self.ajaxAborted = e.result;\n                    }\n                    break;\n            }\n            return true;\n        },\n        _listenFullScreen: function (isFullScreen) {\n            var self = this, $modal = self.$modal, $btnFull, $btnBord;\n            if (!$modal || !$modal.length) {\n                return;\n            }\n            $btnFull = $modal && $modal.find('.btn-fullscreen');\n            $btnBord = $modal && $modal.find('.btn-borderless');\n            if (!$btnFull.length || !$btnBord.length) {\n                return;\n            }\n            $btnFull.removeClass('active').attr('aria-pressed', 'false');\n            $btnBord.removeClass('active').attr('aria-pressed', 'false');\n            if (isFullScreen) {\n                $btnFull.addClass('active').attr('aria-pressed', 'true');\n            } else {\n                $btnBord.addClass('active').attr('aria-pressed', 'true');\n            }\n            if ($modal.hasClass('file-zoom-fullscreen')) {\n                self._maximizeZoomDialog();\n            } else {\n                if (isFullScreen) {\n                    self._maximizeZoomDialog();\n                } else {\n                    $btnBord.removeClass('active').attr('aria-pressed', 'false');\n                }\n            }\n        },\n        _listen: function () {\n            var self = this, $el = self.$element, $form = self.$form, $cont = self.$container, fullScreenEvents;\n            self._handler($el, 'change', $.proxy(self._change, self));\n            if (self.showBrowse) {\n                self._handler(self.$btnFile, 'click', $.proxy(self._browse, self));\n            }\n            self._handler($cont.find('.fileinput-remove:not([disabled])'), 'click', $.proxy(self.clear, self));\n            self._handler($cont.find('.fileinput-cancel'), 'click', $.proxy(self.cancel, self));\n            self._initDragDrop();\n            self._handler($form, 'reset', $.proxy(self.clear, self));\n            if (!self.isAjaxUpload) {\n                self._handler($form, 'submit', $.proxy(self._submitForm, self));\n            }\n            self._handler(self.$container.find('.fileinput-upload'), 'click', $.proxy(self._uploadClick, self));\n            self._handler($(window), 'resize', function () {\n                self._listenFullScreen(screen.width === window.innerWidth && screen.height === window.innerHeight);\n            });\n            fullScreenEvents = 'webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange';\n            self._handler($(document), fullScreenEvents, function () {\n                self._listenFullScreen($h.checkFullScreen());\n            });\n            self._autoFitContent();\n            self._initClickable();\n        },\n        _autoFitContent: function () {\n            var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n                self = this, config = width < 400 ? (self.previewSettingsSmall || self.defaults.previewSettingsSmall) :\n                (self.previewSettings || self.defaults.previewSettings), sel;\n            $.each(config, function (cat, settings) {\n                sel = '.file-preview-frame .file-preview-' + cat;\n                self.$preview.find(sel + '.kv-preview-data,' + sel + ' .kv-preview-data').css(settings);\n            });\n        },\n        _initClickable: function () {\n            var self = this, $zone;\n            if (!self.isClickable) {\n                return;\n            }\n            $zone = self.isAjaxUpload ? self.$dropZone : self.$preview.find('.file-default-preview');\n            $h.addCss($zone, 'clickable');\n            $zone.attr('tabindex', -1);\n            self._handler($zone, 'click', function (e) {\n                var $tar = $(e.target);\n                if (!$zone.find('.kv-fileinput-error:visible').length &&\n                    (!$tar.parents('.file-preview-thumbnails').length || $tar.parents('.file-default-preview').length)) {\n                    self.$element.trigger('click');\n                    $zone.blur();\n                }\n            });\n        },\n        _initDragDrop: function () {\n            var self = this, $zone = self.$dropZone;\n            if (self.isAjaxUpload && self.dropZoneEnabled && self.showPreview) {\n                self._handler($zone, 'dragenter dragover', $.proxy(self._zoneDragEnter, self));\n                self._handler($zone, 'dragleave', $.proxy(self._zoneDragLeave, self));\n                self._handler($zone, 'drop', $.proxy(self._zoneDrop, self));\n                self._handler($(document), 'dragenter dragover drop', self._zoneDragDropInit);\n            }\n        },\n        _zoneDragDropInit: function (e) {\n            e.stopPropagation();\n            e.preventDefault();\n        },\n        _zoneDragEnter: function (e) {\n            var self = this, hasFiles = $.inArray('Files', e.originalEvent.dataTransfer.types) > -1;\n            self._zoneDragDropInit(e);\n            if (self.isDisabled || !hasFiles) {\n                e.originalEvent.dataTransfer.effectAllowed = 'none';\n                e.originalEvent.dataTransfer.dropEffect = 'none';\n                return;\n            }\n            $h.addCss(self.$dropZone, 'file-highlighted');\n        },\n        _zoneDragLeave: function (e) {\n            var self = this;\n            self._zoneDragDropInit(e);\n            if (self.isDisabled) {\n                return;\n            }\n            self.$dropZone.removeClass('file-highlighted');\n        },\n        _zoneDrop: function (e) {\n            var self = this;\n            e.preventDefault();\n            /** @namespace e.originalEvent.dataTransfer */\n            if (self.isDisabled || $h.isEmpty(e.originalEvent.dataTransfer.files)) {\n                return;\n            }\n            self._change(e, 'dragdrop');\n            self.$dropZone.removeClass('file-highlighted');\n        },\n        _uploadClick: function (e) {\n            var self = this, $btn = self.$container.find('.fileinput-upload'), $form,\n                isEnabled = !$btn.hasClass('disabled') && $h.isEmpty($btn.attr('disabled'));\n            if (e && e.isDefaultPrevented()) {\n                return;\n            }\n            if (!self.isAjaxUpload) {\n                if (isEnabled && $btn.attr('type') !== 'submit') {\n                    $form = $btn.closest('form');\n                    // downgrade to normal form submit if possible\n                    if ($form.length) {\n                        $form.trigger('submit');\n                    }\n                    e.preventDefault();\n                }\n                return;\n            }\n            e.preventDefault();\n            if (isEnabled) {\n                self.upload();\n            }\n        },\n        _submitForm: function () {\n            var self = this;\n            return self._isFileSelectionValid() && !self._abort({});\n        },\n        _clearPreview: function () {\n            var self = this, $p = self.$preview,\n                $thumbs = self.showUploadedThumbs ? self.getFrames(':not(.file-preview-success)') : self.getFrames();\n            $thumbs.each(function () {\n                var $thumb = $(this);\n                $thumb.remove();\n                $h.cleanZoomCache($p.find('#zoom-' + $thumb.attr('id')));\n            });\n            if (!self.getFrames().length || !self.showPreview) {\n                self._resetUpload();\n            }\n            self._validateDefaultPreview();\n        },\n        _initSortable: function () {\n            var self = this, $el = self.$preview, settings, selector = '.' + $h.SORT_CSS;\n            if (!window.KvSortable || $el.find(selector).length === 0) {\n                return;\n            }\n            //noinspection JSUnusedGlobalSymbols\n            settings = {\n                handle: '.drag-handle-init',\n                dataIdAttr: 'data-preview-id',\n                scroll: false,\n                draggable: selector,\n                onSort: function (e) {\n                    var oldIndex = e.oldIndex, newIndex = e.newIndex, $frame, $dragEl;\n                    self.initialPreview = $h.moveArray(self.initialPreview, oldIndex, newIndex);\n                    self.initialPreviewConfig = $h.moveArray(self.initialPreviewConfig, oldIndex, newIndex);\n                    self.previewCache.init();\n                    for (var i = 0; i < self.initialPreviewConfig.length; i++) {\n                        if (self.initialPreviewConfig[i] !== null) {\n                            $dragEl = $(e.item);\n                            $frame = $dragEl.closest($h.FRAMES);\n                            $frame.attr('data-fileindex', 'init_' + i).attr('data-fileindex', 'init_' + i);\n                        }\n                    }\n                    self._raise('filesorted', {\n                        previewId: $(e.item).attr('id'),\n                        'oldIndex': oldIndex,\n                        'newIndex': newIndex,\n                        stack: self.initialPreviewConfig\n                    });\n                }\n            };\n            if ($el.data('kvsortable')) {\n                $el.kvsortable('destroy');\n            }\n            $.extend(true, settings, self.fileActionSettings.dragSettings);\n            $el.kvsortable(settings);\n        },\n        _setPreviewContent: function (content) {\n            var self = this;\n            self.$preview.html(content);\n            self._autoFitContent();\n        },\n        _initPreview: function (isInit) {\n            var self = this, cap = self.initialCaption || '', out;\n            if (!self.previewCache.count()) {\n                self._clearPreview();\n                if (isInit) {\n                    self._setCaption(cap);\n                } else {\n                    self._initCaption();\n                }\n                return;\n            }\n            out = self.previewCache.out();\n            cap = isInit && self.initialCaption ? self.initialCaption : out.caption;\n            self._setPreviewContent(out.content);\n            self._setInitThumbAttr();\n            self._setCaption(cap);\n            self._initSortable();\n            if (!$h.isEmpty(out.content)) {\n                self.$container.removeClass('file-input-new');\n            }\n        },\n        _getZoomButton: function (type) {\n            var self = this, label = self.previewZoomButtonIcons[type], css = self.previewZoomButtonClasses[type],\n                title = ' title=\"' + (self.previewZoomButtonTitles[type] || '') + '\" ',\n                params = title + (type === 'close' ? ' data-dismiss=\"modal\" aria-hidden=\"true\"' : '');\n            if (type === 'fullscreen' || type === 'borderless' || type === 'toggleheader') {\n                params += ' data-toggle=\"button\" aria-pressed=\"false\" autocomplete=\"off\"';\n            }\n            return '<button type=\"button\" class=\"' + css + ' btn-' + type + '\"' + params + '>' + label + '</button>';\n        },\n        _getModalContent: function () {\n            var self = this;\n            return self._getLayoutTemplate('modal').setTokens({\n                'rtl': self.rtl ? ' kv-rtl' : '',\n                'zoomFrameClass': self.frameClass,\n                'heading': self.msgZoomModalHeading,\n                'prev': self._getZoomButton('prev'),\n                'next': self._getZoomButton('next'),\n                'toggleheader': self._getZoomButton('toggleheader'),\n                'fullscreen': self._getZoomButton('fullscreen'),\n                'borderless': self._getZoomButton('borderless'),\n                'close': self._getZoomButton('close')\n            });\n        },\n        _listenModalEvent: function (event) {\n            var self = this, $modal = self.$modal, getParams = function (e) {\n                return {\n                    sourceEvent: e,\n                    previewId: $modal.data('previewId'),\n                    modal: $modal\n                };\n            };\n            $modal.on(event + '.bs.modal', function (e) {\n                var $btnFull = $modal.find('.btn-fullscreen'), $btnBord = $modal.find('.btn-borderless');\n                self._raise('filezoom' + event, getParams(e));\n                if (event === 'shown') {\n                    $btnBord.removeClass('active').attr('aria-pressed', 'false');\n                    $btnFull.removeClass('active').attr('aria-pressed', 'false');\n                    if ($modal.hasClass('file-zoom-fullscreen')) {\n                        self._maximizeZoomDialog();\n                        if ($h.checkFullScreen()) {\n                            $btnFull.addClass('active').attr('aria-pressed', 'true');\n                        } else {\n                            $btnBord.addClass('active').attr('aria-pressed', 'true');\n                        }\n                    }\n                }\n            });\n        },\n        _initZoom: function () {\n            var self = this, $dialog, modalMain = self._getLayoutTemplate('modalMain'), modalId = '#' + $h.MODAL_ID;\n            if (!self.showPreview) {\n                return;\n            }\n            self.$modal = $(modalId);\n            if (!self.$modal || !self.$modal.length) {\n                $dialog = $(document.createElement('div')).html(modalMain).insertAfter(self.$container);\n                self.$modal = $(modalId).insertBefore($dialog);\n                $dialog.remove();\n            }\n            $h.initModal(self.$modal);\n            self.$modal.html(self._getModalContent());\n            $.each($h.MODAL_EVENTS, function (key, event) {\n                self._listenModalEvent(event);\n            });\n        },\n        _initZoomButtons: function () {\n            var self = this, previewId = self.$modal.data('previewId') || '', $first, $last,\n                thumbs = self.getFrames().toArray(), len = thumbs.length, $prev = self.$modal.find('.btn-prev'),\n                $next = self.$modal.find('.btn-next');\n            if (thumbs.length < 2) {\n                $prev.hide();\n                $next.hide();\n                return;\n            } else {\n                $prev.show();\n                $next.show();\n            }\n            if (!len) {\n                return;\n            }\n            $first = $(thumbs[0]);\n            $last = $(thumbs[len - 1]);\n            $prev.removeAttr('disabled');\n            $next.removeAttr('disabled');\n            if ($first.length && $first.attr('id') === previewId) {\n                $prev.attr('disabled', true);\n            }\n            if ($last.length && $last.attr('id') === previewId) {\n                $next.attr('disabled', true);\n            }\n        },\n        _maximizeZoomDialog: function () {\n            var self = this, $modal = self.$modal, $head = $modal.find('.modal-header:visible'),\n                $foot = $modal.find('.modal-footer:visible'), $body = $modal.find('.modal-body'),\n                h = $(window).height(), diff = 0;\n            $modal.addClass('file-zoom-fullscreen');\n            if ($head && $head.length) {\n                h -= $head.outerHeight(true);\n            }\n            if ($foot && $foot.length) {\n                h -= $foot.outerHeight(true);\n            }\n            if ($body && $body.length) {\n                diff = $body.outerHeight(true) - $body.height();\n                h -= diff;\n            }\n            $modal.find('.kv-zoom-body').height(h);\n        },\n        _resizeZoomDialog: function (fullScreen) {\n            var self = this, $modal = self.$modal, $btnFull = $modal.find('.btn-fullscreen'),\n                $btnBord = $modal.find('.btn-borderless');\n            if ($modal.hasClass('file-zoom-fullscreen')) {\n                $h.toggleFullScreen(false);\n                if (!fullScreen) {\n                    if (!$btnFull.hasClass('active')) {\n                        $modal.removeClass('file-zoom-fullscreen');\n                        self.$modal.find('.kv-zoom-body').css('height', self.zoomModalHeight);\n                    } else {\n                        $btnFull.removeClass('active').attr('aria-pressed', 'false');\n                    }\n                } else {\n                    if (!$btnFull.hasClass('active')) {\n                        $modal.removeClass('file-zoom-fullscreen');\n                        self._resizeZoomDialog(true);\n                        if ($btnBord.hasClass('active')) {\n                            $btnBord.removeClass('active').attr('aria-pressed', 'false');\n                        }\n                    }\n                }\n            } else {\n                if (!fullScreen) {\n                    self._maximizeZoomDialog();\n                    return;\n                }\n                $h.toggleFullScreen(true);\n            }\n            $modal.focus();\n        },\n        _setZoomContent: function ($frame, animate) {\n            var self = this, $content, tmplt, body, title, $body, $dataEl, config, pid = $frame.attr('id'),\n                $modal = self.$modal, $prev = $modal.find('.btn-prev'), $next = $modal.find('.btn-next'), $tmp,\n                $btnFull = $modal.find('.btn-fullscreen'), $btnBord = $modal.find('.btn-borderless'), cap, size,\n                $btnTogh = $modal.find('.btn-toggleheader'), $zoomPreview = self.$preview.find('#zoom-' + pid);\n            tmplt = $zoomPreview.attr('data-template') || 'generic';\n            $content = $zoomPreview.find('.kv-file-content');\n            body = $content.length ? $content.html() : '';\n            cap = $frame.data('caption') || '';\n            size = $frame.data('size') || '';\n            title = cap + ' ' + size;\n            $modal.find('.kv-zoom-title').attr('title', $('<div/>').html(title).text()).html(title);\n            $body = $modal.find('.kv-zoom-body');\n            $modal.removeClass('kv-single-content');\n            if (animate) {\n                $tmp = $body.addClass('file-thumb-loading').clone().insertAfter($body);\n                $body.html(body).hide();\n                $tmp.fadeOut('fast', function () {\n                    $body.fadeIn('fast', function () {\n                        $body.removeClass('file-thumb-loading');\n                    });\n                    $tmp.remove();\n                });\n            } else {\n                $body.html(body);\n            }\n            config = self.previewZoomSettings[tmplt];\n            if (config) {\n                $dataEl = $body.find('.kv-preview-data');\n                $h.addCss($dataEl, 'file-zoom-detail');\n                $.each(config, function (key, value) {\n                    $dataEl.css(key, value);\n                    if (($dataEl.attr('width') && key === 'width') || ($dataEl.attr('height') && key === 'height')) {\n                        $dataEl.removeAttr(key);\n                    }\n                });\n            }\n            $modal.data('previewId', pid);\n            var $img = $body.find('img');\n            if ($img.length) {\n                $h.adjustOrientedImage($img, true);\n            }\n            self._handler($prev, 'click', function () {\n                self._zoomSlideShow('prev', pid);\n            });\n            self._handler($next, 'click', function () {\n                self._zoomSlideShow('next', pid);\n            });\n            self._handler($btnFull, 'click', function () {\n                self._resizeZoomDialog(true);\n            });\n            self._handler($btnBord, 'click', function () {\n                self._resizeZoomDialog(false);\n            });\n            self._handler($btnTogh, 'click', function () {\n                var $header = $modal.find('.modal-header'), $floatBar = $modal.find('.modal-body .floating-buttons'),\n                    ht, $actions = $header.find('.kv-zoom-actions'), resize = function (height) {\n                        var $body = self.$modal.find('.kv-zoom-body'), h = self.zoomModalHeight;\n                        if ($modal.hasClass('file-zoom-fullscreen')) {\n                            h = $body.outerHeight(true);\n                            if (!height) {\n                                h = h - $header.outerHeight(true);\n                            }\n                        }\n                        $body.css('height', height ? h + height : h);\n                    };\n                if ($header.is(':visible')) {\n                    ht = $header.outerHeight(true);\n                    $header.slideUp('slow', function () {\n                        $actions.find('.btn').appendTo($floatBar);\n                        resize(ht);\n                    });\n                } else {\n                    $floatBar.find('.btn').appendTo($actions);\n                    $header.slideDown('slow', function () {\n                        resize();\n                    });\n                }\n                $modal.focus();\n            });\n            self._handler($modal, 'keydown', function (e) {\n                var key = e.which || e.keyCode;\n                if (key === 37 && !$prev.attr('disabled')) {\n                    self._zoomSlideShow('prev', pid);\n                }\n                if (key === 39 && !$next.attr('disabled')) {\n                    self._zoomSlideShow('next', pid);\n                }\n            });\n        },\n        _zoomPreview: function ($btn) {\n            var self = this, $frame, $modal = self.$modal;\n            if (!$btn.length) {\n                throw 'Cannot zoom to detailed preview!';\n            }\n            $h.initModal($modal);\n            $modal.html(self._getModalContent());\n            $frame = $btn.closest($h.FRAMES);\n            self._setZoomContent($frame);\n            $modal.modal('show');\n            self._initZoomButtons();\n        },\n        _zoomSlideShow: function (dir, previewId) {\n            var self = this, $btn = self.$modal.find('.kv-zoom-actions .btn-' + dir), $targFrame, i,\n                thumbs = self.getFrames().toArray(), len = thumbs.length, out;\n            if ($btn.attr('disabled')) {\n                return;\n            }\n            for (i = 0; i < len; i++) {\n                if ($(thumbs[i]).attr('id') === previewId) {\n                    out = dir === 'prev' ? i - 1 : i + 1;\n                    break;\n                }\n            }\n            if (out < 0 || out >= len || !thumbs[out]) {\n                return;\n            }\n            $targFrame = $(thumbs[out]);\n            if ($targFrame.length) {\n                self._setZoomContent($targFrame, true);\n            }\n            self._initZoomButtons();\n            self._raise('filezoom' + dir, {'previewId': previewId, modal: self.$modal});\n        },\n        _initZoomButton: function () {\n            var self = this;\n            self.$preview.find('.kv-file-zoom').each(function () {\n                var $el = $(this);\n                self._handler($el, 'click', function () {\n                    self._zoomPreview($el);\n                });\n            });\n        },\n        _clearObjects: function ($el) {\n            $el.find('video audio').each(function () {\n                this.pause();\n                $(this).remove();\n            });\n            $el.find('img object div').each(function () {\n                $(this).remove();\n            });\n        },\n        _clearFileInput: function () {\n            var self = this, $el = self.$element, $srcFrm, $tmpFrm, $tmpEl;\n            self.fileInputCleared = true;\n            if ($h.isEmpty($el.val())) {\n                return;\n            }\n            // Fix for IE ver < 11, that does not clear file inputs. Requires a sequence of steps to prevent IE\n            // crashing but still allow clearing of the file input.\n            if (self.isIE9 || self.isIE10) {\n                $srcFrm = $el.closest('form');\n                $tmpFrm = $(document.createElement('form'));\n                $tmpEl = $(document.createElement('div'));\n                $el.before($tmpEl);\n                if ($srcFrm.length) {\n                    $srcFrm.after($tmpFrm);\n                } else {\n                    $tmpEl.after($tmpFrm);\n                }\n                $tmpFrm.append($el).trigger('reset');\n                $tmpEl.before($el).remove();\n                $tmpFrm.remove();\n            } else { // normal input clear behavior for other sane browsers\n                $el.val('');\n            }\n        },\n        _resetUpload: function () {\n            var self = this;\n            self.uploadCache = {content: [], config: [], tags: [], append: true};\n            self.uploadCount = 0;\n            self.uploadStatus = {};\n            self.uploadLog = [];\n            self.uploadAsyncCount = 0;\n            self.loadedImages = [];\n            self.totalImagesCount = 0;\n            self.$btnUpload.removeAttr('disabled');\n            self._setProgress(0);\n            self.$progress.hide();\n            self._resetErrors(false);\n            self.ajaxAborted = false;\n            self.ajaxRequests = [];\n            self._resetCanvas();\n            self.cacheInitialPreview = {};\n            if (self.overwriteInitial) {\n                self.initialPreview = [];\n                self.initialPreviewConfig = [];\n                self.initialPreviewThumbTags = [];\n                self.previewCache.data = {\n                    content: [],\n                    config: [],\n                    tags: []\n                };\n            }\n        },\n        _resetCanvas: function () {\n            var self = this;\n            if (self.canvas && self.imageCanvasContext) {\n                self.imageCanvasContext.clearRect(0, 0, self.canvas.width, self.canvas.height);\n            }\n        },\n        _hasInitialPreview: function () {\n            var self = this;\n            return !self.overwriteInitial && self.previewCache.count();\n        },\n        _resetPreview: function () {\n            var self = this, out, cap;\n            if (self.previewCache.count()) {\n                out = self.previewCache.out();\n                self._setPreviewContent(out.content);\n                self._setInitThumbAttr();\n                cap = self.initialCaption ? self.initialCaption : out.caption;\n                self._setCaption(cap);\n            } else {\n                self._clearPreview();\n                self._initCaption();\n            }\n            if (self.showPreview) {\n                self._initZoom();\n                self._initSortable();\n            }\n        },\n        _clearDefaultPreview: function () {\n            var self = this;\n            self.$preview.find('.file-default-preview').remove();\n        },\n        _validateDefaultPreview: function () {\n            var self = this;\n            if (!self.showPreview || $h.isEmpty(self.defaultPreviewContent)) {\n                return;\n            }\n            self._setPreviewContent('<div class=\"file-default-preview\">' + self.defaultPreviewContent + '</div>');\n            self.$container.removeClass('file-input-new');\n            self._initClickable();\n        },\n        _resetPreviewThumbs: function (isAjax) {\n            var self = this, out;\n            if (isAjax) {\n                self._clearPreview();\n                self.clearStack();\n                return;\n            }\n            if (self._hasInitialPreview()) {\n                out = self.previewCache.out();\n                self._setPreviewContent(out.content);\n                self._setInitThumbAttr();\n                self._setCaption(out.caption);\n                self._initPreviewActions();\n            } else {\n                self._clearPreview();\n            }\n        },\n        _getLayoutTemplate: function (t) {\n            var self = this, template = self.layoutTemplates[t];\n            if ($h.isEmpty(self.customLayoutTags)) {\n                return template;\n            }\n            return $h.replaceTags(template, self.customLayoutTags);\n        },\n        _getPreviewTemplate: function (t) {\n            var self = this, template = self.previewTemplates[t];\n            if ($h.isEmpty(self.customPreviewTags)) {\n                return template;\n            }\n            return $h.replaceTags(template, self.customPreviewTags);\n        },\n        _getOutData: function (jqXHR, responseData, filesData) {\n            var self = this;\n            jqXHR = jqXHR || {};\n            responseData = responseData || {};\n            filesData = filesData || self.filestack.slice(0) || {};\n            return {\n                form: self.formdata,\n                files: filesData,\n                filenames: self.filenames,\n                filescount: self.getFilesCount(),\n                extra: self._getExtraData(),\n                response: responseData,\n                reader: self.reader,\n                jqXHR: jqXHR\n            };\n        },\n        _getMsgSelected: function (n) {\n            var self = this, strFiles = n === 1 ? self.fileSingle : self.filePlural;\n            return n > 0 ? self.msgSelected.replace('{n}', n).replace('{files}', strFiles) : self.msgNoFilesSelected;\n        },\n        _getFrame: function (id) {\n            var self = this, $frame = $('#' + id);\n            if (!$frame.length) {\n                self._log('Invalid thumb frame with id: \"' + id + '\".');\n                return null;\n            }\n            return $frame;\n        },\n        _getThumbs: function (css) {\n            css = css || '';\n            return this.getFrames(':not(.file-preview-initial)' + css);\n        },\n        _getExtraData: function (previewId, index) {\n            var self = this, data = self.uploadExtraData;\n            if (typeof self.uploadExtraData === \"function\") {\n                data = self.uploadExtraData(previewId, index);\n            }\n            return data;\n        },\n        _initXhr: function (xhrobj, previewId, fileCount) {\n            var self = this;\n            if (xhrobj.upload) {\n                xhrobj.upload.addEventListener('progress', function (event) {\n                    var pct = 0, total = event.total, position = event.loaded || event.position;\n                    /** @namespace event.lengthComputable */\n                    if (event.lengthComputable) {\n                        pct = Math.floor(position / total * 100);\n                    }\n                    if (previewId) {\n                        self._setAsyncUploadStatus(previewId, pct, fileCount);\n                    } else {\n                        self._setProgress(pct);\n                    }\n                }, false);\n            }\n            return xhrobj;\n        },\n        _mergeAjaxCallback: function (funcName, srcFunc, type) {\n            var self = this, settings = self.ajaxSettings, flag = self.mergeAjaxCallbacks, targFunc;\n            if (type === 'delete') {\n                settings = self.ajaxDeleteSettings;\n                flag = self.mergeAjaxDeleteCallbacks;\n            }\n            targFunc = settings[funcName];\n            if (flag && typeof targFunc === \"function\") {\n                if (flag === 'before') {\n                    settings[funcName] = function () {\n                        targFunc.apply(this, arguments);\n                        srcFunc.apply(this, arguments);\n                    };\n                } else {\n                    settings[funcName] = function () {\n                        srcFunc.apply(this, arguments);\n                        targFunc.apply(this, arguments);\n                    };\n                }\n            } else {\n                settings[funcName] = srcFunc;\n            }\n            if (type === 'delete') {\n                self.ajaxDeleteSettings = settings;\n            } else {\n                self.ajaxSettings = settings;\n            }\n        },\n        _ajaxSubmit: function (fnBefore, fnSuccess, fnComplete, fnError, previewId, index) {\n            var self = this, settings;\n            if (!self._raise('filepreajax', [previewId, index])) {\n                return;\n            }\n            self._uploadExtra(previewId, index);\n            self._mergeAjaxCallback('beforeSend', fnBefore);\n            self._mergeAjaxCallback('success', fnSuccess);\n            self._mergeAjaxCallback('complete', fnComplete);\n            self._mergeAjaxCallback('error', fnError);\n            settings = $.extend(true, {}, {\n                xhr: function () {\n                    var xhrobj = $.ajaxSettings.xhr();\n                    return self._initXhr(xhrobj, previewId, self.getFileStack().length);\n                },\n                url: index && self.uploadUrlThumb ? self.uploadUrlThumb : self.uploadUrl,\n                type: 'POST',\n                // dataType: 'json',\n                data: self.formdata,\n                cache: false,\n                processData: false,\n                contentType: false\n            }, self.ajaxSettings);\n            self.ajaxRequests.push($.ajax(settings));\n        },\n        _mergeArray: function (prop, content) {\n            var self = this, arr1 = $h.cleanArray(self[prop]), arr2 = $h.cleanArray(content);\n            self[prop] = arr1.concat(arr2);\n        },\n        _initUploadSuccess: function (out, $thumb, allFiles) {\n            var self = this, append, data, index, $div, $newCache, content, config, tags, i;\n            if (!self.showPreview || typeof out !== 'object' || $.isEmptyObject(out)) {\n                return;\n            }\n            if (out.initialPreview !== undefined && out.initialPreview.length > 0) {\n                self.hasInitData = true;\n                content = out.initialPreview || [];\n                config = out.initialPreviewConfig || [];\n                tags = out.initialPreviewThumbTags || [];\n                append = out.append === undefined || out.append;\n                if (content.length > 0 && !$h.isArray(content)) {\n                    content = content.split(self.initialPreviewDelimiter);\n                }\n                self._mergeArray('initialPreview', content);\n                self._mergeArray('initialPreviewConfig', config);\n                self._mergeArray('initialPreviewThumbTags', tags);\n                if ($thumb !== undefined) {\n                    if (!allFiles) {\n                        index = self.previewCache.add(content, config[0], tags[0], append);\n                        data = self.previewCache.get(index, false);\n                        $div = $(document.createElement('div')).html(data).hide().insertAfter($thumb);\n                        $newCache = $div.find('.kv-zoom-cache');\n                        if ($newCache && $newCache.length) {\n                            $newCache.insertAfter($thumb);\n                        }\n                        $thumb.fadeOut('slow', function () {\n                            var $newThumb = $div.find('.file-preview-frame');\n                            if ($newThumb && $newThumb.length) {\n                                $newThumb.insertBefore($thumb).fadeIn('slow').css('display:inline-block');\n                            }\n                            self._initPreviewActions();\n                            self._clearFileInput();\n                            $h.cleanZoomCache(self.$preview.find('#zoom-' + $thumb.attr('id')));\n                            $thumb.remove();\n                            $div.remove();\n                            self._initSortable();\n                        });\n                    } else {\n                        i = $thumb.attr('data-fileindex');\n                        self.uploadCache.content[i] = content[0];\n                        self.uploadCache.config[i] = config[0] || [];\n                        self.uploadCache.tags[i] = tags[0] || [];\n                        self.uploadCache.append = append;\n                    }\n                } else {\n                    self.previewCache.set(content, config, tags, append);\n                    self._initPreview();\n                    self._initPreviewActions();\n                }\n            }\n        },\n        _initSuccessThumbs: function () {\n            var self = this;\n            if (!self.showPreview) {\n                return;\n            }\n            self._getThumbs($h.FRAMES + '.file-preview-success').each(function () {\n                var $thumb = $(this), $preview = self.$preview, $remove = $thumb.find('.kv-file-remove');\n                $remove.removeAttr('disabled');\n                self._handler($remove, 'click', function () {\n                    var id = $thumb.attr('id'),\n                        out = self._raise('filesuccessremove', [id, $thumb.attr('data-fileindex')]);\n                    $h.cleanMemory($thumb);\n                    if (out === false) {\n                        return;\n                    }\n                    $thumb.fadeOut('slow', function () {\n                        $h.cleanZoomCache($preview.find('#zoom-' + id));\n                        $thumb.remove();\n                        if (!self.getFrames().length) {\n                            self.reset();\n                        }\n                    });\n                });\n            });\n        },\n        _checkAsyncComplete: function () {\n            var self = this, previewId, i;\n            for (i = 0; i < self.filestack.length; i++) {\n                if (self.filestack[i]) {\n                    previewId = self.previewInitId + \"-\" + i;\n                    if ($.inArray(previewId, self.uploadLog) === -1) {\n                        return false;\n                    }\n                }\n            }\n            return (self.uploadAsyncCount === self.uploadLog.length);\n        },\n        _uploadExtra: function (previewId, index) {\n            var self = this, data = self._getExtraData(previewId, index);\n            if (data.length === 0) {\n                return;\n            }\n            $.each(data, function (key, value) {\n                self.formdata.append(key, value);\n            });\n        },\n        _uploadSingle: function (i, isBatch) {\n            var self = this, total = self.getFileStack().length, formdata = new FormData(), outData,\n                previewId = self.previewInitId + \"-\" + i, $thumb, chkComplete, $btnUpload, $btnDelete,\n                hasPostData = self.filestack.length > 0 || !$.isEmptyObject(self.uploadExtraData), uploadFailed,\n                $prog = $('#' + previewId).find('.file-thumb-progress'), fnBefore, fnSuccess, fnComplete, fnError,\n                updateUploadLog, params = {id: previewId, index: i};\n            self.formdata = formdata;\n            if (self.showPreview) {\n                $thumb = $('#' + previewId + ':not(.file-preview-initial)');\n                $btnUpload = $thumb.find('.kv-file-upload');\n                $btnDelete = $thumb.find('.kv-file-remove');\n                $prog.show();\n            }\n            if (total === 0 || !hasPostData || ($btnUpload && $btnUpload.hasClass('disabled')) || self._abort(params)) {\n                return;\n            }\n            updateUploadLog = function (i, previewId) {\n                if (!uploadFailed) {\n                    self.updateStack(i, undefined);\n                }\n                self.uploadLog.push(previewId);\n                if (self._checkAsyncComplete()) {\n                    self.fileBatchCompleted = true;\n                }\n            };\n            chkComplete = function () {\n                var u = self.uploadCache, $initThumbs, i, j, len = 0, data = self.cacheInitialPreview;\n                if (!self.fileBatchCompleted) {\n                    return;\n                }\n                if (data && data.content) {\n                    len = data.content.length;\n                }\n                setTimeout(function () {\n                    var triggerReset = self.getFileStack(true).length === 0;\n                    if (self.showPreview) {\n                        self.previewCache.set(u.content, u.config, u.tags, u.append);\n                        if (len) {\n                            for (i = 0; i < u.content.length; i++) {\n                                j = i + len;\n                                data.content[j] = u.content[i];\n                                //noinspection JSUnresolvedVariable\n                                if (data.config.length) {\n                                    data.config[j] = u.config[i];\n                                }\n                                if (data.tags.length) {\n                                    data.tags[j] = u.tags[i];\n                                }\n                            }\n                            self.initialPreview = $h.cleanArray(data.content);\n                            self.initialPreviewConfig = $h.cleanArray(data.config);\n                            self.initialPreviewThumbTags = $h.cleanArray(data.tags);\n                        } else {\n                            self.initialPreview = u.content;\n                            self.initialPreviewConfig = u.config;\n                            self.initialPreviewThumbTags = u.tags;\n                        }\n                        self.cacheInitialPreview = {};\n                        if (self.hasInitData) {\n                            self._initPreview();\n                            self._initPreviewActions();\n                        }\n                    }\n                    self.unlock(triggerReset);\n                    if (triggerReset) {\n                        self._clearFileInput();\n                    }\n                    $initThumbs = self.$preview.find('.file-preview-initial');\n                    if (self.uploadAsync && $initThumbs.length) {\n                        $h.addCss($initThumbs, $h.SORT_CSS);\n                        self._initSortable();\n                    }\n                    self._raise('filebatchuploadcomplete', [self.filestack, self._getExtraData()]);\n                    self.uploadCount = 0;\n                    self.uploadStatus = {};\n                    self.uploadLog = [];\n                    self._setProgress(101);\n                    self.ajaxAborted = false;\n                }, 100);\n            };\n            fnBefore = function (jqXHR) {\n                outData = self._getOutData(jqXHR);\n                self.fileBatchCompleted = false;\n                if (!isBatch) {\n                    self.ajaxAborted = false;\n                }\n                if (self.showPreview) {\n                    if (!$thumb.hasClass('file-preview-success')) {\n                        self._setThumbStatus($thumb, 'Loading');\n                        $h.addCss($thumb, 'file-uploading');\n                    }\n                    $btnUpload.attr('disabled', true);\n                    $btnDelete.attr('disabled', true);\n                }\n                if (!isBatch) {\n                    self.lock();\n                }\n                self._raise('filepreupload', [outData, previewId, i]);\n                $.extend(true, params, outData);\n                if (self._abort(params)) {\n                    jqXHR.abort();\n                    if (!isBatch) {\n                        self._setThumbStatus($thumb, 'New');\n                        $thumb.removeClass('file-uploading');\n                        $btnUpload.removeAttr('disabled');\n                        $btnDelete.removeAttr('disabled');\n                        self.unlock();\n                    }\n                    self._setProgressCancelled();\n                }\n            };\n            fnSuccess = function (data, textStatus, jqXHR) {\n                var pid = self.showPreview && $thumb.attr('id') ? $thumb.attr('id') : previewId;\n                outData = self._getOutData(jqXHR, data);\n                $.extend(true, params, outData);\n                setTimeout(function () {\n                    if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n                        if (self.showPreview) {\n                            self._setThumbStatus($thumb, 'Success');\n                            $btnUpload.hide();\n                            self._initUploadSuccess(data, $thumb, isBatch);\n                            self._setProgress(101, $prog);\n                        }\n                        self._raise('fileuploaded', [outData, pid, i]);\n                        if (!isBatch) {\n                            self.updateStack(i, undefined);\n                        } else {\n                            updateUploadLog(i, pid);\n                        }\n                    } else {\n                        uploadFailed = true;\n                        self._showUploadError(data.error, params);\n                        self._setPreviewError($thumb, i, self.filestack[i], self.retryErrorUploads);\n                        if (!self.retryErrorUploads) {\n                            $btnUpload.hide();\n                        }\n                        if (isBatch) {\n                            updateUploadLog(i, pid);\n                        }\n                        self._setProgress(101, $('#' + pid).find('.file-thumb-progress'), self.msgUploadError);\n                    }\n                }, 100);\n            };\n            fnComplete = function () {\n                setTimeout(function () {\n                    if (self.showPreview) {\n                        $btnUpload.removeAttr('disabled');\n                        $btnDelete.removeAttr('disabled');\n                        $thumb.removeClass('file-uploading');\n                    }\n                    if (!isBatch) {\n                        self.unlock(false);\n                        self._clearFileInput();\n                    } else {\n                        chkComplete();\n                    }\n                    self._initSuccessThumbs();\n                }, 100);\n            };\n            fnError = function (jqXHR, textStatus, errorThrown) {\n                var op = self.ajaxOperations.uploadThumb,\n                    errMsg = self._parseError(op, jqXHR, errorThrown, (isBatch && self.filestack[i].name ? self.filestack[i].name : null));\n                uploadFailed = true;\n                setTimeout(function () {\n                    if (isBatch) {\n                        updateUploadLog(i, previewId);\n                    }\n                    self.uploadStatus[previewId] = 100;\n                    self._setPreviewError($thumb, i, self.filestack[i], self.retryErrorUploads);\n                    if (!self.retryErrorUploads) {\n                        $btnUpload.hide();\n                    }\n                    $.extend(true, params, self._getOutData(jqXHR));\n                    self._setProgress(101, $prog, self.msgAjaxProgressError.replace('{operation}', op));\n                    self._setProgress(101, $('#' + previewId).find('.file-thumb-progress'), self.msgUploadError);\n                    self._showUploadError(errMsg, params);\n                }, 100);\n            };\n            formdata.append(self.uploadFileAttr, self.filestack[i], self.filenames[i]);\n            formdata.append('file_id', i);\n            self._ajaxSubmit(fnBefore, fnSuccess, fnComplete, fnError, previewId, i);\n        },\n        _uploadBatch: function () {\n            var self = this, files = self.filestack, total = files.length, params = {}, fnBefore, fnSuccess, fnError,\n                fnComplete, hasPostData = self.filestack.length > 0 || !$.isEmptyObject(self.uploadExtraData),\n                setAllUploaded;\n            self.formdata = new FormData();\n            if (total === 0 || !hasPostData || self._abort(params)) {\n                return;\n            }\n            setAllUploaded = function () {\n                $.each(files, function (key) {\n                    self.updateStack(key, undefined);\n                });\n                self._clearFileInput();\n            };\n            fnBefore = function (jqXHR) {\n                self.lock();\n                var outData = self._getOutData(jqXHR);\n                self.ajaxAborted = false;\n                if (self.showPreview) {\n                    self._getThumbs().each(function () {\n                        var $thumb = $(this), $btnUpload = $thumb.find('.kv-file-upload'),\n                            $btnDelete = $thumb.find('.kv-file-remove');\n                        if (!$thumb.hasClass('file-preview-success')) {\n                            self._setThumbStatus($thumb, 'Loading');\n                            $h.addCss($thumb, 'file-uploading');\n                        }\n                        $btnUpload.attr('disabled', true);\n                        $btnDelete.attr('disabled', true);\n                    });\n                }\n                self._raise('filebatchpreupload', [outData]);\n                if (self._abort(outData)) {\n                    jqXHR.abort();\n                    self._getThumbs().each(function () {\n                        var $thumb = $(this), $btnUpload = $thumb.find('.kv-file-upload'),\n                            $btnDelete = $thumb.find('.kv-file-remove');\n                        if ($thumb.hasClass('file-preview-loading')) {\n                            self._setThumbStatus($thumb, 'New');\n                            $thumb.removeClass('file-uploading');\n                        }\n                        $btnUpload.removeAttr('disabled');\n                        $btnDelete.removeAttr('disabled');\n                    });\n                    self._setProgressCancelled();\n                }\n            };\n            fnSuccess = function (data, textStatus, jqXHR) {\n                /** @namespace data.errorkeys */\n                var outData = self._getOutData(jqXHR, data), key = 0,\n                    $thumbs = self._getThumbs(':not(.file-preview-success)'),\n                    keys = $h.isEmpty(data) || $h.isEmpty(data.errorkeys) ? [] : data.errorkeys;\n\n                if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n                    self._raise('filebatchuploadsuccess', [outData]);\n                    setAllUploaded();\n                    if (self.showPreview) {\n                        $thumbs.each(function () {\n                            var $thumb = $(this);\n                            self._setThumbStatus($thumb, 'Success');\n                            $thumb.removeClass('file-uploading');\n                            $thumb.find('.kv-file-upload').hide().removeAttr('disabled');\n                        });\n                        self._initUploadSuccess(data);\n                    } else {\n                        self.reset();\n                    }\n                    self._setProgress(101);\n                } else {\n                    if (self.showPreview) {\n                        $thumbs.each(function () {\n                            var $thumb = $(this), i = $thumb.attr('data-fileindex');\n                            $thumb.removeClass('file-uploading');\n                            $thumb.find('.kv-file-upload').removeAttr('disabled');\n                            $thumb.find('.kv-file-remove').removeAttr('disabled');\n                            if (keys.length === 0 || $.inArray(key, keys) !== -1) {\n                                self._setPreviewError($thumb, i, self.filestack[i], self.retryErrorUploads);\n                                if (!self.retryErrorUploads) {\n                                    $thumb.find('.kv-file-upload').hide();\n                                    self.updateStack(i, undefined);\n                                }\n                            } else {\n                                $thumb.find('.kv-file-upload').hide();\n                                self._setThumbStatus($thumb, 'Success');\n                                self.updateStack(i, undefined);\n                            }\n                            if (!$thumb.hasClass('file-preview-error') || self.retryErrorUploads) {\n                                key++;\n                            }\n                        });\n                        self._initUploadSuccess(data);\n                    }\n                    self._showUploadError(data.error, outData, 'filebatchuploaderror');\n                    self._setProgress(101, self.$progress, self.msgUploadError);\n                }\n            };\n            fnComplete = function () {\n                self.unlock();\n                self._initSuccessThumbs();\n                self._clearFileInput();\n                self._raise('filebatchuploadcomplete', [self.filestack, self._getExtraData()]);\n            };\n            fnError = function (jqXHR, textStatus, errorThrown) {\n                var outData = self._getOutData(jqXHR), op = self.ajaxOperations.uploadBatch,\n                    errMsg = self._parseError(op, jqXHR, errorThrown);\n                self._showUploadError(errMsg, outData, 'filebatchuploaderror');\n                self.uploadFileCount = total - 1;\n                if (!self.showPreview) {\n                    return;\n                }\n                self._getThumbs().each(function () {\n                    var $thumb = $(this), key = $thumb.attr('data-fileindex');\n                    $thumb.removeClass('file-uploading');\n                    if (self.filestack[key] !== undefined) {\n                        self._setPreviewError($thumb);\n                    }\n                });\n                self._getThumbs().removeClass('file-uploading');\n                self._getThumbs(' .kv-file-upload').removeAttr('disabled');\n                self._getThumbs(' .kv-file-delete').removeAttr('disabled');\n                self._setProgress(101, self.$progress, self.msgAjaxProgressError.replace('{operation}', op));\n            };\n            $.each(files, function (key, data) {\n                if (!$h.isEmpty(files[key])) {\n                    self.formdata.append(self.uploadFileAttr, data, self.filenames[key]);\n                }\n            });\n            self._ajaxSubmit(fnBefore, fnSuccess, fnComplete, fnError);\n        },\n        _uploadExtraOnly: function () {\n            var self = this, params = {}, fnBefore, fnSuccess, fnComplete, fnError;\n            self.formdata = new FormData();\n            if (self._abort(params)) {\n                return;\n            }\n            fnBefore = function (jqXHR) {\n                self.lock();\n                var outData = self._getOutData(jqXHR);\n                self._raise('filebatchpreupload', [outData]);\n                self._setProgress(50);\n                params.data = outData;\n                params.xhr = jqXHR;\n                if (self._abort(params)) {\n                    jqXHR.abort();\n                    self._setProgressCancelled();\n                }\n            };\n            fnSuccess = function (data, textStatus, jqXHR) {\n                var outData = self._getOutData(jqXHR, data);\n                if ($h.isEmpty(data) || $h.isEmpty(data.error)) {\n                    self._raise('filebatchuploadsuccess', [outData]);\n                    self._clearFileInput();\n                    self._initUploadSuccess(data);\n                    self._setProgress(101);\n                } else {\n                    self._showUploadError(data.error, outData, 'filebatchuploaderror');\n                }\n            };\n            fnComplete = function () {\n                self.unlock();\n                self._clearFileInput();\n                self._raise('filebatchuploadcomplete', [self.filestack, self._getExtraData()]);\n            };\n            fnError = function (jqXHR, textStatus, errorThrown) {\n                var outData = self._getOutData(jqXHR), op = self.ajaxOperations.uploadExtra,\n                    errMsg = self._parseError(op, jqXHR, errorThrown);\n                params.data = outData;\n                self._showUploadError(errMsg, outData, 'filebatchuploaderror');\n                self._setProgress(101, self.$progress, self.msgAjaxProgressError.replace('{operation}', op));\n            };\n            self._ajaxSubmit(fnBefore, fnSuccess, fnComplete, fnError);\n        },\n        _deleteFileIndex: function ($frame) {\n            var self = this, ind = $frame.attr('data-fileindex');\n            if (ind.substring(0, 5) === 'init_') {\n                ind = parseInt(ind.replace('init_', ''));\n                self.initialPreview = $h.spliceArray(self.initialPreview, ind);\n                self.initialPreviewConfig = $h.spliceArray(self.initialPreviewConfig, ind);\n                self.initialPreviewThumbTags = $h.spliceArray(self.initialPreviewThumbTags, ind);\n                self.getFrames().each(function () {\n                    var $nFrame = $(this), nInd = $nFrame.attr('data-fileindex');\n                    if (nInd.substring(0, 5) === 'init_') {\n                        nInd = parseInt(nInd.replace('init_', ''));\n                        if (nInd > ind) {\n                            nInd--;\n                            $nFrame.attr('data-fileindex', 'init_' + nInd);\n                        }\n                    }\n                });\n                if (self.uploadAsync) {\n                    self.cacheInitialPreview = self.getPreview();\n                }\n            }\n        },\n        _initFileActions: function () {\n            var self = this, $preview = self.$preview;\n            if (!self.showPreview) {\n                return;\n            }\n            self._initZoomButton();\n            self.getFrames(' .kv-file-remove').each(function () {\n                var $el = $(this), $frame = $el.closest($h.FRAMES), hasError, id = $frame.attr('id'),\n                    ind = $frame.attr('data-fileindex'), n, cap, status;\n                self._handler($el, 'click', function () {\n                    status = self._raise('filepreremove', [id, ind]);\n                    if (status === false || !self._validateMinCount()) {\n                        return false;\n                    }\n                    hasError = $frame.hasClass('file-preview-error');\n                    $h.cleanMemory($frame);\n                    $frame.fadeOut('slow', function () {\n                        $h.cleanZoomCache($preview.find('#zoom-' + id));\n                        self.updateStack(ind, undefined);\n                        self._clearObjects($frame);\n                        $frame.remove();\n                        if (id && hasError) {\n                            self.$errorContainer.find('li[data-file-id=\"' + id + '\"]').fadeOut('fast', function () {\n                                $(this).remove();\n                                if (!self._errorsExist()) {\n                                    self._resetErrors();\n                                }\n                            });\n                        }\n                        self._clearFileInput();\n                        var filestack = self.getFileStack(true), chk = self.previewCache.count(),\n                            len = filestack.length, hasThumb = self.showPreview && self.getFrames().length;\n                        if (len === 0 && chk === 0 && !hasThumb) {\n                            self.reset();\n                        } else {\n                            n = chk + len;\n                            cap = n > 1 ? self._getMsgSelected(n) : (filestack[0] ? self._getFileNames()[0] : '');\n                            self._setCaption(cap);\n                        }\n                        self._raise('fileremoved', [id, ind]);\n                    });\n                });\n            });\n            self.getFrames(' .kv-file-upload').each(function () {\n                var $el = $(this);\n                self._handler($el, 'click', function () {\n                    var $frame = $el.closest($h.FRAMES), ind = $frame.attr('data-fileindex');\n                    self.$progress.hide();\n                    if ($frame.hasClass('file-preview-error') && !self.retryErrorUploads) {\n                        return;\n                    }\n                    self._uploadSingle(ind, false);\n                });\n            });\n        },\n        _initPreviewActions: function () {\n            var self = this, $preview = self.$preview, deleteExtraData = self.deleteExtraData || {},\n                btnRemove = $h.FRAMES + ' .kv-file-remove', settings = self.fileActionSettings,\n                origClass = settings.removeClass, errClass = settings.removeErrorClass,\n                resetProgress = function () {\n                    var hasFiles = self.isAjaxUpload ? self.previewCache.count() : self.$element.get(0).files.length;\n                    if (!$preview.find($h.FRAMES).length && !hasFiles) {\n                        self._setCaption('');\n                        self.reset();\n                        self.initialCaption = '';\n                    }\n                };\n            self._initZoomButton();\n            $preview.find(btnRemove).each(function () {\n                var $el = $(this), vUrl = $el.data('url') || self.deleteUrl, vKey = $el.data('key'),\n                    fnBefore, fnSuccess, fnError;\n                if ($h.isEmpty(vUrl) || vKey === undefined) {\n                    return;\n                }\n                var $frame = $el.closest($h.FRAMES), cache = self.previewCache.data,\n                    settings, params, index = $frame.attr('data-fileindex'), config, extraData;\n                index = parseInt(index.replace('init_', ''));\n                config = $h.isEmpty(cache.config) && $h.isEmpty(cache.config[index]) ? null : cache.config[index];\n                extraData = $h.isEmpty(config) || $h.isEmpty(config.extra) ? deleteExtraData : config.extra;\n                if (typeof extraData === \"function\") {\n                    extraData = extraData();\n                }\n                params = {id: $el.attr('id'), key: vKey, extra: extraData};\n                fnBefore = function (jqXHR) {\n                    self.ajaxAborted = false;\n                    self._raise('filepredelete', [vKey, jqXHR, extraData]);\n                    if (self._abort()) {\n                        jqXHR.abort();\n                    } else {\n                        $el.removeClass(errClass);\n                        $h.addCss($frame, 'file-uploading');\n                        $h.addCss($el, 'disabled ' + origClass);\n                    }\n                };\n                fnSuccess = function (data, textStatus, jqXHR) {\n                    var n, cap;\n                    if (!$h.isEmpty(data) && !$h.isEmpty(data.error)) {\n                        params.jqXHR = jqXHR;\n                        params.response = data;\n                        self._showError(data.error, params, 'filedeleteerror');\n                        $frame.removeClass('file-uploading');\n                        $el.removeClass('disabled ' + origClass).addClass(errClass);\n                        resetProgress();\n                        return;\n                    }\n                    $frame.removeClass('file-uploading').addClass('file-deleted');\n                    $frame.fadeOut('slow', function () {\n                        index = parseInt(($frame.attr('data-fileindex')).replace('init_', ''));\n                        self.previewCache.unset(index);\n                        n = self.previewCache.count();\n                        cap = n > 0 ? self._getMsgSelected(n) : '';\n                        self._deleteFileIndex($frame);\n                        self._setCaption(cap);\n                        self._raise('filedeleted', [vKey, jqXHR, extraData]);\n                        $h.cleanZoomCache($preview.find('#zoom-' + $frame.attr('id')));\n                        self._clearObjects($frame);\n                        $frame.remove();\n                        resetProgress();\n                    });\n                };\n                fnError = function (jqXHR, textStatus, errorThrown) {\n                    var op = self.ajaxOperations.deleteThumb, errMsg = self._parseError(op, jqXHR, errorThrown);\n                    params.jqXHR = jqXHR;\n                    params.response = {};\n                    self._showError(errMsg, params, 'filedeleteerror');\n                    $frame.removeClass('file-uploading');\n                    $el.removeClass('disabled ' + origClass).addClass(errClass);\n                    resetProgress();\n                };\n                self._mergeAjaxCallback('beforeSend', fnBefore, 'delete');\n                self._mergeAjaxCallback('success', fnSuccess, 'delete');\n                self._mergeAjaxCallback('error', fnError, 'delete');\n                settings = $.extend(true, {}, {\n                    url: vUrl,\n                    type: 'POST',\n                    dataType: 'json',\n                    data: $.extend(true, {}, {key: vKey}, extraData)\n                }, self.ajaxDeleteSettings);\n                self._handler($el, 'click', function () {\n                    if (!self._validateMinCount()) {\n                        return false;\n                    }\n                    self.ajaxAborted = false;\n                    self._raise('filebeforedelete', [vKey, extraData]);\n                    //noinspection JSUnresolvedVariable,JSHint\n                    if (self.ajaxAborted instanceof Promise) {\n                        self.ajaxAborted.then(function (result) {\n                            if (!result) {\n                                $.ajax(settings);\n                            }\n                        });\n                    } else {\n                        if (!self.ajaxAborted) {\n                            $.ajax(settings);\n                        }\n                    }\n                });\n            });\n            self.getFrames(' .kv-file-download').each(function () {\n                var $el = $(this);\n                self._handler($el, 'click', function () {\n                    var a = document.createElement('a');\n                    a.href = $el.attr('data-url');\n                    a.download = $el.attr('data-caption');\n                    a.target = '_blank';\n                    a.click();\n                });\n            });\n        },\n        _hideFileIcon: function () {\n            var self = this;\n            if (self.overwriteInitial) {\n                self.$captionContainer.removeClass('icon-visible');\n            }\n        },\n        _showFileIcon: function () {\n            var self = this;\n            $h.addCss(self.$captionContainer, 'icon-visible');\n        },\n        _getSize: function (bytes) {\n            var self = this, size = parseFloat(bytes), i, func = self.fileSizeGetter, sizes, out;\n            if (!$.isNumeric(bytes) || !$.isNumeric(size)) {\n                return '';\n            }\n            if (typeof func === 'function') {\n                out = func(size);\n            } else {\n                if (size === 0) {\n                    out = '0.00 B';\n                } else {\n                    i = Math.floor(Math.log(size) / Math.log(1024));\n                    sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n                    out = (size / Math.pow(1024, i)).toFixed(2) * 1 + ' ' + sizes[i];\n                }\n            }\n            return self._getLayoutTemplate('size').replace('{sizeText}', out);\n        },\n        _generatePreviewTemplate: function (cat, data, fname, ftype, previewId, isError, size, frameClass, foot, ind, templ) {\n            var self = this, caption = self.slug(fname), prevContent, zoomContent = '', styleAttribs = '',\n                screenW = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n                config = screenW < 400 ? (self.previewSettingsSmall[cat] || self.defaults.previewSettingsSmall[cat]) :\n                    (self.previewSettings[cat] || self.defaults.previewSettings[cat]),\n                footer = foot || self._renderFileFooter(caption, size, 'auto', isError),\n                hasIconSetting = self._getPreviewIcon(fname), typeCss = 'type-default',\n                forcePrevIcon = hasIconSetting && self.preferIconicPreview,\n                forceZoomIcon = hasIconSetting && self.preferIconicZoomPreview, getContent;\n            if (config) {\n                $.each(config, function (key, val) {\n                    styleAttribs += key + ':' + val + ';';\n                });\n            }\n            getContent = function (c, d, zoom, frameCss) {\n                var id = zoom ? 'zoom-' + previewId : previewId, tmplt = self._getPreviewTemplate(c),\n                    css = (frameClass || '') + ' ' + frameCss;\n                if (self.frameClass) {\n                    css = self.frameClass + ' ' + css;\n                }\n                if (zoom) {\n                    css = css.replace(' ' + $h.SORT_CSS, '');\n                }\n                tmplt = self._parseFilePreviewIcon(tmplt, fname);\n                if (c === 'text') {\n                    d = $h.htmlEncode(d);\n                }\n                if (cat === 'object' && !ftype) {\n                    $.each(self.defaults.fileTypeSettings, function (key, func) {\n                        if (key === 'object' || key === 'other') {\n                            return;\n                        }\n                        if (func(fname, ftype)) {\n                            typeCss = 'type-' + key;\n                        }\n                    });\n                }\n                return tmplt.setTokens({\n                    'previewId': id,\n                    'caption': caption,\n                    'frameClass': css,\n                    'type': ftype,\n                    'fileindex': ind,\n                    'typeCss': typeCss,\n                    'footer': footer,\n                    'data': d,\n                    'template': templ || cat,\n                    'style': styleAttribs ? 'style=\"' + styleAttribs + '\"' : ''\n                });\n            };\n            ind = ind || previewId.slice(previewId.lastIndexOf('-') + 1);\n            if (self.fileActionSettings.showZoom) {\n                zoomContent = getContent((forceZoomIcon ? 'other' : cat), data, true, 'kv-zoom-thumb');\n            }\n            zoomContent = '\\n' + self._getLayoutTemplate('zoomCache').replace('{zoomContent}', zoomContent);\n            prevContent = getContent((forcePrevIcon ? 'other' : cat), data, false, 'kv-preview-thumb');\n            return prevContent + zoomContent;\n        },\n        _previewDefault: function (file, previewId, isDisabled) {\n            var self = this, $preview = self.$preview;\n            if (!self.showPreview) {\n                return;\n            }\n            var fname = file ? file.name : '', ftype = file ? file.type : '', content, size = file.size || 0,\n                caption = self.slug(fname), isError = isDisabled === true && !self.isAjaxUpload,\n                data = $h.objUrl.createObjectURL(file);\n            self._clearDefaultPreview();\n            content = self._generatePreviewTemplate('other', data, fname, ftype, previewId, isError, size);\n            $preview.append(\"\\n\" + content);\n            self._setThumbAttr(previewId, caption, size);\n            if (isDisabled === true && self.isAjaxUpload) {\n                self._setThumbStatus($('#' + previewId), 'Error');\n            }\n        },\n        _previewFile: function (i, file, theFile, previewId, data, fileInfo) {\n            if (!this.showPreview) {\n                return;\n            }\n            var self = this, fname = file ? file.name : '', ftype = fileInfo.type, caption = fileInfo.name,\n                cat = self._parseFileType(ftype, fname), types = self.allowedPreviewTypes, content,\n                mimes = self.allowedPreviewMimeTypes, $preview = self.$preview, fsize = file.size || 0,\n                chkTypes = types && types.indexOf(cat) >= 0, chkMimes = mimes && mimes.indexOf(ftype) !== -1,\n                iData = (cat === 'text' || cat === 'html' || cat === 'image') ? theFile.target.result : data;\n            /** @namespace window.DOMPurify */\n            if (cat === 'html' && self.purifyHtml && window.DOMPurify) {\n                iData = window.DOMPurify.sanitize(iData);\n            }\n            if (chkTypes || chkMimes) {\n                content = self._generatePreviewTemplate(cat, iData, fname, ftype, previewId, false, fsize);\n                self._clearDefaultPreview();\n                $preview.append(\"\\n\" + content);\n                var $img = $preview.find('#' + previewId + ' img');\n                if ($img.length && self.autoOrientImage) {\n                    $h.validateOrientation(file, function (value) {\n                        if (!value) {\n                            self._validateImage(previewId, caption, ftype, fsize, iData);\n                            return;\n                        }\n                        var $zoomImg = $preview.find('#zoom-' + previewId + ' img'), css = 'rotate-' + value;\n                        if (value > 4) {\n                            css += ($img.width() > $img.height() ? ' is-portrait-gt4' : ' is-landscape-gt4');\n                        }\n                        $h.addCss($img, css);\n                        $h.addCss($zoomImg, css);\n                        self._raise('fileimageoriented', {'$img': $img, 'file': file});\n                        self._validateImage(previewId, caption, ftype, fsize, iData);\n                        $h.adjustOrientedImage($img);\n                    });\n                } else {\n                    self._validateImage(previewId, caption, ftype, fsize, iData);\n                }\n            } else {\n                self._previewDefault(file, previewId);\n            }\n            self._setThumbAttr(previewId, caption, fsize);\n            self._initSortable();\n        },\n        _setThumbAttr: function (id, caption, size) {\n            var self = this, $frame = $('#' + id);\n            if ($frame.length) {\n                size = size && size > 0 ? self._getSize(size) : '';\n                $frame.data({'caption': caption, 'size': size});\n            }\n        },\n        _setInitThumbAttr: function () {\n            var self = this, data = self.previewCache.data, len = self.previewCache.count(), config,\n                caption, size, previewId;\n            if (len === 0) {\n                return;\n            }\n            for (var i = 0; i < len; i++) {\n                config = data.config[i];\n                previewId = self.previewInitId + '-' + 'init_' + i;\n                caption = $h.ifSet('caption', config, $h.ifSet('filename', config));\n                size = $h.ifSet('size', config);\n                self._setThumbAttr(previewId, caption, size);\n            }\n        },\n        _slugDefault: function (text) {\n            return $h.isEmpty(text) ? '' : String(text).replace(/[\\[\\]\\/\\{}:;#%=\\(\\)\\*\\+\\?\\\\\\^\\$\\|<>&\"']/g, '_');\n        },\n        _updateFileDetails: function (numFiles) {\n            var self = this, $el = self.$element, fileStack = self.getFileStack(),\n                name = ($h.isIE(9) && $h.findFileName($el.val())) ||\n                    ($el[0].files[0] && $el[0].files[0].name) || (fileStack.length && fileStack[0].name) || '',\n                label = self.slug(name), n = self.isAjaxUpload ? fileStack.length : numFiles,\n                nFiles = self.previewCache.count() + n, log = n === 1 ? label : self._getMsgSelected(nFiles);\n            if (self.isError) {\n                self.$previewContainer.removeClass('file-thumb-loading');\n                self.$previewStatus.html('');\n                self.$captionContainer.removeClass('icon-visible');\n            } else {\n                self._showFileIcon();\n            }\n            self._setCaption(log, self.isError);\n            self.$container.removeClass('file-input-new file-input-ajax-new');\n            if (arguments.length === 1) {\n                self._raise('fileselect', [numFiles, label]);\n            }\n            if (self.previewCache.count()) {\n                self._initPreviewActions();\n            }\n        },\n        _setThumbStatus: function ($thumb, status) {\n            var self = this;\n            if (!self.showPreview) {\n                return;\n            }\n            var icon = 'indicator' + status, msg = icon + 'Title',\n                css = 'file-preview-' + status.toLowerCase(),\n                $indicator = $thumb.find('.file-upload-indicator'),\n                config = self.fileActionSettings;\n            $thumb.removeClass('file-preview-success file-preview-error file-preview-loading');\n            if (status === 'Success') {\n                $thumb.find('.file-drag-handle').remove();\n            }\n            $indicator.html(config[icon]);\n            $indicator.attr('title', config[msg]);\n            $thumb.addClass(css);\n            if (status === 'Error' && !self.retryErrorUploads) {\n                $thumb.find('.kv-file-upload').attr('disabled', true);\n            }\n        },\n        _setProgressCancelled: function () {\n            var self = this;\n            self._setProgress(101, self.$progress, self.msgCancelled);\n        },\n        _setProgress: function (p, $el, error) {\n            var self = this, pct = Math.min(p, 100), out, pctLimit = self.progressUploadThreshold,\n                t = p <= 100 ? self.progressTemplate : self.progressCompleteTemplate,\n                template = pct < 100 ? self.progressTemplate : (error ? self.progressErrorTemplate : t);\n            $el = $el || self.$progress;\n            if (!$h.isEmpty(template)) {\n                if (pctLimit && pct > pctLimit && p <= 100) {\n                    out = template.setTokens({'percent': pctLimit, 'status': self.msgUploadThreshold});\n                } else {\n                    out = template.setTokens({'percent': pct, 'status': (p > 100 ? self.msgUploadEnd : pct + '%')});\n                }\n                $el.html(out);\n                if (error) {\n                    $el.find('[role=\"progressbar\"]').html(error);\n                }\n            }\n        },\n        _setFileDropZoneTitle: function () {\n            var self = this, $zone = self.$container.find('.file-drop-zone'), title = self.dropZoneTitle, strFiles;\n            if (self.isClickable) {\n                strFiles = $h.isEmpty(self.$element.attr('multiple')) ? self.fileSingle : self.filePlural;\n                title += self.dropZoneClickTitle.replace('{files}', strFiles);\n            }\n            $zone.find('.' + self.dropZoneTitleClass).remove();\n            if (!self.isAjaxUpload || !self.showPreview || $zone.length === 0 || self.getFileStack().length > 0 || !self.dropZoneEnabled) {\n                return;\n            }\n            if ($zone.find($h.FRAMES).length === 0 && $h.isEmpty(self.defaultPreviewContent)) {\n                $zone.prepend('<div class=\"' + self.dropZoneTitleClass + '\">' + title + '</div>');\n            }\n            self.$container.removeClass('file-input-new');\n            $h.addCss(self.$container, 'file-input-ajax-new');\n        },\n        _setAsyncUploadStatus: function (previewId, pct, total) {\n            var self = this, sum = 0;\n            self._setProgress(pct, $('#' + previewId).find('.file-thumb-progress'));\n            self.uploadStatus[previewId] = pct;\n            $.each(self.uploadStatus, function (key, value) {\n                sum += value;\n            });\n            self._setProgress(Math.floor(sum / total));\n        },\n        _validateMinCount: function () {\n            var self = this, len = self.isAjaxUpload ? self.getFileStack().length : self.$element.get(0).files.length;\n            if (self.validateInitialCount && self.minFileCount > 0 && self._getFileCount(len - 1) < self.minFileCount) {\n                self._noFilesError({});\n                return false;\n            }\n            return true;\n        },\n        _getFileCount: function (fileCount) {\n            var self = this, addCount = 0;\n            if (self.validateInitialCount && !self.overwriteInitial) {\n                addCount = self.previewCache.count();\n                fileCount += addCount;\n            }\n            return fileCount;\n        },\n        _getFileId: function (file) {\n            var self = this, custom = self.generateFileId, relativePath;\n            if (typeof custom === 'function') {\n                return custom(file, event);\n            }\n            if (!file) {\n                return null;\n            }\n            /** @namespace file.webkitRelativePath */\n            relativePath = String(file.webkitRelativePath || file.fileName || file.name || null);\n            if (!relativePath) {\n                return null;\n            }\n            return (file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, ''));\n        },\n        _getFileName: function (file) {\n            return file && file.name ? this.slug(file.name) : undefined;\n        },\n        _getFileIds: function (skipNull) {\n            var self = this;\n            return self.fileids.filter(function (n) {\n                return (skipNull ? n !== undefined : n !== undefined && n !== null);\n            });\n        },\n        _getFileNames: function (skipNull) {\n            var self = this;\n            return self.filenames.filter(function (n) {\n                return (skipNull ? n !== undefined : n !== undefined && n !== null);\n            });\n        },\n        _setPreviewError: function ($thumb, i, val, repeat) {\n            var self = this;\n            if (i !== undefined) {\n                self.updateStack(i, val);\n            }\n            if (!self.showPreview) {\n                return;\n            }\n            if (self.removeFromPreviewOnError && !repeat) {\n                $thumb.remove();\n                return;\n            } else {\n                self._setThumbStatus($thumb, 'Error');\n            }\n            self._refreshUploadButton($thumb, repeat);\n        },\n        _refreshUploadButton: function ($thumb, repeat) {\n            var self = this, $btn = $thumb.find('.kv-file-upload'), cfg = self.fileActionSettings,\n                icon = cfg.uploadIcon, title = cfg.uploadTitle;\n            if (!$btn.length) {\n                return;\n            }\n            if (repeat) {\n                icon = cfg.uploadRetryIcon;\n                title = cfg.uploadRetryTitle;\n            }\n            $btn.attr('title', title).html(icon);\n        },\n        _checkDimensions: function (i, chk, $img, $thumb, fname, type, params) {\n            var self = this, msg, dim, tag = chk === 'Small' ? 'min' : 'max', limit = self[tag + 'Image' + type],\n                $imgEl, isValid;\n            if ($h.isEmpty(limit) || !$img.length) {\n                return;\n            }\n            $imgEl = $img[0];\n            dim = (type === 'Width') ? $imgEl.naturalWidth || $imgEl.width : $imgEl.naturalHeight || $imgEl.height;\n            isValid = chk === 'Small' ? dim >= limit : dim <= limit;\n            if (isValid) {\n                return;\n            }\n            msg = self['msgImage' + type + chk].setTokens({'name': fname, 'size': limit});\n            self._showUploadError(msg, params);\n            self._setPreviewError($thumb, i, null);\n        },\n        _validateImage: function (previewId, fname, ftype, fsize, iData) {\n            var self = this, $preview = self.$preview, params, w1, w2, $thumb = $preview.find(\"#\" + previewId),\n                i = $thumb.attr('data-fileindex'), $img = $thumb.find('img'), exifObject;\n            fname = fname || 'Untitled';\n            $img.one('load', function () {\n                w1 = $thumb.width();\n                w2 = $preview.width();\n                if (w1 > w2) {\n                    $img.css('width', '100%');\n                }\n                params = {ind: i, id: previewId};\n                self._checkDimensions(i, 'Small', $img, $thumb, fname, 'Width', params);\n                self._checkDimensions(i, 'Small', $img, $thumb, fname, 'Height', params);\n                if (!self.resizeImage) {\n                    self._checkDimensions(i, 'Large', $img, $thumb, fname, 'Width', params);\n                    self._checkDimensions(i, 'Large', $img, $thumb, fname, 'Height', params);\n                }\n                self._raise('fileimageloaded', [previewId]);\n                try {\n                    exifObject = window.piexif ? window.piexif.load(iData) : null;\n                } catch (err) {\n                    exifObject = null;\n                }\n                self.loadedImages.push({\n                    ind: i,\n                    img: $img,\n                    thumb: $thumb,\n                    pid: previewId,\n                    typ: ftype,\n                    siz: fsize,\n                    validated: false,\n                    imgData: iData,\n                    exifObj: exifObject\n                });\n                $thumb.data('exif', exifObject);\n                self._validateAllImages();\n            }).one('error', function () {\n                self._raise('fileimageloaderror', [previewId]);\n            }).each(function () {\n                if (this.complete) {\n                    $(this).trigger('load');\n                } else {\n                    if (this.error) {\n                        $(this).trigger('error');\n                    }\n                }\n            });\n        },\n        _validateAllImages: function () {\n            var self = this, i, counter = {val: 0}, numImgs = self.loadedImages.length, config,\n                fsize, minSize = self.resizeIfSizeMoreThan;\n            if (numImgs !== self.totalImagesCount) {\n                return;\n            }\n            self._raise('fileimagesloaded');\n            if (!self.resizeImage) {\n                return;\n            }\n            for (i = 0; i < self.loadedImages.length; i++) {\n                config = self.loadedImages[i];\n                if (config.validated) {\n                    continue;\n                }\n                fsize = config.siz;\n                if (fsize && fsize > minSize * 1000) {\n                    self._getResizedImage(config, counter, numImgs);\n                }\n                self.loadedImages[i].validated = true;\n            }\n        },\n        _getResizedImage: function (config, counter, numImgs) {\n            var self = this, img = $(config.img)[0], width = img.naturalWidth, height = img.naturalHeight, blob,\n                ratio = 1, maxWidth = self.maxImageWidth || width, maxHeight = self.maxImageHeight || height,\n                isValidImage = !!(width && height), chkWidth, chkHeight, canvas = self.imageCanvas, dataURI,\n                context = self.imageCanvasContext, type = config.typ, pid = config.pid, ind = config.ind,\n                $thumb = config.thumb, throwError, msg, exifObj = config.exifObj, exifStr;\n            throwError = function (msg, params, ev) {\n                if (self.isAjaxUpload) {\n                    self._showUploadError(msg, params, ev);\n                } else {\n                    self._showError(msg, params, ev);\n                }\n                self._setPreviewError($thumb, ind);\n            };\n            if (!self.filestack[ind] || !isValidImage || (width <= maxWidth && height <= maxHeight)) {\n                if (isValidImage && self.filestack[ind]) {\n                    self._raise('fileimageresized', [pid, ind]);\n                }\n                counter.val++;\n                if (counter.val === numImgs) {\n                    self._raise('fileimagesresized');\n                }\n                if (!isValidImage) {\n                    throwError(self.msgImageResizeError, {id: pid, 'index': ind}, 'fileimageresizeerror');\n                    return;\n                }\n            }\n            type = type || self.resizeDefaultImageType;\n            chkWidth = width > maxWidth;\n            chkHeight = height > maxHeight;\n            if (self.resizePreference === 'width') {\n                ratio = chkWidth ? maxWidth / width : (chkHeight ? maxHeight / height : 1);\n            } else {\n                ratio = chkHeight ? maxHeight / height : (chkWidth ? maxWidth / width : 1);\n            }\n            self._resetCanvas();\n            width *= ratio;\n            height *= ratio;\n            canvas.width = width;\n            canvas.height = height;\n            try {\n                context.drawImage(img, 0, 0, width, height);\n                dataURI = canvas.toDataURL(type, self.resizeQuality);\n                if (exifObj) {\n                    exifStr = window.piexif.dump(exifObj);\n                    dataURI = window.piexif.insert(exifStr, dataURI);\n                }\n                blob = $h.dataURI2Blob(dataURI);\n                self.filestack[ind] = blob;\n                self._raise('fileimageresized', [pid, ind]);\n                counter.val++;\n                if (counter.val === numImgs) {\n                    self._raise('fileimagesresized', [undefined, undefined]);\n                }\n                if (!(blob instanceof Blob)) {\n                    throwError(self.msgImageResizeError, {id: pid, 'index': ind}, 'fileimageresizeerror');\n                }\n            }\n            catch (err) {\n                counter.val++;\n                if (counter.val === numImgs) {\n                    self._raise('fileimagesresized', [undefined, undefined]);\n                }\n                msg = self.msgImageResizeException.replace('{errors}', err.message);\n                throwError(msg, {id: pid, 'index': ind}, 'fileimageresizeexception');\n            }\n        },\n        _initBrowse: function ($container) {\n            var self = this;\n            if (self.showBrowse) {\n                self.$btnFile = $container.find('.btn-file');\n                self.$btnFile.append(self.$element);\n            } else {\n                self.$element.hide();\n            }\n        },\n        _initCaption: function () {\n            var self = this, cap = self.initialCaption || '';\n            if (self.overwriteInitial || $h.isEmpty(cap)) {\n                self.$caption.val('');\n                return false;\n            }\n            self._setCaption(cap);\n            return true;\n        },\n        _setCaption: function (content, isError) {\n            var self = this, title, out, icon, n, cap, stack = self.getFileStack();\n            if (!self.$caption.length) {\n                return;\n            }\n            self.$captionContainer.removeClass('icon-visible');\n            if (isError) {\n                title = $('<div>' + self.msgValidationError + '</div>').text();\n                n = stack.length;\n                if (n) {\n                    cap = n === 1 && stack[0] ? self._getFileNames()[0] : self._getMsgSelected(n);\n                } else {\n                    cap = self._getMsgSelected(self.msgNo);\n                }\n                out = $h.isEmpty(content) ? cap : content;\n                icon = '<span class=\"' + self.msgValidationErrorClass + '\">' + self.msgValidationErrorIcon + '</span>';\n            } else {\n                if ($h.isEmpty(content)) {\n                    return;\n                }\n                title = $('<div>' + content + '</div>').text();\n                out = title;\n                icon = self._getLayoutTemplate('fileIcon');\n            }\n            self.$captionContainer.addClass('icon-visible');\n            self.$caption.attr('title', title).val(out);\n            self.$captionIcon.html(icon);\n        },\n        _createContainer: function () {\n            var self = this, attribs = {\"class\": 'file-input file-input-new' + (self.rtl ? ' kv-rtl' : '')},\n                $container = $(document.createElement(\"div\")).attr(attribs).html(self._renderMain());\n            self.$element.before($container);\n            self._initBrowse($container);\n            if (self.theme) {\n                $container.addClass('theme-' + self.theme);\n            }\n            return $container;\n        },\n        _refreshContainer: function () {\n            var self = this, $container = self.$container;\n            $container.before(self.$element);\n            $container.html(self._renderMain());\n            self._initBrowse($container);\n            self._validateDisabled();\n        },\n        _validateDisabled: function () {\n            var self = this;\n            self.$caption.attr({readonly: self.isDisabled});\n        },\n        _renderMain: function () {\n            var self = this,\n                dropCss = (self.isAjaxUpload && self.dropZoneEnabled) ? ' file-drop-zone' : 'file-drop-disabled',\n                close = !self.showClose ? '' : self._getLayoutTemplate('close'),\n                preview = !self.showPreview ? '' : self._getLayoutTemplate('preview')\n                    .setTokens({'class': self.previewClass, 'dropClass': dropCss}),\n                css = self.isDisabled ? self.captionClass + ' file-caption-disabled' : self.captionClass,\n                caption = self.captionTemplate.setTokens({'class': css + ' kv-fileinput-caption'});\n            return self.mainTemplate.setTokens({\n                'class': self.mainClass + (!self.showBrowse && self.showCaption ? ' no-browse' : ''),\n                'preview': preview,\n                'close': close,\n                'caption': caption,\n                'upload': self._renderButton('upload'),\n                'remove': self._renderButton('remove'),\n                'cancel': self._renderButton('cancel'),\n                'browse': self._renderButton('browse')\n            });\n\n        },\n        _renderButton: function (type) {\n            var self = this, tmplt = self._getLayoutTemplate('btnDefault'), css = self[type + 'Class'],\n                title = self[type + 'Title'], icon = self[type + 'Icon'], label = self[type + 'Label'],\n                status = self.isDisabled ? ' disabled' : '', btnType = 'button';\n            switch (type) {\n                case 'remove':\n                    if (!self.showRemove) {\n                        return '';\n                    }\n                    break;\n                case 'cancel':\n                    if (!self.showCancel) {\n                        return '';\n                    }\n                    css += ' kv-hidden';\n                    break;\n                case 'upload':\n                    if (!self.showUpload) {\n                        return '';\n                    }\n                    if (self.isAjaxUpload && !self.isDisabled) {\n                        tmplt = self._getLayoutTemplate('btnLink').replace('{href}', self.uploadUrl);\n                    } else {\n                        btnType = 'submit';\n                    }\n                    break;\n                case 'browse':\n                    if (!self.showBrowse) {\n                        return '';\n                    }\n                    tmplt = self._getLayoutTemplate('btnBrowse');\n                    break;\n                default:\n                    return '';\n            }\n\n            css += type === 'browse' ? ' btn-file' : ' fileinput-' + type + ' fileinput-' + type + '-button';\n            if (!$h.isEmpty(label)) {\n                label = ' <span class=\"' + self.buttonLabelClass + '\">' + label + '</span>';\n            }\n            return tmplt.setTokens({\n                'type': btnType, 'css': css, 'title': title, 'status': status, 'icon': icon, 'label': label\n            });\n        },\n        _renderThumbProgress: function () {\n            var self = this;\n            return '<div class=\"file-thumb-progress kv-hidden\">' +\n                self.progressTemplate.setTokens({'percent': '0', 'status': self.msgUploadBegin}) +\n                '</div>';\n        },\n        _renderFileFooter: function (caption, size, width, isError) {\n            var self = this, config = self.fileActionSettings, rem = config.showRemove, drg = config.showDrag,\n                upl = config.showUpload, zoom = config.showZoom, out,\n                template = self._getLayoutTemplate('footer'), tInd = self._getLayoutTemplate('indicator'),\n                ind = isError ? config.indicatorError : config.indicatorNew,\n                title = isError ? config.indicatorErrorTitle : config.indicatorNewTitle,\n                indicator = tInd.setTokens({'indicator': ind, 'indicatorTitle': title});\n            size = self._getSize(size);\n            if (self.isAjaxUpload) {\n                out = template.setTokens({\n                    'actions': self._renderFileActions(upl, false, rem, zoom, drg, false, false, false),\n                    'caption': caption,\n                    'size': size,\n                    'width': width,\n                    'progress': self._renderThumbProgress(),\n                    'indicator': indicator\n                });\n            } else {\n                out = template.setTokens({\n                    'actions': self._renderFileActions(false, false, false, zoom, drg, false, false, false),\n                    'caption': caption,\n                    'size': size,\n                    'width': width,\n                    'progress': '',\n                    'indicator': indicator\n                });\n            }\n            out = $h.replaceTags(out, self.previewThumbTags);\n            return out;\n        },\n        _renderFileActions: function (showUpl, showDwn, showDel, showZoom, showDrag, disabled, url, key, isInit, dUrl, dFile) {\n            if (!showUpl && !showDwn && !showDel && !showZoom && !showDrag) {\n                return '';\n            }\n            var self = this, vUrl = url === false ? '' : ' data-url=\"' + url + '\"',\n                vKey = key === false ? '' : ' data-key=\"' + key + '\"', btnDelete = '', btnUpload = '', btnDownload = '',\n                btnZoom = '', btnDrag = '', css, template = self._getLayoutTemplate('actions'),\n                config = self.fileActionSettings,\n                otherButtons = self.otherActionButtons.setTokens({'dataKey': vKey, 'key': key}),\n                removeClass = disabled ? config.removeClass + ' disabled' : config.removeClass;\n            if (showDel) {\n                btnDelete = self._getLayoutTemplate('actionDelete').setTokens({\n                    'removeClass': removeClass,\n                    'removeIcon': config.removeIcon,\n                    'removeTitle': config.removeTitle,\n                    'dataUrl': vUrl,\n                    'dataKey': vKey,\n                    'key': key\n                });\n            }\n            if (showUpl) {\n                btnUpload = self._getLayoutTemplate('actionUpload').setTokens({\n                    'uploadClass': config.uploadClass,\n                    'uploadIcon': config.uploadIcon,\n                    'uploadTitle': config.uploadTitle\n                });\n            }\n            if (showDwn) {\n                btnDownload = self._getLayoutTemplate('actionDownload').setTokens({\n                    'downloadClass': config.downloadClass,\n                    'downloadIcon': config.downloadIcon,\n                    'downloadTitle': config.downloadTitle,\n                    'downloadUrl': dUrl || self.initialPreviewDownloadUrl\n                });\n                btnDownload = btnDownload.setTokens({'filename': dFile, 'key': key});\n            }\n            if (showZoom) {\n                btnZoom = self._getLayoutTemplate('actionZoom').setTokens({\n                    'zoomClass': config.zoomClass,\n                    'zoomIcon': config.zoomIcon,\n                    'zoomTitle': config.zoomTitle\n                });\n            }\n            if (showDrag && isInit) {\n                css = 'drag-handle-init ' + config.dragClass;\n                btnDrag = self._getLayoutTemplate('actionDrag').setTokens({\n                    'dragClass': css,\n                    'dragTitle': config.dragTitle,\n                    'dragIcon': config.dragIcon\n                });\n            }\n            return template.setTokens({\n                'delete': btnDelete,\n                'upload': btnUpload,\n                'download': btnDownload,\n                'zoom': btnZoom,\n                'drag': btnDrag,\n                'other': otherButtons\n            });\n        },\n        _browse: function (e) {\n            var self = this;\n            self._raise('filebrowse');\n            if (e && e.isDefaultPrevented()) {\n                return;\n            }\n            if (self.isError && !self.isAjaxUpload) {\n                self.clear();\n            }\n            self.$captionContainer.focus();\n        },\n        _filterDuplicate: function (file, files, fileIds) {\n            var self = this, fileId = self._getFileId(file);\n            if (fileId && fileIds && fileIds.indexOf(fileId) > -1) {\n                return;\n            }\n            if (!fileIds) {\n                fileIds = [];\n            }\n            files.push(file);\n            fileIds.push(fileId);\n        },\n        _change: function (e) {\n            var self = this, $el = self.$element;\n            if (!self.isAjaxUpload && $h.isEmpty($el.val()) && self.fileInputCleared) { // IE 11 fix\n                self.fileInputCleared = false;\n                return;\n            }\n            self.fileInputCleared = false;\n            var tfiles = [], msg, total, isDragDrop = arguments.length > 1, isAjaxUpload = self.isAjaxUpload, n, len,\n                files = isDragDrop ? e.originalEvent.dataTransfer.files : $el.get(0).files, ctr = self.filestack.length,\n                isSingleUpload = $h.isEmpty($el.attr('multiple')), flagSingle = (isSingleUpload && ctr > 0),\n                folders = 0, fileIds = self._getFileIds(), throwError = function (mesg, file, previewId, index) {\n                    var p1 = $.extend(true, {}, self._getOutData({}, {}, files), {id: previewId, index: index}),\n                        p2 = {id: previewId, index: index, file: file, files: files};\n                    return self.isAjaxUpload ? self._showUploadError(mesg, p1) : self._showError(mesg, p2);\n                };\n            self.reader = null;\n            self._resetUpload();\n            self._hideFileIcon();\n            if (self.isAjaxUpload) {\n                self.$container.find('.file-drop-zone .' + self.dropZoneTitleClass).remove();\n            }\n            if (isDragDrop) {\n                $.each(files, function (i, f) {\n                    if (f && !f.type && f.size !== undefined && f.size % 4096 === 0) {\n                        folders++;\n                    } else {\n                        self._filterDuplicate(f, tfiles, fileIds);\n                    }\n                });\n            } else {\n                if (e.target && e.target.files === undefined) {\n                    files = e.target.value ? [{name: e.target.value.replace(/^.+\\\\/, '')}] : [];\n                } else {\n                    files = e.target.files || {};\n                }\n                if (isAjaxUpload) {\n                    $.each(files, function (i, f) {\n                        self._filterDuplicate(f, tfiles, fileIds);\n                    });\n                } else {\n                    tfiles = files;\n                }\n            }\n            if ($h.isEmpty(tfiles) || tfiles.length === 0) {\n                if (!isAjaxUpload) {\n                    self.clear();\n                }\n                self._showFolderError(folders);\n                self._raise('fileselectnone');\n                return;\n            }\n            self._resetErrors();\n            len = tfiles.length;\n            total = self._getFileCount(self.isAjaxUpload ? (self.getFileStack().length + len) : len);\n            if (self.maxFileCount > 0 && total > self.maxFileCount) {\n                if (!self.autoReplace || len > self.maxFileCount) {\n                    n = (self.autoReplace && len > self.maxFileCount) ? len : total;\n                    msg = self.msgFilesTooMany.replace('{m}', self.maxFileCount).replace('{n}', n);\n                    self.isError = throwError(msg, null, null, null);\n                    self.$captionContainer.removeClass('icon-visible');\n                    self._setCaption('', true);\n                    self.$container.removeClass('file-input-new file-input-ajax-new');\n                    return;\n                }\n                if (total > self.maxFileCount) {\n                    self._resetPreviewThumbs(isAjaxUpload);\n                }\n            } else {\n                if (!isAjaxUpload || flagSingle) {\n                    self._resetPreviewThumbs(false);\n                    if (flagSingle) {\n                        self.clearStack();\n                    }\n                } else {\n                    if (isAjaxUpload && ctr === 0 && (!self.previewCache.count() || self.overwriteInitial)) {\n                        self._resetPreviewThumbs(true);\n                    }\n                }\n            }\n            if (self.isPreviewable) {\n                self.readFiles(tfiles);\n            } else {\n                self._updateFileDetails(1);\n            }\n            self._showFolderError(folders);\n        },\n        _abort: function (params) {\n            var self = this, data;\n            if (self.ajaxAborted && typeof self.ajaxAborted === \"object\" && self.ajaxAborted.message !== undefined) {\n                data = $.extend(true, {}, self._getOutData(), params);\n                data.abortData = self.ajaxAborted.data || {};\n                data.abortMessage = self.ajaxAborted.message;\n                self._setProgress(101, self.$progress, self.msgCancelled);\n                self._showUploadError(self.ajaxAborted.message, data, 'filecustomerror');\n                self.cancel();\n                return true;\n            }\n            return !!self.ajaxAborted;\n        },\n        _resetFileStack: function () {\n            var self = this, i = 0, newstack = [], newnames = [], newids = [];\n            self._getThumbs().each(function () {\n                var $thumb = $(this), ind = $thumb.attr('data-fileindex'), file = self.filestack[ind],\n                    pid = $thumb.attr('id'), newId;\n                if (ind === '-1' || ind === -1) {\n                    return;\n                }\n                if (file !== undefined) {\n                    newstack[i] = file;\n                    newnames[i] = self._getFileName(file);\n                    newids[i] = self._getFileId(file);\n                    $thumb.attr({'id': self.previewInitId + '-' + i, 'data-fileindex': i});\n                    i++;\n                } else {\n                    newId = 'uploaded-' + $h.uniqId();\n                    $thumb.attr({'id': newId, 'data-fileindex': '-1'});\n                    self.$preview.find('#zoom-' + pid).attr('id', 'zoom-' + newId);\n                }\n            });\n            self.filestack = newstack;\n            self.filenames = newnames;\n            self.fileids = newids;\n        },\n        _isFileSelectionValid: function (cnt) {\n            var self = this;\n            cnt = cnt || 0;\n            if (self.required && !self.getFilesCount()) {\n                self.$errorContainer.html('');\n                self._showUploadError(self.msgFileRequired);\n                return false;\n            }\n            if (self.minFileCount > 0 && self._getFileCount(cnt) < self.minFileCount) {\n                self._noFilesError({});\n                return false;\n            }\n            return true;\n        },\n        clearStack: function () {\n            var self = this;\n            self.filestack = [];\n            self.filenames = [];\n            self.fileids = [];\n            return self.$element;\n        },\n        updateStack: function (i, file) {\n            var self = this;\n            self.filestack[i] = file;\n            self.filenames[i] = self._getFileName(file);\n            self.fileids[i] = file && self._getFileId(file) || null;\n            return self.$element;\n        },\n        addToStack: function (file) {\n            var self = this;\n            self.filestack.push(file);\n            self.filenames.push(self._getFileName(file));\n            self.fileids.push(self._getFileId(file));\n            return self.$element;\n        },\n        getFileStack: function (skipNull) {\n            var self = this;\n            return self.filestack.filter(function (n) {\n                return (skipNull ? n !== undefined : n !== undefined && n !== null);\n            });\n        },\n        getFilesCount: function () {\n            var self = this, len = self.isAjaxUpload ? self.getFileStack().length : self.$element.get(0).files.length;\n            return self._getFileCount(len);\n        },\n        readFiles: function (files) {\n            this.reader = new FileReader();\n            var self = this, $el = self.$element, $preview = self.$preview, reader = self.reader,\n                $container = self.$previewContainer, $status = self.$previewStatus, msgLoading = self.msgLoading,\n                msgProgress = self.msgProgress, previewInitId = self.previewInitId, numFiles = files.length,\n                settings = self.fileTypeSettings, ctr = self.filestack.length, readFile,\n                fileTypes = self.allowedFileTypes, typLen = fileTypes ? fileTypes.length : 0,\n                fileExt = self.allowedFileExtensions, strExt = $h.isEmpty(fileExt) ? '' : fileExt.join(', '),\n                maxPreviewSize = self.maxFilePreviewSize && parseFloat(self.maxFilePreviewSize),\n                canPreview = $preview.length && (!maxPreviewSize || isNaN(maxPreviewSize)),\n                throwError = function (msg, file, previewId, index) {\n                    var p1 = $.extend(true, {}, self._getOutData({}, {}, files), {id: previewId, index: index}),\n                        p2 = {id: previewId, index: index, file: file, files: files}, $thumb;\n                    self._previewDefault(file, previewId, true);\n                    if (self.isAjaxUpload) {\n                        self.addToStack(undefined);\n                        setTimeout(function () {\n                            readFile(index + 1);\n                        }, 100);\n                    } else {\n                        numFiles = 0;\n                    }\n                    self._initFileActions();\n                    $thumb = $('#' + previewId);\n                    $thumb.find('.kv-file-upload').hide();\n                    if (self.removeFromPreviewOnError) {\n                        $thumb.remove();\n                    }\n                    self.isError = self.isAjaxUpload ? self._showUploadError(msg, p1) : self._showError(msg, p2);\n                    self._updateFileDetails(numFiles);\n                };\n\n            self.loadedImages = [];\n            self.totalImagesCount = 0;\n\n            $.each(files, function (key, file) {\n                var func = self.fileTypeSettings.image;\n                if (func && func(file.type)) {\n                    self.totalImagesCount++;\n                }\n            });\n            readFile = function (i) {\n                if ($h.isEmpty($el.attr('multiple'))) {\n                    numFiles = 1;\n                }\n                if (i >= numFiles) {\n                    if (self.isAjaxUpload && self.filestack.length > 0) {\n                        self._raise('filebatchselected', [self.getFileStack()]);\n                    } else {\n                        self._raise('filebatchselected', [files]);\n                    }\n                    $container.removeClass('file-thumb-loading');\n                    $status.html('');\n                    return;\n                }\n                var node = ctr + i, previewId = previewInitId + \"-\" + node, file = files[i], fSizeKB, j, msg,\n                    fnText = settings.text, fnImage = settings.image, fnHtml = settings.html, typ, chk, typ1, typ2,\n                    caption = file.name ? self.slug(file.name) : '', fileSize = (file.size || 0) / 1000,\n                    fileExtExpr = '', previewData = $h.objUrl.createObjectURL(file), fileCount = 0, strTypes = '',\n                    func, knownTypes = 0, isText, isHtml, isImage, txtFlag, processFileLoaded = function () {\n                        var msg = msgProgress.setTokens({\n                            'index': i + 1,\n                            'files': numFiles,\n                            'percent': 50,\n                            'name': caption\n                        });\n                        setTimeout(function () {\n                            $status.html(msg);\n                            self._updateFileDetails(numFiles);\n                            readFile(i + 1);\n                        }, 100);\n                        self._raise('fileloaded', [file, previewId, i, reader]);\n                    };\n                if (typLen > 0) {\n                    for (j = 0; j < typLen; j++) {\n                        typ1 = fileTypes[j];\n                        typ2 = self.msgFileTypes[typ1] || typ1;\n                        strTypes += j === 0 ? typ2 : ', ' + typ2;\n                    }\n                }\n                if (caption === false) {\n                    readFile(i + 1);\n                    return;\n                }\n                if (caption.length === 0) {\n                    msg = self.msgInvalidFileName.replace('{name}', $h.htmlEncode(file.name));\n                    throwError(msg, file, previewId, i);\n                    return;\n                }\n                if (!$h.isEmpty(fileExt)) {\n                    fileExtExpr = new RegExp('\\\\.(' + fileExt.join('|') + ')$', 'i');\n                }\n                fSizeKB = fileSize.toFixed(2);\n                if (self.maxFileSize > 0 && fileSize > self.maxFileSize) {\n                    msg = self.msgSizeTooLarge.setTokens({\n                        'name': caption,\n                        'size': fSizeKB,\n                        'maxSize': self.maxFileSize\n                    });\n                    throwError(msg, file, previewId, i);\n                    return;\n                }\n                if (self.minFileSize !== null && fileSize <= $h.getNum(self.minFileSize)) {\n                    msg = self.msgSizeTooSmall.setTokens({\n                        'name': caption,\n                        'size': fSizeKB,\n                        'minSize': self.minFileSize\n                    });\n                    throwError(msg, file, previewId, i);\n                    return;\n                }\n                if (!$h.isEmpty(fileTypes) && $h.isArray(fileTypes)) {\n                    for (j = 0; j < fileTypes.length; j += 1) {\n                        typ = fileTypes[j];\n                        func = settings[typ];\n                        fileCount += !func || (typeof func !== 'function') ? 0 : (func(file.type, file.name) ? 1 : 0);\n                    }\n                    if (fileCount === 0) {\n                        msg = self.msgInvalidFileType.setTokens({'name': caption, 'types': strTypes});\n                        throwError(msg, file, previewId, i);\n                        return;\n                    }\n                }\n                if (fileCount === 0 && !$h.isEmpty(fileExt) && $h.isArray(fileExt) && !$h.isEmpty(fileExtExpr)) {\n                    chk = $h.compare(caption, fileExtExpr);\n                    fileCount += $h.isEmpty(chk) ? 0 : chk.length;\n                    if (fileCount === 0) {\n                        msg = self.msgInvalidFileExtension.setTokens({'name': caption, 'extensions': strExt});\n                        throwError(msg, file, previewId, i);\n                        return;\n                    }\n                }\n                if (!self.showPreview) {\n                    if (self.isAjaxUpload) {\n                        self.addToStack(file);\n                    }\n                    setTimeout(function () {\n                        readFile(i + 1);\n                        self._updateFileDetails(numFiles);\n                    }, 100);\n                    self._raise('fileloaded', [file, previewId, i, reader]);\n                    return;\n                }\n                if (!canPreview && fileSize > maxPreviewSize) {\n                    self.addToStack(file);\n                    $container.addClass('file-thumb-loading');\n                    self._previewDefault(file, previewId);\n                    self._initFileActions();\n                    self._updateFileDetails(numFiles);\n                    readFile(i + 1);\n                    return;\n                }\n                if ($preview.length && FileReader !== undefined) {\n                    isText = fnText(file.type, caption);\n                    isHtml = fnHtml(file.type, caption);\n                    isImage = fnImage(file.type, caption);\n                    $status.html(msgLoading.replace('{index}', i + 1).replace('{files}', numFiles));\n                    $container.addClass('file-thumb-loading');\n                    reader.onerror = function (evt) {\n                        self._errorHandler(evt, caption);\n                    };\n                    reader.onload = function (theFile) {\n                        var hex, fileInfo, uint, byte, bytes = [], contents, mime, readTextImage = function (textFlag) {\n                            var newReader = new FileReader();\n                            newReader.onerror = function (theFileNew) {\n                                self._errorHandler(theFileNew, caption);\n                            };\n                            newReader.onload = function (theFileNew) {\n                                self._previewFile(i, file, theFileNew, previewId, previewData, fileInfo);\n                                self._initFileActions();\n                                processFileLoaded();\n                            };\n                            if (textFlag) {\n                                newReader.readAsText(file, self.textEncoding);\n                            } else {\n                                newReader.readAsDataURL(file);\n                            }\n                        };\n                        fileInfo = {'name': caption, 'type': file.type};\n                        $.each(settings, function (key, func) {\n                            if (key !== 'object' && key !== 'other' && func(file.type, caption)) {\n                                knownTypes++;\n                            }\n                        });\n                        if (knownTypes === 0) {// auto detect mime types from content if no known file types detected\n                            uint = new Uint8Array(theFile.target.result);\n                            for (j = 0; j < uint.length; j++) {\n                                byte = uint[j].toString(16);\n                                bytes.push(byte);\n                            }\n                            hex = bytes.join('').toLowerCase().substring(0, 8);\n                            mime = $h.getMimeType(hex, '', '');\n                            if ($h.isEmpty(mime)) { // look for ascii text content\n                                contents = $h.arrayBuffer2String(reader.result);\n                                mime = $h.isSvg(contents) ? 'image/svg+xml' : $h.getMimeType(hex, contents, file.type);\n                            }\n                            fileInfo = {'name': caption, 'type': mime};\n                            isText = fnText(mime, '');\n                            isHtml = fnHtml(mime, '');\n                            isImage = fnImage(mime, '');\n                            txtFlag = isText || isHtml;\n                            if (txtFlag || isImage) {\n                                readTextImage(txtFlag);\n                                return;\n                            }\n                        }\n                        self._previewFile(i, file, theFile, previewId, previewData, fileInfo);\n                        self._initFileActions();\n                        processFileLoaded();\n                    };\n                    reader.onprogress = function (data) {\n                        if (data.lengthComputable) {\n                            var fact = (data.loaded / data.total) * 100, progress = Math.ceil(fact);\n                            msg = msgProgress.setTokens({\n                                'index': i + 1,\n                                'files': numFiles,\n                                'percent': progress,\n                                'name': caption\n                            });\n                            setTimeout(function () {\n                                $status.html(msg);\n                            }, 100);\n                        }\n                    };\n\n                    if (isText || isHtml) {\n                        reader.readAsText(file, self.textEncoding);\n                    } else {\n                        if (isImage) {\n                            reader.readAsDataURL(file);\n                        } else {\n                            reader.readAsArrayBuffer(file);\n                        }\n                    }\n                } else {\n                    self._previewDefault(file, previewId);\n                    setTimeout(function () {\n                        readFile(i + 1);\n                        self._updateFileDetails(numFiles);\n                    }, 100);\n                    self._raise('fileloaded', [file, previewId, i, reader]);\n                }\n                self.addToStack(file);\n            };\n\n            readFile(0);\n            self._updateFileDetails(numFiles, false);\n        },\n        lock: function () {\n            var self = this;\n            self._resetErrors();\n            self.disable();\n            if (self.showRemove) {\n                self.$container.find('.fileinput-remove').hide();\n            }\n            if (self.showCancel) {\n                self.$container.find('.fileinput-cancel').show();\n            }\n            self._raise('filelock', [self.filestack, self._getExtraData()]);\n            return self.$element;\n        },\n        unlock: function (reset) {\n            var self = this;\n            if (reset === undefined) {\n                reset = true;\n            }\n            self.enable();\n            if (self.showCancel) {\n                self.$container.find('.fileinput-cancel').hide();\n            }\n            if (self.showRemove) {\n                self.$container.find('.fileinput-remove').show();\n            }\n            if (reset) {\n                self._resetFileStack();\n            }\n            self._raise('fileunlock', [self.filestack, self._getExtraData()]);\n            return self.$element;\n        },\n        cancel: function () {\n            var self = this, xhr = self.ajaxRequests, len = xhr.length, i;\n            if (len > 0) {\n                for (i = 0; i < len; i += 1) {\n                    self.cancelling = true;\n                    xhr[i].abort();\n                }\n            }\n            self._setProgressCancelled();\n            self._getThumbs().each(function () {\n                var $thumb = $(this), ind = $thumb.attr('data-fileindex');\n                $thumb.removeClass('file-uploading');\n                if (self.filestack[ind] !== undefined) {\n                    $thumb.find('.kv-file-upload').removeClass('disabled').removeAttr('disabled');\n                    $thumb.find('.kv-file-remove').removeClass('disabled').removeAttr('disabled');\n                }\n                self.unlock();\n            });\n            return self.$element;\n        },\n        clear: function () {\n            var self = this, cap;\n            if (!self._raise('fileclear')) {\n                return;\n            }\n            self.$btnUpload.removeAttr('disabled');\n            self._getThumbs().find('video,audio,img').each(function () {\n                $h.cleanMemory($(this));\n            });\n            self._resetUpload();\n            self.clearStack();\n            self._clearFileInput();\n            self._resetErrors(true);\n            if (self._hasInitialPreview()) {\n                self._showFileIcon();\n                self._resetPreview();\n                self._initPreviewActions();\n                self.$container.removeClass('file-input-new');\n            } else {\n                self._getThumbs().each(function () {\n                    self._clearObjects($(this));\n                });\n                if (self.isAjaxUpload) {\n                    self.previewCache.data = {};\n                }\n                self.$preview.html('');\n                cap = (!self.overwriteInitial && self.initialCaption.length > 0) ? self.initialCaption : '';\n                self.$caption.attr('title', '').val(cap);\n                $h.addCss(self.$container, 'file-input-new');\n                self._validateDefaultPreview();\n            }\n            if (self.$container.find($h.FRAMES).length === 0) {\n                if (!self._initCaption()) {\n                    self.$captionContainer.removeClass('icon-visible');\n                }\n            }\n            self._hideFileIcon();\n            self._raise('filecleared');\n            self.$captionContainer.focus();\n            self._setFileDropZoneTitle();\n            return self.$element;\n        },\n        reset: function () {\n            var self = this;\n            if (!self._raise('filereset')) {\n                return;\n            }\n            self._resetPreview();\n            self.$container.find('.fileinput-filename').text('');\n            $h.addCss(self.$container, 'file-input-new');\n            if (self.getFrames().length || self.isAjaxUpload && self.dropZoneEnabled) {\n                self.$container.removeClass('file-input-new');\n            }\n            self.clearStack();\n            self.formdata = {};\n            self._setFileDropZoneTitle();\n            return self.$element;\n        },\n        disable: function () {\n            var self = this;\n            self.isDisabled = true;\n            self._raise('filedisabled');\n            self.$element.attr('disabled', 'disabled');\n            self.$container.find(\".kv-fileinput-caption\").addClass(\"file-caption-disabled\");\n            self.$container.find(\".fileinput-remove, .fileinput-upload, .file-preview-frame button\")\n                .attr(\"disabled\", true);\n            $h.addCss(self.$container.find('.btn-file'), 'disabled');\n            self._initDragDrop();\n            return self.$element;\n        },\n        enable: function () {\n            var self = this;\n            self.isDisabled = false;\n            self._raise('fileenabled');\n            self.$element.removeAttr('disabled');\n            self.$container.find(\".kv-fileinput-caption\").removeClass(\"file-caption-disabled\");\n            self.$container.find(\".fileinput-remove, .fileinput-upload, .file-preview-frame button\")\n                .removeAttr(\"disabled\");\n            self.$container.find('.btn-file').removeClass('disabled');\n            self._initDragDrop();\n            return self.$element;\n        },\n        upload: function () {\n            var self = this, totLen = self.getFileStack().length, i, outData, len,\n                hasExtraData = !$.isEmptyObject(self._getExtraData());\n            if (!self.isAjaxUpload || self.isDisabled || !self._isFileSelectionValid(totLen)) {\n                return;\n            }\n            self._resetUpload();\n            if (totLen === 0 && !hasExtraData) {\n                self._showUploadError(self.msgUploadEmpty);\n                return;\n            }\n            self.$progress.show();\n            self.uploadCount = 0;\n            self.uploadStatus = {};\n            self.uploadLog = [];\n            self.lock();\n            self._setProgress(2);\n            if (totLen === 0 && hasExtraData) {\n                self._uploadExtraOnly();\n                return;\n            }\n            len = self.filestack.length;\n            self.hasInitData = false;\n            if (self.uploadAsync) {\n                outData = self._getOutData();\n                self._raise('filebatchpreupload', [outData]);\n                self.fileBatchCompleted = false;\n                self.uploadCache = {content: [], config: [], tags: [], append: true};\n                self.uploadAsyncCount = self.getFileStack().length;\n                for (i = 0; i < len; i++) {\n                    self.uploadCache.content[i] = null;\n                    self.uploadCache.config[i] = null;\n                    self.uploadCache.tags[i] = null;\n                }\n                self.$preview.find('.file-preview-initial').removeClass($h.SORT_CSS);\n                self._initSortable();\n                self.cacheInitialPreview = self.getPreview();\n\n                for (i = 0; i < len; i++) {\n                    if (self.filestack[i]) {\n                        self._uploadSingle(i, true);\n                    }\n                }\n                return;\n            }\n            self._uploadBatch();\n            return self.$element;\n        },\n        destroy: function () {\n            var self = this, $form = self.$form, $cont = self.$container, $el = self.$element, ns = self.namespace;\n            $(document).off(ns);\n            $(window).off(ns);\n            if ($form && $form.length) {\n                $form.off(ns);\n            }\n            if (self.isAjaxUpload) {\n                self._clearFileInput();\n            }\n            self._cleanup();\n            self._initPreviewCache();\n            $el.insertBefore($cont).off(ns).removeData();\n            $cont.off().remove();\n            return $el;\n        },\n        refresh: function (options, triggerChange) {\n            var self = this, $el = self.$element;\n            if (typeof options !== 'object' || $h.isEmpty(options)) {\n                options = self.options;\n            } else {\n                options = $.extend(true, {}, self.options, options);\n            }\n            self._init(options, true);\n            self._listen();\n            if (triggerChange) {\n                $el.trigger('change' + self.namespace);\n            }\n            return $el;\n        },\n        zoom: function (frameId) {\n            var self = this, $frame = self._getFrame(frameId), $modal = self.$modal;\n            if (!$frame) {\n                return;\n            }\n            $h.initModal($modal);\n            $modal.html(self._getModalContent());\n            self._setZoomContent($frame);\n            $modal.modal('show');\n            self._initZoomButtons();\n        },\n        getExif: function (frameId) {\n            var self = this, $frame = self._getFrame(frameId);\n            return $frame && $frame.data('exif') || null;\n        },\n        getFrames: function (cssFilter) {\n            var self = this;\n            cssFilter = cssFilter || '';\n            return self.$preview.find($h.FRAMES + cssFilter);\n        },\n        getPreview: function () {\n            var self = this;\n            return {\n                content: self.initialPreview,\n                config: self.initialPreviewConfig,\n                tags: self.initialPreviewThumbTags\n            };\n        }\n    };\n\n    $.fn.fileinput = function (option) {\n        if (!$h.hasFileAPISupport() && !$h.isIE(9)) {\n            return;\n        }\n        var args = Array.apply(null, arguments), retvals = [];\n        args.shift();\n        this.each(function () {\n            var self = $(this), data = self.data('fileinput'), options = typeof option === 'object' && option,\n                theme = options.theme || self.data('theme'), l = {}, t = {},\n                lang = options.language || self.data('language') || $.fn.fileinput.defaults.language || 'en', opt;\n            if (!data) {\n                if (theme) {\n                    t = $.fn.fileinputThemes[theme] || {};\n                }\n                if (lang !== 'en' && !$h.isEmpty($.fn.fileinputLocales[lang])) {\n                    l = $.fn.fileinputLocales[lang] || {};\n                }\n                opt = $.extend(true, {}, $.fn.fileinput.defaults, t, $.fn.fileinputLocales.en, l, options, self.data());\n                data = new FileInput(this, opt);\n                self.data('fileinput', data);\n            }\n\n            if (typeof option === 'string') {\n                retvals.push(data[option].apply(data, args));\n            }\n        });\n        switch (retvals.length) {\n            case 0:\n                return this;\n            case 1:\n                return retvals[0];\n            default:\n                return retvals;\n        }\n    };\n\n    $.fn.fileinput.defaults = {\n        language: 'en',\n        showCaption: true,\n        showBrowse: true,\n        showPreview: true,\n        showRemove: true,\n        showUpload: true,\n        showCancel: true,\n        showClose: true,\n        showUploadedThumbs: true,\n        browseOnZoneClick: false,\n        autoReplace: false,\n        autoOrientImage: true, // for JPEG images based on EXIF orientation tag\n        required: false,\n        rtl: false,\n        hideThumbnailContent: false,\n        generateFileId: null,\n        previewClass: '',\n        captionClass: '',\n        frameClass: 'krajee-default',\n        mainClass: 'file-caption-main',\n        mainTemplate: null,\n        purifyHtml: true,\n        fileSizeGetter: null,\n        initialCaption: '',\n        initialPreview: [],\n        initialPreviewDelimiter: '*$$*',\n        initialPreviewAsData: false,\n        initialPreviewFileType: 'image',\n        initialPreviewConfig: [],\n        initialPreviewThumbTags: [],\n        previewThumbTags: {},\n        initialPreviewShowDelete: true,\n        initialPreviewDownloadUrl: '',\n        removeFromPreviewOnError: false,\n        deleteUrl: '',\n        deleteExtraData: {},\n        overwriteInitial: true,\n        previewZoomButtonIcons: {\n            prev: '<i class=\"glyphicon glyphicon-triangle-left\"></i>',\n            next: '<i class=\"glyphicon glyphicon-triangle-right\"></i>',\n            toggleheader: '<i class=\"glyphicon glyphicon-resize-vertical\"></i>',\n            fullscreen: '<i class=\"glyphicon glyphicon-fullscreen\"></i>',\n            borderless: '<i class=\"glyphicon glyphicon-resize-full\"></i>',\n            close: '<i class=\"glyphicon glyphicon-remove\"></i>'\n        },\n        previewZoomButtonClasses: {\n            prev: 'btn btn-navigate',\n            next: 'btn btn-navigate',\n            toggleheader: 'btn btn-kv btn-default btn-outline-secondary',\n            fullscreen: 'btn btn-kv btn-default btn-outline-secondary',\n            borderless: 'btn btn-kv btn-default btn-outline-secondary',\n            close: 'btn btn-kv btn-default btn-outline-secondary'\n        },\n        preferIconicPreview: false,\n        preferIconicZoomPreview: false,\n        allowedPreviewTypes: undefined,\n        allowedPreviewMimeTypes: null,\n        allowedFileTypes: null,\n        allowedFileExtensions: null,\n        defaultPreviewContent: null,\n        customLayoutTags: {},\n        customPreviewTags: {},\n        previewFileIcon: '<i class=\"glyphicon glyphicon-file\"></i>',\n        previewFileIconClass: 'file-other-icon',\n        previewFileIconSettings: {},\n        previewFileExtSettings: {},\n        buttonLabelClass: 'hidden-xs',\n        browseIcon: '<i class=\"glyphicon glyphicon-folder-open\"></i>&nbsp;',\n        browseClass: 'btn btn-primary',\n        removeIcon: '<i class=\"glyphicon glyphicon-trash\"></i>',\n        removeClass: 'btn btn-default btn-secondary',\n        cancelIcon: '<i class=\"glyphicon glyphicon-ban-circle\"></i>',\n        cancelClass: 'btn btn-default btn-secondary',\n        uploadIcon: '<i class=\"glyphicon glyphicon-upload\"></i>',\n        uploadClass: 'btn btn-default btn-secondary',\n        uploadUrl: null,\n        uploadUrlThumb: null,\n        uploadAsync: true,\n        uploadExtraData: {},\n        zoomModalHeight: 480,\n        minImageWidth: null,\n        minImageHeight: null,\n        maxImageWidth: null,\n        maxImageHeight: null,\n        resizeImage: false,\n        resizePreference: 'width',\n        resizeQuality: 0.92,\n        resizeDefaultImageType: 'image/jpeg',\n        resizeIfSizeMoreThan: 0, // in KB\n        minFileSize: 0,\n        maxFileSize: 0,\n        maxFilePreviewSize: 25600, // 25 MB\n        minFileCount: 0,\n        maxFileCount: 0,\n        validateInitialCount: false,\n        msgValidationErrorClass: 'text-danger',\n        msgValidationErrorIcon: '<i class=\"glyphicon glyphicon-exclamation-sign\"></i> ',\n        msgErrorClass: 'file-error-message',\n        progressThumbClass: \"progress-bar bg-success progress-bar-success progress-bar-striped active\",\n        progressClass: \"progress-bar bg-success progress-bar-success progress-bar-striped active\",\n        progressCompleteClass: \"progress-bar bg-success progress-bar-success\",\n        progressErrorClass: \"progress-bar bg-danger progress-bar-danger\",\n        progressUploadThreshold: 99,\n        previewFileType: 'image',\n        elCaptionContainer: null,\n        elCaptionText: null,\n        elPreviewContainer: null,\n        elPreviewImage: null,\n        elPreviewStatus: null,\n        elErrorContainer: null,\n        errorCloseButton: $h.closeButton('kv-error-close'),\n        slugCallback: null,\n        dropZoneEnabled: true,\n        dropZoneTitleClass: 'file-drop-zone-title',\n        fileActionSettings: {},\n        otherActionButtons: '',\n        textEncoding: 'UTF-8',\n        ajaxSettings: {},\n        ajaxDeleteSettings: {},\n        showAjaxErrorDetails: true,\n        mergeAjaxCallbacks: false,\n        mergeAjaxDeleteCallbacks: false,\n        retryErrorUploads: true\n    };\n\n    $.fn.fileinputLocales.en = {\n        fileSingle: 'file',\n        filePlural: 'files',\n        browseLabel: 'Browse &hellip;',\n        removeLabel: 'Remove',\n        removeTitle: 'Clear selected files',\n        cancelLabel: 'Cancel',\n        cancelTitle: 'Abort ongoing upload',\n        uploadLabel: 'Upload',\n        uploadTitle: 'Upload selected files',\n        msgNo: 'No',\n        msgNoFilesSelected: 'No files selected',\n        msgCancelled: 'Cancelled',\n        msgPlaceholder: 'Select {files}...',\n        msgZoomModalHeading: 'Detailed Preview',\n        msgFileRequired: 'You must select a file to upload.',\n        msgSizeTooSmall: 'File \"{name}\" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',\n        msgSizeTooLarge: 'File \"{name}\" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',\n        msgFilesTooLess: 'You must select at least <b>{n}</b> {files} to upload.',\n        msgFilesTooMany: 'Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.',\n        msgFileNotFound: 'File \"{name}\" not found!',\n        msgFileSecured: 'Security restrictions prevent reading the file \"{name}\".',\n        msgFileNotReadable: 'File \"{name}\" is not readable.',\n        msgFilePreviewAborted: 'File preview aborted for \"{name}\".',\n        msgFilePreviewError: 'An error occurred while reading the file \"{name}\".',\n        msgInvalidFileName: 'Invalid or unsupported characters in file name \"{name}\".',\n        msgInvalidFileType: 'Invalid type for file \"{name}\". Only \"{types}\" files are supported.',\n        msgInvalidFileExtension: 'Invalid extension for file \"{name}\". Only \"{extensions}\" files are supported.',\n        msgFileTypes: {\n            'image': 'image',\n            'html': 'HTML',\n            'text': 'text',\n            'video': 'video',\n            'audio': 'audio',\n            'flash': 'flash',\n            'pdf': 'PDF',\n            'object': 'object'\n        },\n        msgUploadAborted: 'The file upload was aborted',\n        msgUploadThreshold: 'Processing...',\n        msgUploadBegin: 'Initializing...',\n        msgUploadEnd: 'Done',\n        msgUploadEmpty: 'No valid data available for upload.',\n        msgUploadError: 'Error',\n        msgValidationError: 'Validation Error',\n        msgLoading: 'Loading file {index} of {files} &hellip;',\n        msgProgress: 'Loading file {index} of {files} - {name} - {percent}% completed.',\n        msgSelected: '{n} {files} selected',\n        msgFoldersNotAllowed: 'Drag & drop files only! {n} folder(s) dropped were skipped.',\n        msgImageWidthSmall: 'Width of image file \"{name}\" must be at least {size} px.',\n        msgImageHeightSmall: 'Height of image file \"{name}\" must be at least {size} px.',\n        msgImageWidthLarge: 'Width of image file \"{name}\" cannot exceed {size} px.',\n        msgImageHeightLarge: 'Height of image file \"{name}\" cannot exceed {size} px.',\n        msgImageResizeError: 'Could not get the image dimensions to resize.',\n        msgImageResizeException: 'Error while resizing the image.<pre>{errors}</pre>',\n        msgAjaxError: 'Something went wrong with the {operation} operation. Please try again later!',\n        msgAjaxProgressError: '{operation} failed',\n        ajaxOperations: {\n            deleteThumb: 'file delete',\n            uploadThumb: 'file upload',\n            uploadBatch: 'batch file upload',\n            uploadExtra: 'form data upload'\n        },\n        dropZoneTitle: 'Drag & drop files here &hellip;',\n        dropZoneClickTitle: '<br>(or click to select {files})',\n        previewZoomButtonTitles: {\n            prev: 'View previous file',\n            next: 'View next file',\n            toggleheader: 'Toggle header',\n            fullscreen: 'Toggle full screen',\n            borderless: 'Toggle borderless mode',\n            close: 'Close detailed preview'\n        }\n    };\n\n    $.fn.fileinput.Constructor = FileInput;\n\n    /**\n     * Convert automatically file inputs with class 'file' into a bootstrap fileinput control.\n     */\n    $(document).ready(function () {\n        var $input = $('input.file[type=file]');\n        if ($input.length) {\n            $input.fileinput();\n        }\n    });\n}));\n"]}