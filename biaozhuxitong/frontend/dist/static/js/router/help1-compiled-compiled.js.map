{"version":3,"sources":["help1-compiled.js"],"names":[],"mappings":"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","file":"help1-compiled-compiled.js","sourcesContent":["var AllFiles = Vue.extend({\n  template: '#allfiles',\n\n  data: function data() {\n    return {\n      files: {},\n      cur_files: {},\n\n      total: 0,\n      total_page: 1, //当前分词总共多少页\n      start_page: 1, //当前起始/终止的页数按钮(如1-10,11-20)\n      end_page: 0,\n      page_arr: [],\n      BUTTON_PER_PAGE: 10, //每页多少个页数按钮\n      ITEM_PER_PAGE: 10, //每页多少个数据\n      select_page: 1, //选择了第几页\n      is_prev: false,\n      is_next: true\n\n    };\n  },\n\n  created: function created() {\n    this.init(this.$route.params.id);\n  },\n  mounted: function mounted() {\n    vpage.updateStyle(1);\n  },\n  components: {\n    pg: Page\n  },\n  watch: {\n    //默认Vue只在第一次加载初始化，watch用于检测Vue实例的数据是否发生了变化，变化后触发事件\n    '$route': function $route(to, from) {\n      //跳转的路径（to）\n      db = to.path.split(\"/\")[to.path.split(\"/\").length - 1];\n      this.init(db);\n    }\n  },\n  methods: {\n    init: function init(db) {\n      var url = \"/get_files/\";\n      var _self = this;\n      $.ajax({\n        type: \"post\",\n        url: url,\n        data: { db: db },\n        async: false,\n        success: function success(data) {\n          _self.files = data[\"files\"];\n          _self.updatePageInfo();\n        },\n        error: function error(XMLHttpRequest, textStatus, errorThrown) {\n          console.log(textStatus);\n        }\n      });\n    },\n    updatePageInfo: function updatePageInfo() {\n      this.total = vutils.jsonLength(this.files);\n      this.total_page = Math.ceil(vutils.jsonLength(this.files) / this.ITEM_PER_PAGE);\n      this.end_page = vpage.getEndPage(this.total_page);\n      this.updateItems();\n      this.page_arr = vpage.updatePageButton();\n    },\n    selectFile: function selectFile(event) {\n      a = event.target;\n      filename = $(a).next().text();\n      var url = \"/select_file/\";\n      $.post(url, { file: filename }, function (data) {\n        app.set_router(\"segment/\", \"\", \"\");\n      });\n    },\n    deleteFile: function deleteFile(event) {\n      if (!window.confirm(\"确认删除吗?\")) return false;\n      a = event.target;\n      filename = $(a).prev().text();\n      var url = \"/delete_file/\";\n      var _self = this;\n      $.post(url, { file: filename }, function (data) {\n        _self.files = data[\"files\"];\n        _self.updatePageInfo();\n        toastr.success(\"删除成功\");\n      });\n    },\n    prevPage: function prevPage() {\n      if (this.is_prev) {\n        this.page_arr = vpage.prevPage();\n        this.is_prev = vpage.isPrevEnable(this.page_arr[0]);\n        this.updatePageItems();\n        this.is_next = true;\n      }\n    },\n\n    nextPage: function nextPage() {\n      this.page_arr = vpage.nextPage();\n      this.is_prev = vpage.isPrevEnable(this.page_arr[0]);\n      this.updatePageItems();\n    },\n\n    updatePageItems: function updatePageItems() {\n      //翻页后更新第一页的内容\n      this.select_page = this.page_arr[0];\n      this.updateItems();\n    },\n\n    changePage: function changePage(tar) {\n      this.select_page = $(tar).text();\n      vpage.changePage($(tar).text());\n      this.updateItems();\n      vpage.updateStyle(\"\");\n    },\n    updateItems: function updateItems() {\n      this.cur_files = {};\n\n      end = this.select_page * this.ITEM_PER_PAGE;\n      if (end > vutils.jsonLength(this.files)) {\n        end = vutils.jsonLength(this.files);\n      }\n      j = 0;\n      for (i = (this.select_page - 1) * this.ITEM_PER_PAGE; i < end; i++) {\n        this.cur_files[j] = vutils.deepCopy(this.files[i]);\n        j++;\n      }\n    }\n  }\n});\n\n//# sourceMappingURL=help-compiled.jsmap\n"]}