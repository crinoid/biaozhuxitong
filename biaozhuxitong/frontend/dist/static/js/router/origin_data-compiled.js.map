{"version":3,"sources":["origin_data.js"],"names":[],"mappings":";;AAAA,IAAI,aAAa,IAAI,MAAJ,CAAW;AAC1B,YAAU,aADgB;AAE1B,SAAO,CAAC,IAAD,CAFmB;;AAI1B,QAAM,gBAAY;AAChB,WAAO;AACL,aAAO,EADF,EACM;AACX,iBAAW,EAFN,EAEU;AACf,oBAAc,EAHT,EAGa;AAClB,iBAAW,EAJN,EAIS;AACd,cAAQ,KALH;AAML,eAAS,EANJ,EAMQ;AACb,gBAAU,EAPL,EAOS;AACd,sBAAgB,EARX,EAQe;AACpB,oBAAc,EATT,EASa;AAClB,aAAO,CAVF,EAUK;;AAEV,aAAO,CAZF,EAYK;AACV,kBAAY,CAbP,EAaU;AACf,kBAAY,CAdP,EAcW;AAChB,gBAAU,EAfL;AAgBL,gBAAU,CAhBL;AAiBL,uBAAiB,EAjBZ,EAiBgB;AACrB,qBAAe,EAlBV,EAkBc;AACnB,mBAAa,CAnBR,EAmBW;AAChB,eAAS,KApBJ;AAqBL,eAAS,IArBJ;;AAuBL,gBAAU,EAvBL,EAuBS;AACd,gBAAU,EAxBL,CAwBS;AAxBT,KAAP;AA0BD,GA/ByB;;AAiC1B,WAAS,mBAAY,CAEpB,CAnCyB;AAoC1B,eAAa,uBAAY;AACvB,SAAK,IAAL,CAAU,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAA7B;AACD,GAtCyB;AAuC1B,WAAS,mBAAY;AACnB,MAAE,QAAF,EAAY,IAAZ;AACA,UAAM,WAAN,CAAkB,CAAlB;AACD,GA1CyB;AA2C1B,SAAO;AAAE;AACP,YADK,kBACI,EADJ,EACQ,IADR,EACa;AAChB;AACA,WAAK,GAAG,IAAH,CAAQ,KAAR,CAAc,GAAd,EAAmB,GAAG,IAAH,CAAQ,KAAR,CAAc,GAAd,EAAmB,MAAnB,GAA4B,CAA/C,CAAL;AACA,WAAK,IAAL,CAAU,EAAV;AACD;AALI,GA3CmB;AAkD1B,cAAY;AACV,QAAI;AADM,GAlDc;AAqD1B,WAAS;AACP,UAAM,cAAU,EAAV,EAAc;AAClB,UAAI,MAAM,mBAAV;AACA,UAAI,QAAQ,IAAZ;AACA;AACA;AACA;AACA;AACA;AACA,QAAE,aAAF,EAAiB,IAAjB;AACA,QAAE,aAAF,EAAiB,IAAjB;;AAEA,QAAE,IAAF,CAAO;AACL,cAAM,MADD;AAEL,aAAK,GAFA;AAGL,eAAO,KAHF;AAIL,cAAM,EAAC,IAAI,EAAL,EAJD;AAKL,iBAAS,iBAAU,IAAV,EAAgB;AACvB;AACA;AACA;AACA;;AAEA,gBAAM,KAAN,GAAc,KAAK,OAAL,CAAd;AACA,gBAAM,QAAN,GAAiB,KAAK,SAAL,CAAjB;AACA,gBAAM,OAAN,GAAgB,IAAhB;;AAEA,gBAAM,YAAN,CAAmB,KAAK,YAAL,CAAnB;AACA,gBAAM,aAAN,GAAsB,KAAK,YAAL,CAAtB;;AAEA,eAAK,CAAL,IAAU,KAAK,SAAL,CAAV,EAA2B;AACzB,kBAAM,YAAN,CAAmB,KAAK,SAAL,EAAgB,CAAhB,CAAnB,IAAyC,EAAzC;AAED;;AAED,eAAK,CAAL,IAAU,KAAK,OAAL,CAAV,EAAyB;AACvB,gBAAI;AAAE;AACJ,oBAAM,YAAN,CAAmB,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAnB,EAA4C,IAA5C,CAAiD,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAjD;AACD,aAFD,CAEE,OAAO,KAAP,EAAc;AACd,sBAAQ,GAAR,CAAY,eAAZ,EAA4B,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAA5B;AACD;AACF;;AAED,gBAAM,gBAAN;;AAEA,YAAE,aAAF,EAAiB,IAAjB;AACA,YAAE,aAAF,EAAiB,IAAjB;AACD;AAnCI,OAAP;AAqCD,KAjDM;AAkDP,iBAAa,uBAAY;AACvB,WAAK,WAAL,GAAmB,CAAnB;AACA,WAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,OAAO,UAAP,CAAkB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAlB,IAAqD,KAAK,aAApE,CAAlB;AACA;AACA,WAAK,cAAL,CAAoB,KAAK,KAAzB;AACA,WAAK,KAAL,GAAa,OAAO,UAAP,CAAkB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAlB,CAAb;AACA,WAAK,UAAL,GAAkB,CAAlB;AACA,WAAK,QAAL,GAAgB,MAAM,UAAN,CAAiB,KAAK,UAAtB,CAAhB;AACA,WAAK,QAAL,GAAgB,MAAM,gBAAN,CAAuB,KAAK,UAA5B,EAAwC,KAAK,QAA7C,CAAhB;AAED,KA5DM;AA6DP,eAAW,qBAAY;AAAE;AACvB,UAAI,WAAW,IAAI,QAAJ,EAAf;AACA,eAAS,MAAT,CAAgB,QAAhB,EAA0B,SAAS,cAAT,CAAwB,YAAxB,EAAsC,KAAtC,CAA4C,CAA5C,CAA1B;;AAEA,UAAI,QAAQ,IAAZ;AACA,QAAE,IAAF,CAAO;AACL,aAAK,cADA;AAEL,cAAM,MAFD;AAGL,cAAM,QAHD;AAIL,qBAAa,KAJR;AAKL,qBAAa,KALR;AAML,iBAAS,iBAAU,IAAV,EAAgB;AACvB,YAAE,aAAF,EAAiB,IAAjB;AACA,YAAE,aAAF,EAAiB,IAAjB;AACA,gBAAM,QAAN,GAAiB,IAAjB;AACA,cAAI,KAAK,OAAL,EAAc,MAAd,IAAwB,CAAxB,IAA6B,OAAO,aAAP,CAAqB,KAAK,WAAL,CAArB,CAA7B,IAAwE,KAAK,OAAL,EAAc,MAAd,IAAwB,CAApG,EAAuG;AACrG,kBAAM,KAAN,GAAc,CAAd;AACD;AAEF;AAdI,OAAP;AAgBD,KAlFM;AAmFP,mBAAe,yBAAY;AACzB,QAAE,aAAF,EAAiB,IAAjB;AACA,QAAE,aAAF,EAAiB,IAAjB;AACA,sBAAgB,EAAhB;;AAEA;AACA;AACA,UAAI,EAAE,eAAF,EAAmB,IAAnB,CAAwB,SAAxB,CAAJ,EAAwC;AACtC,kBAAU,CAAV;AACD,OAFD,MAEO;AACL,kBAAU,CAAV;AACD;;AAED,UAAI,QAAQ,IAAZ;AACA,QAAE,IAAF,CAAO;AACL,aAAK,oBADA;AAEL,cAAM,MAFD;AAGL,cAAM,EAAC,SAAS,OAAV,EAHD;AAIL,iBAAS,iBAAU,IAAV,EAAgB;AACvB,YAAE,aAAF,EAAiB,IAAjB;AACA,YAAE,aAAF,EAAiB,IAAjB;AACA,gBAAM,QAAN,GAAiB,IAAjB;;AAEA,YAAE,UAAF,EAAc,KAAd,CAAoB,MAApB;AACA,iBAAO,OAAP,CAAe,MAAf;;AAEA,gBAAM,KAAN,GAAc,KAAK,OAAL,CAAd;AACA,gBAAM,QAAN,GAAiB,KAAK,SAAL,CAAjB;AACA,gBAAM,OAAN,GAAgB,MAAM,QAAN,CAAe,CAAf,CAAhB;;AAEA,eAAK,CAAL,IAAU,KAAK,SAAL,CAAV,EAA2B;AACzB,kBAAM,YAAN,CAAmB,KAAK,SAAL,EAAgB,CAAhB,CAAnB,IAAyC,EAAzC;AAED;;AAED,eAAK,CAAL,IAAU,KAAK,OAAL,CAAV,EAAyB;AACvB,kBAAM,YAAN,CAAmB,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAnB,EAA4C,IAA5C,CAAiD,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAjD;AACD;;AAED,gBAAM,WAAN;AACD;AA1BI,OAAP;AA4BD,KA7HM;AA8HP,gBAAY,sBAAY;AACtB,mBAAa,EAAE,KAAK,KAAL,CAAW,SAAb,EAAwB,GAAxB,GAA8B,IAA9B,EAAb;;AAEA,QAAE,aAAF,EAAiB,IAAjB;AACA,QAAE,aAAF,EAAiB,IAAjB;;AAEA,UAAI,MAAM,eAAV;AACA,UAAI,QAAQ,IAAZ;AACA,QAAE,IAAF,CAAO,GAAP,EAAY,EAAC,KAAK,UAAN,EAAkB,MAAM,MAAM,OAA9B,EAAZ,EAAoD,UAAU,IAAV,EAAgB;AAClE,eAAO,KAAK,IAAL,CAAP;AACA,cAAM,SAAN,GAAkB,EAAlB;;AAEA,aAAK,CAAL,IAAU,IAAV,EAAgB;AACd,eAAK,CAAL,IAAU,MAAM,KAAhB,EAAuB;AACrB,gBAAI,KAAK,CAAL,KAAW,MAAM,KAAN,CAAY,CAAZ,EAAe,KAAf,CAAf,EAAsC;AACpC,oBAAM,SAAN,CAAgB,IAAhB,CAAqB,MAAM,KAAN,CAAY,CAAZ,CAArB;AACD;AACF;AACF;AACD,cAAM,MAAN,GAAe,IAAf;;AAEA,cAAM,KAAN,GAAc,OAAO,UAAP,CAAkB,MAAM,SAAxB,CAAd;AACA,cAAM,UAAN,GAAmB,KAAK,IAAL,CAAU,OAAO,UAAP,CAAkB,MAAM,SAAxB,IAAqC,MAAM,aAArD,CAAnB;;AAEA,cAAM,QAAN,GAAiB,MAAM,UAAN,CAAiB,MAAM,UAAvB,CAAjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA,cAAM,SAAN,GAAkB,EAAlB;AACA,cAAM,MAAM,KAAN,GAAc,MAAM,aAApB,GAAoC,MAAM,aAA1C,GAA0D,MAAM,KAAtE;AACA,aAAK,IAAI,CAAT,EAAY,IAAI,GAAhB,EAAqB,GAArB,EAA0B;AACxB,gBAAM,SAAN,CAAgB,IAAhB,CAAqB,MAAM,SAAN,CAAgB,CAAhB,CAArB;AACD;AACD,cAAM,SAAN,GAAkB,eAAc,EAAd,EAAkB,MAAM,SAAxB,CAAlB;AACA,cAAM,QAAN,GAAiB,MAAM,gBAAN,CAAuB,MAAM,UAA7B,EAAyC,MAAM,QAA/C,CAAjB;AACA;AACA,cAAM,WAAN,CAAkB,CAAlB;;AAEA,UAAE,aAAF,EAAiB,IAAjB;AACA,UAAE,aAAF,EAAiB,IAAjB;AACD,OApCD;AAqCD,KA3KM;AA4KP,mBAAe,uBAAU,GAAV,EAAe,GAAf,EAAoB,KAApB,EAA2B;AACxC,aAAO,MAAM,GAAN,GAAY,IAAI,KAAJ,CAAnB;AACD,KA9KM;AA+KP,iBAAa,uBAAY;AACvB,UAAI,QAAQ,IAAZ;AACA,iBAAW,EAAX;AACA,WAAK,IAAI,GAAT,IAAgB,KAAK,QAAL,CAAc,WAAd,CAAhB,EAA4C;AAC1C,iBAAS,IAAT,CAAc,CAAC,GAAD,EAAM,KAAK,QAAL,CAAc,WAAd,EAA2B,GAA3B,EAAgC,CAAhC,CAAN,CAAd;AACD;AACD,QAAE,IAAF,CAAO;AACL,cAAM,MADD;AAEL,aAAK,yBAFA;AAGL,cAAM;AACJ,eAAK,gBAAe,QAAf;AADD,SAHD,EAKF,SAAS,mBAAY;AACtB,YAAE,QAAF,EAAY,IAAZ;AACA,iBAAO,OAAP,CAAe,MAAf;AACD;AARI,OAAP;AAUD,KA/LM;AAgMP,YAAQ,kBAAY;AAClB,QAAE,QAAF,EAAY,IAAZ;AACD,KAlMM;AAmMP,gBAAY,oBAAU,KAAV,EAAiB;AAC3B,WAAK,cAAL,GAAsB,EAAtB;AACA,UAAI,MAAM,MAAV;AACA,WAAK,MAAL,GAAc,KAAd;AACA,WAAK,OAAL,GAAe,EAAE,CAAF,EAAK,IAAL,GAAY,IAAZ,EAAf;;AAEA,WAAK,gBAAL;AACD,KA1MM;AA2MP,sBAAkB,4BAAY;AAC5B,WAAK,UAAL,GAAkB,CAAlB;AACA,WAAK,WAAL,GAAmB,CAAnB;AACA,UAAI,KAAK,OAAL,IAAgB,IAApB,EAA0B;AACxB,aAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,OAAO,UAAP,CAAkB,KAAK,KAAvB,IAAgC,KAAK,aAA/C,CAAlB;AACA,aAAK,cAAL,CAAoB,KAAK,KAAzB;AACA,aAAK,KAAL,GAAa,OAAO,UAAP,CAAkB,KAAK,KAAvB,CAAb;AACD,OAJD,MAKK;AACH,aAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,OAAO,UAAP,CAAkB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAlB,IAAqD,KAAK,aAApE,CAAlB;AACA,aAAK,WAAL,CAAiB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAjB;AACA,aAAK,KAAL,GAAa,OAAO,UAAP,CAAkB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAlB,CAAb;AACD;AACD,WAAK,QAAL,GAAgB,MAAM,UAAN,CAAiB,KAAK,UAAtB,CAAhB;;AAEA,WAAK,QAAL,GAAgB,MAAM,gBAAN,CAAuB,KAAK,UAA5B,EAAwC,KAAK,QAA7C,CAAhB;AACA,YAAM,WAAN,CAAkB,CAAlB;;AAEA;AACA,aAAO,EAAE,iBAAF,CAAP;AACA,WAAK,IAAL,CAAU,OAAV,EAAmB,IAAnB,CAAwB,SAAxB,EAAmC,KAAnC;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAtOM;AAuOP;AACA,sBAAkB,4BAAY;AAC5B,WAAK,WAAL,GAAmB,CAAnB;AACA,WAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,OAAO,UAAP,CAAkB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAlB,IAAqD,KAAK,aAApE,CAAlB;AACA,UAAI,KAAK,OAAL,IAAgB,IAApB,EAA0B;AACxB,aAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,OAAO,UAAP,CAAkB,KAAK,KAAvB,IAAgC,KAAK,aAA/C,CAAlB;AACA,aAAK,cAAL,CAAoB,KAAK,KAAzB;AACA,aAAK,KAAL,GAAa,OAAO,UAAP,CAAkB,KAAK,KAAvB,CAAb;AACD,OAJD,MAKK;AACH,aAAK,WAAL,CAAiB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAjB;AACA,aAAK,KAAL,GAAa,OAAO,UAAP,CAAkB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAlB,CAAb;AACD;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAK,QAAL,GAAgB,MAAM,UAAN,CAAiB,KAAK,UAAtB,CAAhB;;AAEA;AACA,WAAK,QAAL,GAAgB,MAAM,gBAAN,CAAuB,KAAK,UAA5B,EAAwC,KAAK,QAA7C,CAAhB;AACA,YAAM,WAAN,CAAkB,EAAlB;;AAEA,aAAO,EAAE,iBAAF,CAAP;AACA,WAAK,IAAL,CAAU,OAAV,EAAmB,IAAnB,CAAwB,SAAxB,EAAmC,KAAnC;AAED,KArQM;AAsQP,cAAU,oBAAY;AACpB,UAAI,KAAK,OAAT,EAAkB;AAChB,aAAK,QAAL,GAAgB,MAAM,QAAN,EAAhB;AACA,aAAK,OAAL,GAAe,MAAM,YAAN,CAAmB,KAAK,QAAL,CAAc,CAAd,CAAnB,CAAf;AACA,aAAK,eAAL;AACA,aAAK,OAAL,GAAe,IAAf;AACD;AACF,KA7QM;;AA+QP,cAAU,oBAAY;AACpB,WAAK,QAAL,GAAgB,MAAM,QAAN,EAAhB;AACA,WAAK,OAAL,GAAe,MAAM,YAAN,CAAmB,KAAK,QAAL,CAAc,CAAd,CAAnB,CAAf;AACA,WAAK,eAAL;AACD,KAnRM;;AAqRP,mBArRO,6BAqRU;AAAE;AACjB,WAAK,WAAL,GAAmB,KAAK,QAAL,CAAc,CAAd,CAAnB;AACA;AACA,UAAI,CAAC,KAAK,MAAV,EAAkB;AAChB,YAAI,KAAK,OAAL,IAAgB,IAApB,EACE,KAAK,cAAL,CAAoB,KAAK,KAAzB,EADF,KAGE,KAAK,WAAL,CAAiB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAjB;AACH,OALD,MAKO;AACL,aAAK,cAAL,CAAoB,KAAK,SAAzB;AACD;AACF,KAhSM;;AAiSP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAY,oBAAU,GAAV,EAAe;AACzB;AACA;AACA;;;AAGA,WAAK,WAAL,GAAmB,EAAE,GAAF,EAAO,IAAP,EAAnB;AACA,YAAM,UAAN,CAAiB,EAAE,GAAF,EAAO,IAAP,EAAjB;AACA,UAAI,CAAC,KAAK,MAAV,EAAkB;AAChB,YAAI,KAAK,OAAL,IAAgB,IAApB,EACE,KAAK,cAAL,CAAoB,KAAK,KAAzB,EADF,KAGE,KAAK,WAAL,CAAiB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAjB;AACH,OALD,MAKO;AACL,aAAK,cAAL,CAAoB,KAAK,SAAzB;AACD;AACD;AACA,WAAK,qBAAL;AACA,YAAM,WAAN,CAAkB,EAAlB;;AAEA;AACA;AACA;AAED,KAhUM;;AAkUP,oBAAgB,wBAAU,IAAV,EAAgB;AAC9B,WAAK,SAAL,GAAiB,EAAjB;AACA;AACA,YAAM,KAAK,WAAL,GAAmB,KAAK,aAA9B;AACA,UAAI,MAAM,OAAO,UAAP,CAAkB,IAAlB,CAAV,EAAmC;AACjC,cAAM,OAAO,UAAP,CAAkB,IAAlB,CAAN;AACD;AACD,WAAK,IAAI,CAAC,KAAK,WAAL,GAAmB,CAApB,IAAyB,KAAK,aAAvC,EAAsD,IAAI,GAA1D,EAA+D,GAA/D,EAAoE;AAClE,aAAK,SAAL,CAAe,IAAf,CAAoB,KAAK,CAAL,CAApB;AAED;AACD,WAAK,SAAL,GAAiB,eAAc,EAAd,EAAkB,KAAK,SAAvB,CAAjB;AACD,KA9UM;;AAgVP,iBAAa,qBAAU,IAAV,EAAgB;AAC3B,WAAK,SAAL,GAAiB,EAAjB;AACA;AACA,YAAM,KAAK,WAAL,GAAmB,KAAK,aAA9B;AACA,UAAI,MAAM,OAAO,UAAP,CAAkB,IAAlB,CAAV,EAAmC;AACjC,cAAM,OAAO,UAAP,CAAkB,IAAlB,CAAN;AACD;AACD,WAAK,IAAI,CAAC,KAAK,WAAL,GAAmB,CAApB,IAAyB,KAAK,aAAvC,EAAsD,IAAI,GAA1D,EAA+D,GAA/D,EAAoE;AAClE,aAAK,SAAL,CAAe,IAAf,CAAoB,EAAC,OAAO,KAAK,CAAL,CAAR,EAAiB,OAAO,KAAK,OAA7B,EAApB;AAED;AACD,WAAK,SAAL,GAAiB,eAAc,EAAd,EAAkB,KAAK,SAAvB,CAAjB;AAED,KA7VM;AA8VP,gBAAY,sBAAY;AACtB,QAAE,aAAF,EAAiB,IAAjB;AACA,QAAE,aAAF,EAAiB,IAAjB;AACA,YAAM,oBAAN;AACA,UAAI,QAAQ,IAAZ;AACA,QAAE,IAAF,CAAO,GAAP,EAAY,EAAC,KAAK,gBAAe,KAAK,YAApB,CAAN,EAAZ,EAAsD,UAAU,IAAV,EAAgB;AACpE,aAAK,CAAL,IAAU,KAAK,SAAL,CAAV,EAA2B;AACzB,gBAAM,YAAN,CAAmB,KAAK,SAAL,EAAgB,CAAhB,CAAnB,IAAyC,EAAzC;AACD;AACD,aAAK,CAAL,IAAU,KAAK,OAAL,CAAV,EAAyB;AACvB,gBAAM,YAAN,CAAmB,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAnB,EAA4C,IAA5C,CAAiD,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAjD;AACD;AACD,cAAM,gBAAN;AACA,UAAE,aAAF,EAAiB,IAAjB;AACA,UAAE,aAAF,EAAiB,IAAjB;AACA,eAAO,OAAP,CAAe,MAAf;;AAEA,UAAE,WAAF,EAAe,IAAf,CAAoB,SAApB,EAA+B,KAA/B;AACA,eAAO,EAAE,iBAAF,CAAP;AACA,aAAK,IAAL,CAAU,OAAV,EAAmB,IAAnB,CAAwB,SAAxB,EAAmC,KAAnC;AACA,aAAK,IAAL,CAAU,OAAV,EAAmB,MAAnB,GAA4B,MAA5B,GAAqC,WAArC,CAAiD,SAAjD;AACD,OAhBD;AAiBD,KApXM;;AAsXP,kBAAc,wBAAY;AACxB,UAAI,KAAK,cAAL,CAAoB,MAApB,GAA6B,CAAjC,EAAoC;AAClC,gBAAQ,KAAK,YAAL,EAAR;AACA,YAAI,CAAC,OAAO,OAAP,CAAe,OAAf,CAAL,EACE,OAAO,KAAP;AACF,UAAE,aAAF,EAAiB,IAAjB;AACA,UAAE,aAAF,EAAiB,IAAjB;AACA,cAAM,oBAAN;AACA,YAAI,QAAQ,IAAZ;AACA,UAAE,IAAF,CAAO,GAAP,EAAY,EAAC,KAAK,gBAAe,KAAf,CAAN,EAA6B,QAAQ,MAArC,EAAZ,EAA0D,UAAU,IAAV,EAAgB;AACxE,eAAK,CAAL,IAAU,KAAK,SAAL,CAAV,EAA2B;AACzB,kBAAM,YAAN,CAAmB,KAAK,SAAL,EAAgB,CAAhB,CAAnB,IAAyC,EAAzC;AACD;AACD,gBAAM,KAAN,GAAc,KAAK,OAAL,CAAd;AACA,eAAK,CAAL,IAAU,KAAK,OAAL,CAAV,EAAyB;AACrB,kBAAM,YAAN,CAAmB,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAnB,EAA4C,IAA5C,CAAiD,KAAK,OAAL,EAAc,CAAd,EAAiB,KAAjB,CAAjD;AACA,kBAAM,YAAN,GAAqB,eAAc,EAAd,EAAkB,MAAM,YAAxB,CAArB;AACH;AACD,gBAAM,gBAAN;AACA,gBAAM,WAAN,CAAkB,CAAlB;AACA,YAAE,aAAF,EAAiB,IAAjB;AACA,YAAE,aAAF,EAAiB,IAAjB;AACA,iBAAO,OAAP,CAAe,MAAf;;AAEA,YAAE,WAAF,EAAe,IAAf,CAAoB,SAApB,EAA+B,KAA/B;AACA,iBAAO,EAAE,iBAAF,CAAP;AACA,eAAK,IAAL,CAAU,OAAV,EAAmB,IAAnB,CAAwB,SAAxB,EAAmC,KAAnC;AACA,eAAK,IAAL,CAAU,OAAV,EAAmB,MAAnB,GAA4B,MAA5B,GAAqC,WAArC,CAAiD,SAAjD;AACD,SAnBD;AAoBD;AACF,KApZM;;AAsZP,mBAAe,uBAAU,KAAV,EAAiB;AAC9B,YAAM,MAAM,MAAZ;AACA,UAAI,EAAE,GAAF,EAAO,IAAP,CAAY,SAAZ,CAAJ,EAA4B;AAC1B,aAAK,IAAI,CAAT,EAAY,IAAI,KAAK,eAArB,EAAsC,GAAtC,EAA2C;AACzC,eAAK,cAAL,CAAoB,IAApB,CAAyB,IAAI,CAAC,KAAK,WAAL,GAAmB,CAApB,IAAyB,KAAK,eAA3D;AACD;AACF,OAJD,MAIO;AACL,aAAK,IAAI,CAAT,EAAY,IAAI,KAAK,eAArB,EAAsC,GAAtC,EAA2C;AACzC,iBAAO,aAAP,CAAqB,KAAK,cAA1B,EAA0C,IAAI,CAAC,KAAK,WAAL,GAAmB,CAApB,IAAyB,KAAK,eAA5E;AACD;AACF;AACD,aAAO,EAAE,iBAAF,CAAP;AACA,WAAK,IAAL,CAAU,OAAV,EAAmB,IAAnB,CAAwB,SAAxB,EAAmC,EAAE,GAAF,EAAO,IAAP,CAAY,SAAZ,CAAnC;AACA;AACA,UAAI,EAAE,GAAF,EAAO,IAAP,CAAY,SAAZ,CAAJ,EAA4B;AAC1B,aAAK,IAAL,CAAU,OAAV,EAAmB,MAAnB,GAA4B,MAA5B,GAAqC,QAArC,CAA8C,SAA9C;AACD,OAFD,MAEO;AACL,aAAK,IAAL,CAAU,OAAV,EAAmB,MAAnB,GAA4B,MAA5B,GAAqC,WAArC,CAAiD,SAAjD;AACD;AACF,KAzaM;;AA2aP,qBAAiB,yBAAU,KAAV,EAAiB,IAAjB,EAAuB,IAAvB,EAA6B;AAC5C,YAAM,MAAM,MAAZ;AACA,aAAO,EAAE,iBAAF,CAAP;AACA,aAAO,EAAE,iBAAF,CAAP;;AAEA,WAAK,EAAE,GAAF,EAAO,MAAP,GAAgB,MAAhB,GAAyB,IAAzB,CAA8B,IAA9B,CAAL;AACA,WAAK,SAAS,EAAT,IAAe,CAAC,KAAK,WAAL,GAAmB,CAApB,IAAyB,KAAK,aAAlD;AACA,UAAI,EAAE,GAAF,EAAO,MAAP,GAAgB,MAAhB,GAAyB,QAAzB,CAAkC,SAAlC,CAAJ,EAAkD;AAChD,eAAO,aAAP,CAAqB,KAAK,cAA1B,EAA0C,EAA1C;AACD,OAFD,MAGK;AACH,aAAK,cAAL,CAAoB,IAApB,CAAyB,EAAzB;AACD;AACD,QAAE,GAAF,EAAO,MAAP,GAAgB,MAAhB,GAAyB,WAAzB,CAAqC,SAArC;AACA;AAED,KA3bM;;AA6bX;AACI,uBAAmB,6BAAY;AAC7B,iBAAW,EAAX;AACA,QAAE,IAAF,CAAO,EAAE,0BAAF,CAAP,EAAsC,UAAU,CAAV,EAAa,IAAb,EAAmB;AACvD,YAAI,IAAI,CAAJ,KAAU,CAAd,EAAiB;AACf,mBAAS,IAAT,CAAc,EAAE,IAAF,EAAQ,MAAR,GAAiB,IAAjB,CAAsB,IAAtB,CAAd;AACD;AACF,OAJD;AAKA,aAAO,QAAP;AACD,KAtcM;;AAwcP,2BAAuB,iCAAY;AACjC;AACA,gBAAU,KAAK,cAAf;;AAEA,aAAO,EAAE,iBAAF,CAAP;AACA,UAAI,QAAQ,IAAZ;AACA,qBAAe,IAAf,CANiC,CAMb;AACpB,QAAE,IAAF,CAAO,IAAP,EAAa,UAAU,GAAV,EAAe,GAAf,EAAoB;AAAE;AACjC,eAAO,EAAE,GAAF,EAAO,IAAP,GAAc,IAAd,GAAqB,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAP;AACA,cAAM,MAAM,CAAC,MAAM,WAAN,GAAoB,CAArB,IAA0B,MAAM,eAA5C;AACA;;AAEA;AACA,YAAI,EAAE,GAAF,EAAO,IAAP,CAAY,OAAZ,EAAqB,EAArB,CAAwB,UAAxB,CAAJ,EAAyC;AACvC,YAAE,GAAF,EAAO,IAAP,CAAY,OAAZ,EAAqB,IAArB,CAA0B,SAA1B,EAAqC,KAArC;AACA,YAAE,GAAF,EAAO,WAAP,CAAmB,SAAnB;AACD;AACD,YAAI,OAAO,WAAP,CAAmB,MAAM,cAAzB,EAAyC,GAAzC,CAAJ,EAAmD;AAAE;AACnD,YAAE,GAAF,EAAO,IAAP,CAAY,OAAZ,EAAqB,IAArB,CAA0B,SAA1B,EAAqC,IAArC;AACA,YAAE,GAAF,EAAO,QAAP,CAAgB,SAAhB;AACD;AACD,uBAAe,EAAE,GAAF,EAAO,IAAP,CAAY,OAAZ,EAAqB,IAArB,CAA0B,SAA1B,IAAuC,YAAvC,GAAsD,KAArE;AACD,OAfD;AAgBA,QAAE,WAAF,EAAe,IAAf,CAAoB,SAApB,EAA+B,YAA/B;AACD,KAheM;;AAkeP,kBAAc,wBAAY;AACxB,UAAI,CAAC,KAAK,MAAV,EAAkB;AAChB,YAAI,KAAK,OAAL,IAAgB,IAApB,EACE,QAAQ,KAAK,KAAb,CADF,KAGE,QAAQ,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAR;AACH,OALD,MAKO;AACL,gBAAQ,KAAK,SAAb;AACD;;AAED,cAAQ,KAAK,cAAL,CAAoB,MAA5B;AACA,mBAAa,CAAb;AACA,kBAAY,EAAZ;AACA,WAAK,CAAL,IAAU,KAAV,EAAiB;;AAEf,YAAI,OAAO,WAAP,CAAmB,KAAK,cAAxB,EAAwC,CAAxC,CAAJ,EAAgD;AAC9C,gBAAM,EAAN;;AAEA,cAAI,KAAK,OAAL,IAAgB,IAAhB,IAAwB,CAAC,KAAK,MAAlC,EAA0C;AACxC,sBAAU,UAAV,IAAwB,MAAM,CAAN,CAAxB;AACD,WAFD,MAGK,IAAI,KAAK,MAAT,EAAiB;AACpB,sBAAU,UAAV,IAAwB,MAAM,CAAN,CAAxB;AACD,WAFI,MAGA;AACH,kBAAM,EAAN;AACA,gBAAI,KAAJ,IAAa,MAAM,CAAN,CAAb;AACA,gBAAI,KAAJ,IAAa,KAAK,OAAlB;AACA,sBAAU,UAAV,IAAwB,GAAxB;AACD;;AAED;AACA,cAAI,cAAc,KAAlB,EAAyB;AACvB,mBAAO,SAAP;AACD;AACF;AACF;AACD,aAAO,SAAP;AACD,KAxgBM;;AA0gBX;AACI,mBAAe,uBAAU,KAAV,EAAiB;AAC9B,YAAM,MAAM,MAAZ;AACA;AACA;AACA,WAAK,YAAL,CAAkB,EAAE,GAAF,EAAO,MAAP,GAAgB,IAAhB,GAAuB,IAAvB,EAAlB,IAAmD,EAAE,GAAF,EAAO,GAAP,EAAnD;AACA;AACA;AACD,KAlhBM;AAmhBP,cAAU,kBAAU,GAAV,EAAe;AACvB,aAAO,OAAO,aAAP,CAAqB,GAArB,CAAP;AACD;;AArhBM;AArDiB,CAAX,CAAjB","file":"origin_data-compiled.js","sourcesContent":["var Origindata = Vue.extend({\n  template: '#origindata',\n  props: ['id'],\n\n  data: function () {\n    return {\n      items: {}, //所有分词\n      cur_items: {}, //当前页的分词\n      items_by_sug: {}, //某个标注的分词 {中心词:[],部位:[],}\n      tmp_items: {},//查找的所有分词\n      is_tmp: false,\n      cur_sug: \"\", //查看的标注\n      all_sugs: [], //所有标注\n      selected_items: [], //选择的(要删除的)分词\n      updated_sugs: {}, //更新标注的 {sug:seg}\n      is_ok: 0, //上传数据是否都符合规范\n\n      total: 0, //选择分词的个数\n      total_page: 1, //当前分词总共多少页\n      start_page: 1,  //当前起始/终止的页数按钮(如1-10,11-20)\n      page_arr: [],\n      end_page: 0,\n      BUTTON_PER_PAGE: 10, //每页多少个页数按钮\n      ITEM_PER_PAGE: 10, //每页多少个分词\n      select_page: 1, //选择了第几页\n      is_prev: false,\n      is_next: true,\n\n      new_data: {}, //新增数据\n      old_data: {}, //覆盖的数据\n    }\n  },\n\n  created: function () {\n\n  },\n  beforeMount: function () {\n    this.init(this.$route.params.id)\n  },\n  mounted: function () {\n    $(\"#alert\").hide()\n    vpage.updateStyle(1)\n  },\n  watch: { //默认Vue只在第一次加载初始化，watch用于检测Vue实例的数据是否发生了变化，变化后触发事件\n    '$route'(to, from){\n      //跳转的路径（to）\n      db = to.path.split(\"/\")[to.path.split(\"/\").length - 1]\n      this.init(db)\n    }\n  },\n  components: {\n    pg: Page,\n  },\n  methods: {\n    init: function (db) {\n      var url = \"/get_origin_data/\";\n      var _self = this;\n      // var timeout = setTimeout(function () {\n      //     alert(\"连接超时\")\n      //   },\n      //   5000 //超时时间\n      // );\n      $(\"#floatLayer\").show()\n      $(\"#liadloging\").show()\n\n      $.ajax({\n        type: \"post\",\n        url: url,\n        async: false,\n        data: {db: db},\n        success: function (data) {\n          // if (timeout) { //清除定时器\n          //   clearTimeout(timeout);\n          //   timeout = null;\n          // }\n\n          _self.items = data[\"items\"]\n          _self.all_sugs = data[\"all_sug\"]\n          _self.cur_sug = \"所有\"\n\n          vpage.setPageCount(data['page_count'])\n          _self.ITEM_PER_PAGE = data['page_count']\n\n          for (i in data[\"all_sug\"]) {\n            _self.items_by_sug[data[\"all_sug\"][i]] = []\n\n          }\n\n          for (i in data[\"items\"]) {\n            try { //有时手动修改数据导致标注在标注列表中不存在，这样会报错\n              _self.items_by_sug[data[\"items\"][i][\"sug\"]].push(data[\"items\"][i][\"seg\"])\n            } catch (error) {\n              console.log(\"sug not exist\",data[\"items\"][i][\"seg\"])\n            }\n          }\n\n          _self.changePageButton()\n\n          $(\"#floatLayer\").hide()\n          $(\"#liadloging\").hide()\n        }\n      })\n    },\n    refreshItem: function () {\n      this.select_page = 1\n      this.total_page = Math.ceil(vutils.jsonLength(this.items_by_sug[this.cur_sug]) / this.ITEM_PER_PAGE)\n      // this.updateItems(this.items_by_sug[this.cur_sug])\n      this.updateItemsAll(this.items)\n      this.total = vutils.jsonLength(this.items_by_sug[this.cur_sug])\n      this.start_page = 1\n      this.end_page = vpage.getEndPage(this.total_page)\n      this.page_arr = vpage.updatePageButton(this.start_page, this.end_page)\n\n    },\n    checkFile: function () { //检查上传的数据是否有不规范的\n      var formData = new FormData();\n      formData.append(\"myfile\", document.getElementById(\"targetFile\").files[0]);\n\n      var _self = this\n      $.ajax({\n        url: \"/check_file/\",\n        type: \"POST\",\n        data: formData,\n        contentType: false,\n        processData: false,\n        success: function (data) {\n          $(\"#floatLayer\").hide()\n          $(\"#liadloging\").hide()\n          _self.old_data = data\n          if (data[\"error\"].length == 0 && vutils.isEmptyObject(data[\"duplicate\"]) && data[\"types\"].length == 0) {\n            _self.is_ok = 1\n          }\n\n        }\n      })\n    },\n    uploadNewfile: function () {\n      $(\"#floatLayer\").show()\n      $(\"#liadloging\").show()\n      selected_type = \"\"\n\n      // var formData = new FormData();\n      // formData.append(\"myfile\", document.getElementById(\"targetFile\").files[0]);\n      if ($(\"#is_cover_cbk\").prop(\"checked\")) {\n        checked = 1\n      } else {\n        checked = 0\n      }\n\n      var _self = this\n      $.ajax({\n        url: \"/upload_data_file/\",\n        type: \"POST\",\n        data: {checked: checked},\n        success: function (data) {\n          $(\"#floatLayer\").hide()\n          $(\"#liadloging\").hide()\n          _self.old_data = data\n\n          $('#myModal').modal('hide');\n          toastr.success(\"上传成功\");\n\n          _self.items = data[\"items\"]\n          _self.all_sugs = data[\"all_sug\"]\n          _self.cur_sug = _self.all_sugs[0]\n\n          for (i in data[\"all_sug\"]) {\n            _self.items_by_sug[data[\"all_sug\"][i]] = []\n\n          }\n\n          for (i in data[\"items\"]) {\n            _self.items_by_sug[data[\"items\"][i][\"sug\"]].push(data[\"items\"][i][\"seg\"])\n          }\n\n          _self.refreshItem()\n        }\n      })\n    },\n    searchItem: function () {\n      searchText = $(this.$refs.searchTxt).val().trim()\n\n      $(\"#floatLayer\").show()\n      $(\"#liadloging\").show()\n\n      var url = \"/search_item/\";\n      var _self = this\n      $.post(url, {msg: searchText, type: _self.cur_sug}, function (data) {\n        data = eval(data)\n        _self.tmp_items = []\n\n        for (k in data) {\n          for (i in _self.items) {\n            if (data[k] == _self.items[i][\"seg\"]) {\n              _self.tmp_items.push(_self.items[i])\n            }\n          }\n        }\n        _self.is_tmp = true\n\n        _self.total = vutils.jsonLength(_self.tmp_items)\n        _self.total_page = Math.ceil(vutils.jsonLength(_self.tmp_items) / _self.ITEM_PER_PAGE)\n\n        _self.end_page = vpage.getEndPage(_self.total_page)\n\n        // _self.start_page = 1\n        // _self.end_page = _self.BUTTON_PER_PAGE\n        // if (_self.total_page < _self.BUTTON_PER_PAGE) {\n        //   _self.end_page = _self.total_page\n        // }\n\n        _self.cur_items = []\n        end = _self.total > _self.ITEM_PER_PAGE ? _self.ITEM_PER_PAGE : _self.total\n        for (i = 0; i < end; i++) {\n          _self.cur_items.push(_self.tmp_items[i])\n        }\n        _self.cur_items = Object.assign({}, _self.cur_items)\n        _self.page_arr = vpage.updatePageButton(_self.start_page, _self.end_page)\n        // _self.refreshItem()\n        vpage.updateStyle(1)\n\n        $(\"#floatLayer\").hide()\n        $(\"#liadloging\").hide()\n      })\n    },\n    combineSegSug: function (seg, sug, index) {\n      return seg + \"-\" + sug[index]\n    },\n    rewriteData: function () {\n      var _self = this\n      new_data = []\n      for (var seg in this.old_data[\"duplicate\"]) {\n        new_data.push([seg, this.old_data[\"duplicate\"][seg][1]])\n      }\n      $.ajax({\n        type: \"post\",\n        url: \"/update_duplicate_data/\",\n        data: {\n          msg: JSON.stringify(new_data)\n        }, success: function () {\n          $(\"#alert\").hide()\n          toastr.success(\"上传成功\");\n        }\n      })\n    },\n    cancel: function () {\n      $(\"#alert\").hide()\n    },\n    changeType: function (event) {\n      this.selected_items = []\n      a = event.target\n      this.is_tmp = false\n      this.cur_sug = $(a).text().trim()\n\n      this.changePageButton()\n    },\n    changePageButton: function () {\n      this.start_page = 1\n      this.select_page = 1\n      if (this.cur_sug == \"所有\") {\n        this.total_page = Math.ceil(vutils.jsonLength(this.items) / this.ITEM_PER_PAGE)\n        this.updateItemsAll(this.items)\n        this.total = vutils.jsonLength(this.items)\n      }\n      else {\n        this.total_page = Math.ceil(vutils.jsonLength(this.items_by_sug[this.cur_sug]) / this.ITEM_PER_PAGE)\n        this.updateItems(this.items_by_sug[this.cur_sug])\n        this.total = vutils.jsonLength(this.items_by_sug[this.cur_sug])\n      }\n      this.end_page = vpage.getEndPage(this.total_page)\n\n      this.page_arr = vpage.updatePageButton(this.start_page, this.end_page)\n      vpage.updateStyle(1)\n\n      //切换分类，取消选中checkbox\n      $tbr = $('#table tbody tr')\n      $tbr.find('input').prop('checked', false);\n      /*并调整所有选中行的CSS样式*/\n      // if ($(obj).prop('checked')) {\n      //   $tbr.find('input').parent().parent().addClass('warning');\n      // } else {\n      //   $tbr.find('input').parent().parent().removeClass('warning');\n      // }\n    },\n    // 切换标注类型,更新数据\n    updateDataByType: function () {\n      this.select_page = 1\n      this.total_page = Math.ceil(vutils.jsonLength(this.items_by_sug[this.cur_sug]) / this.ITEM_PER_PAGE)\n      if (this.cur_sug == \"所有\") {\n        this.total_page = Math.ceil(vutils.jsonLength(this.items) / this.ITEM_PER_PAGE)\n        this.updateItemsAll(this.items)\n        this.total = vutils.jsonLength(this.items)\n      }\n      else {\n        this.updateItems(this.items_by_sug[this.cur_sug])\n        this.total = vutils.jsonLength(this.items_by_sug[this.cur_sug])\n      }\n      // this.updateItems(this.items_by_sug[this.cur_sug])\n      // this.total = vutils.jsonLength(this.items_by_sug[this.cur_sug])\n\n      // this.start_page = 1\n      // this.end_page = this.BUTTON_PER_PAGE\n      // if (this.total_page < this.BUTTON_PER_PAGE) {\n      //   this.end_page = this.total_page\n      // }\n      this.end_page = vpage.getEndPage(this.total_page)\n\n      // this.updatePageButton()\n      this.page_arr = vpage.updatePageButton(this.start_page, this.end_page)\n      vpage.updateStyle(\"\")\n\n      $tbr = $('#table tbody tr')\n      $tbr.find('input').prop('checked', false);\n\n    },\n    prevPage: function () {\n      if (this.is_prev) {\n        this.page_arr = vpage.prevPage()\n        this.is_prev = vpage.isPrevEnable(this.page_arr[0])\n        this.updatePageItems()\n        this.is_next = true\n      }\n    }\n    ,\n    nextPage: function () {\n      this.page_arr = vpage.nextPage()\n      this.is_prev = vpage.isPrevEnable(this.page_arr[0])\n      this.updatePageItems()\n    }\n    ,\n    updatePageItems(){ //翻页后更新第一页的内容\n      this.select_page = this.page_arr[0]\n      // this.updateItems(this.items_by_sug[this.cur_sug])\n      if (!this.is_tmp) {\n        if (this.cur_sug == \"所有\")\n          this.updateItemsAll(this.items)\n        else\n          this.updateItems(this.items_by_sug[this.cur_sug])\n      } else {\n        this.updateItemsAll(this.tmp_items)\n      }\n    },\n    // updatePageButton: function () {\n    //   this.page_arr = []\n    //   for (i = this.start_page; i <= this.end_page; i++) {\n    //     this.page_arr.push(i)\n    //   }\n    // }\n    // ,\n    changePage: function (tar) {\n      // this.select_page = $(a).text()\n      // $(a).parent().addClass(\"active\")\n      // //从select中选取\n\n\n      this.select_page = $(tar).text()\n      vpage.changePage($(tar).text())\n      if (!this.is_tmp) {\n        if (this.cur_sug == \"所有\")\n          this.updateItemsAll(this.items)\n        else\n          this.updateItems(this.items_by_sug[this.cur_sug])\n      } else {\n        this.updateItemsAll(this.tmp_items)\n      }\n      // this.updateItems(this.items_by_sug[this.cur_sug])\n      this.update_selected_items()\n      vpage.updateStyle(\"\")\n\n      //$checkAll = $thr.find('input')\n      ///*如果已经被选中行的行数等于表格的数据行数，将全选框设为选中状态，否则设为未选中状态*/\n      //$checkAll.prop('checked', $tbr.find('input:checked').length == $tbr.length ? true : false);\n\n    }\n    ,\n    updateItemsAll: function (item) {\n      this.cur_items = []\n      //当前分词数小于每页的个数,取分词数\n      end = this.select_page * this.ITEM_PER_PAGE\n      if (end > vutils.jsonLength(item)) {\n        end = vutils.jsonLength(item)\n      }\n      for (i = (this.select_page - 1) * this.ITEM_PER_PAGE; i < end; i++) {\n        this.cur_items.push(item[i])\n\n      }\n      this.cur_items = Object.assign({}, this.cur_items)\n    }\n    ,\n    updateItems: function (item) {\n      this.cur_items = []\n      //当前分词数小于每页的个数,取分词数\n      end = this.select_page * this.ITEM_PER_PAGE\n      if (end > vutils.jsonLength(item)) {\n        end = vutils.jsonLength(item)\n      }\n      for (i = (this.select_page - 1) * this.ITEM_PER_PAGE; i < end; i++) {\n        this.cur_items.push({\"seg\": item[i], \"sug\": this.cur_sug})\n\n      }\n      this.cur_items = Object.assign({}, this.cur_items)\n\n    },\n    save_items: function () {\n      $(\"#floatLayer\").show()\n      $(\"#liadloging\").show()\n      url = \"/update_segs_sugs/\"\n      var _self = this\n      $.post(url, {msg: JSON.stringify(this.updated_sugs)}, function (data) {\n        for (i in data[\"all_sug\"]) {\n          _self.items_by_sug[data[\"all_sug\"][i]] = []\n        }\n        for (i in data[\"items\"]) {\n          _self.items_by_sug[data[\"items\"][i][\"sug\"]].push(data[\"items\"][i][\"seg\"])\n        }\n        _self.updateDataByType()\n        $(\"#floatLayer\").hide()\n        $(\"#liadloging\").hide()\n        toastr.success(\"更新成功\");\n\n        $(\"#checkAll\").prop('checked', false)\n        $tbr = $('#table tbody tr')\n        $tbr.find('input').prop('checked', false);\n        $tbr.find('input').parent().parent().removeClass('warning');\n      })\n    }\n    ,\n    delete_items: function () {\n      if (this.selected_items.length > 0) {\n        items = this.update_items()\n        if (!window.confirm(\"确认删除?\"))\n          return false\n        $(\"#floatLayer\").show()\n        $(\"#liadloging\").show()\n        url = \"/delete_segs_sugs/\"\n        var _self = this\n        $.post(url, {msg: JSON.stringify(items), source: \"现有文件\"}, function (data) {\n          for (i in data[\"all_sug\"]) {\n            _self.items_by_sug[data[\"all_sug\"][i]] = []\n          }\n          _self.items = data[\"items\"]\n          for (i in data[\"items\"]) {\n              _self.items_by_sug[data[\"items\"][i][\"sug\"]].push(data[\"items\"][i][\"seg\"])\n              _self.items_by_sug = Object.assign({}, _self.items_by_sug)\n          }\n          _self.updateDataByType()\n          vpage.updateStyle(1)\n          $(\"#floatLayer\").hide()\n          $(\"#liadloging\").hide()\n          toastr.success(\"删除成功\");\n\n          $(\"#checkAll\").prop('checked', false)\n          $tbr = $('#table tbody tr')\n          $tbr.find('input').prop('checked', false);\n          $tbr.find('input').parent().parent().removeClass('warning');\n        })\n      }\n    }\n    ,\n    checkAllTable: function (event) {\n      obj = event.target\n      if ($(obj).prop('checked')) {\n        for (i = 0; i < this.BUTTON_PER_PAGE; i++) {\n          this.selected_items.push(i + (this.select_page - 1) * this.BUTTON_PER_PAGE)\n        }\n      } else {\n        for (i = 0; i < this.BUTTON_PER_PAGE; i++) {\n          vutils.removeByValue(this.selected_items, i + (this.select_page - 1) * this.BUTTON_PER_PAGE)\n        }\n      }\n      $tbr = $('#table tbody tr')\n      $tbr.find('input').prop('checked', $(obj).prop('checked'));\n      /*并调整所有选中行的CSS样式*/\n      if ($(obj).prop('checked')) {\n        $tbr.find('input').parent().parent().addClass('warning');\n      } else {\n        $tbr.find('input').parent().parent().removeClass('warning');\n      }\n    }\n    ,\n    selectItemTable: function (event, $thr, $tbr) {\n      obj = event.target\n      $thr = $('#table thead tr')\n      $tbr = $('#table tbody tr')\n\n      id = $(obj).parent().parent().attr(\"id\")\n      id = parseInt(id) + (this.select_page - 1) * this.ITEM_PER_PAGE\n      if ($(obj).parent().parent().hasClass('warning')) {\n        vutils.removeByValue(this.selected_items, id)\n      }\n      else {\n        this.selected_items.push(id)\n      }\n      $(obj).parent().parent().toggleClass('warning')\n      // console.log(this.selected_items)\n\n    }\n    ,\n//上一页选中的id\n    get_seleted_items: function () {\n      contents = []\n      $.each($(\"#table tbody .warning td\"), function (i, item) {\n        if (i % 3 === 1) {\n          contents.push($(item).parent().attr(\"id\"))\n        }\n      })\n      return contents\n    }\n    ,\n    update_selected_items: function () {\n      //换页后,将上一页选中的添加到selected_item里\n      s_items = this.selected_items\n\n      $tbr = $('#table tbody tr')\n      var _self = this\n      is_check_all = true //是否全选\n      $.each($tbr, function (idx, obj) { //此时obj是上一页内容,这里只是获取checkbox,跟内容无关\n        item = $(obj).next().text().split(\" \")[1]\n        idx = idx + (_self.select_page - 1) * _self.BUTTON_PER_PAGE\n        //console.log(idx, _self.selected_items)\n\n        // 上一页此节点选中,但是这一页对应的没有选过,去掉check\n        if ($(obj).find('input').is(':checked')) {\n          $(obj).find('input').prop(\"checked\", false)\n          $(obj).removeClass('warning');\n        }\n        if (vutils.has_element(_self.selected_items, idx)) { //这个节点的内容已经选过,添加check\n          $(obj).find('input').prop(\"checked\", true)\n          $(obj).addClass('warning');\n        }\n        is_check_all = $(obj).find('input').prop(\"checked\") ? is_check_all : false\n      })\n      $(\"#checkAll\").prop('checked', is_check_all);\n    },\n\n    update_items: function () {\n      if (!this.is_tmp) {\n        if (this.cur_sug == \"所有\")\n          items = this.items\n        else\n          items = this.items_by_sug[this.cur_sug]\n      } else {\n        items = this.tmp_items\n      }\n\n      count = this.selected_items.length\n      find_count = 0\n      find_segs = {}\n      for (k in items) {\n\n        if (vutils.has_element(this.selected_items, k)) {\n          tmp = {}\n\n          if (this.cur_sug == \"所有\" && !this.is_tmp) {\n            find_segs[find_count] = items[k]\n          }\n          else if (this.is_tmp) {\n            find_segs[find_count] = items[k]\n          }\n          else {\n            tmp = {}\n            tmp[\"seg\"] = items[k]\n            tmp[\"sug\"] = this.cur_sug\n            find_segs[find_count] = tmp\n          }\n\n          find_count++\n          if (find_count == count) {\n            return find_segs\n          }\n        }\n      }\n      return find_segs\n    }\n    ,\n//修改标注类型\n    update_option: function (event) {\n      obj = event.target\n      //console.log($(obj).parent().prev().text())\n      //if ($(obj).val() != this.cur_sug) {\n      this.updated_sugs[$(obj).parent().prev().text()] = $(obj).val()\n      //}\n      //console.log(this.updated_sugs)\n    },\n    is_empty: function (obj) {\n      return vutils.isEmptyObject(obj)\n    }\n\n  }\n})\n\n"]}